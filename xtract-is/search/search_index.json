{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Xtract IS HelpCenter","text":"&lt; Welcome to Xtract IS! &gt;  <p>Xtract IS is a powerful SAP plug-in for SQL Server Integration Services to extract mass data. Learn how to use Xtract IS by browsing our user documentation, knowledge base and more.</p>"},{"location":"#latest-news","title":"Latest News","text":"<ul> <li> <p> How to Parse Reports</p> <p>Need to handle reports that contain multiple data sets? Our Knowledge Base Article: Parse Reports shows you how to parse reports and combine multiple data sets when running extractions. </p> <p> 2024-12-18</p> </li> <li> <p>New Features for Report Extractions</p> <p>The new features include: parsing header rows as columns, improved header detection and skip row feature, as well as some UI changes for a better user experience. For more information, see Report: Define Rows.</p> <p> 2024-12-16</p> </li> <li> <p>End of support for Z_XTRACT_IS_TABLE_COMPRESSION</p> <p>The custom function module <code>Z_XTRACT_IS_TABLE_COMPRESSION</code> will reach end of support on 12/31/2024. Please refer to <code>/THEO/READ_TABLE</code> as its official successor.</p> <p> 2024-12-02</p> </li> </ul> <p> Show more</p> <p></p>"},{"location":"#additional-resources","title":"Additional Resources","text":"<p>Product Information</p><p>Visit our official Xtract IS website to take a look at the advantages Xtract IS offers, a list of FAQs and more.</p> <p>Success Stories</p><p>Get to know real customer scenarios with Xtract IS by reading one of our success stories.</p> <p>Blog</p><p>Discover exciting articles and helpful tips about SAP data and cloud integration, SAP process automation and more.</p> <p>Events &amp; Webinars</p><p>Find out about upcoming events and Webinars. Join our live webinars and experience interactive communication or visit our SAP experts live at an event.</p> <p>Technical Newsletter</p><p>Our technical newsletter informs you once a month about new features, releases, breaking changes and articles.</p> <p>Feedback Form</p><p>We are constantly striving to improve our products and would love to get your feedback. Our feedback form is very short, just write down what you want us to know .</p>"},{"location":"changelog/","title":"ChangeLog","text":"<p> This section contains a version history for Xtract IS.</p>"},{"location":"changelog/#recommended-update-interval","title":"Recommended Update Interval","text":"<p>We recommend checking for updates at least every three months. </p> <p> Download the latest version</p>"},{"location":"getting-started/","title":"Getting Started","text":"<p> This section shows how to install and set up Xtract IS for the first time. </p>","tags":["quickstart","quick start"]},{"location":"getting-started/#installation","title":"Installation","text":"<ol> <li>Download a 30 day trial version of Xtract IS or download the latest version from the customer portal.</li> <li>Make sure you meet all prerequisites, before installing Xtract IS.</li> <li>Run the Xtract IS executable (XtractISSetup.exe) to install Xtract IS. For information on system requirements, see Requirements.</li> <li>Open Visual Studio and create a Visual Studio Integration Services project. The Xtract IS components are available in the SSIS toolbox of a Data Flow Task.</li> </ol> <p>Note</p> <p>If the Xtract IS components are not displayed in the SSIS toolbox,  check if the deployment target version of the SSIS project matches the version of the installed SQL Server Data Tools (SSDT), see Xtract IS Components in Visual Studio.</p> <p>For more information, see Setup.</p>","tags":["quickstart","quick start"]},{"location":"getting-started/#connect-to-sap","title":"Connect to SAP","text":"<p>Before connecting to SAP for the first time, set up an SAP dialog user with the necessary SAP user rights.</p> <ol> <li>Create a new connection manager by right-clicking within the \u201cSolution Explorer\u201d area and selecting New Connection Manager in the context menu.  The window \u201cAdd SSIS Connection Manager\u201d opens. </li> <li>Select the XTRACT Connection Manager from the list of available connection managers and click [Add...].  The XTRACT Connection Manager is now available in the connection managers area.</li> <li>Double-click the XTRACT Connection Manager. The window \"XTRACT Connection Manager\" opens. </li> <li>Enter the system details of your SAP system and enter the SAP username and password of an SAP system or dialogue user. Input values for the SAP connection can be found in the Properties of the SAP Logon Pad or they can be requested from the SAP Basis team.</li> <li>Click [Test connection] to validate the connection parameters. </li> <li>Click [OK] to save the XTRACT Connection Manager.</li> </ol> <p>For more information, see SAP Connection.</p>","tags":["quickstart","quick start"]},{"location":"getting-started/#use-xtract-components-in-data-flow-tasks","title":"Use Xtract Components in Data Flow Tasks","text":"<p>Follow the steps below to add an Xtract component to your data flow task:</p> <ol> <li>Set up a Data Flow Task by dragging the dataflow component into the \"Control Flow\" canvas.  Double-click the dataflow component to open the dataflow canvas.</li> <li>Make sure that at least one XTRACT Connection Manager is available in the data flow task.</li> <li>Drag &amp; drop an Xtract component from the SSIS toolbox into the data flow task: </li> <li>Double-click the Xtract component. An XTRACT Connection Manager is automatically assigned and the main window of the component opens.  The majority of the functions of the component can be accessed in the main window.</li> </ol> <p>Xtract IS offers the following components:</p> Component Type Description   Xtract BAPI Transformation Execute BAPIs and Function Modules.   Xtract BWCube Source Extract data from SAP BW InfoCubes and BEx Queries.   Xtract BWLoader Destination Load data into SAP BW systems.   Xtract Hierarchy Source Extract Hierarchies from an SAP BW / BI system.   Xtract DeltaQ Source Extract data from DataSources (OLTP) and extractors from ERP and ECC systems.   Xtract ODP Source Extract data via the SAP Operational Data Provisioning (ODP) framework.   Xtract OHS Source Extract data from InfoSpokes and OHS destinations.   Xtract Query Source Extract data from ERP queries. Note: BEx queries are covered by the Xtract BWCube component.  Xtract Report Source Extract data from SAP ABAP reports.   Xtract Table Source Extract data from SAP tables and views.   Xtract TableCDC Source Extract delta data from SAP tables and views.","tags":["quickstart","quick start"]},{"location":"getting-started/#a-simple-sap-data-extraction-for-beginners","title":"A Simple SAP Data Extraction for Beginners","text":"<p>Follow the steps below to extract customer master data from the SAP table KNA1:</p> <ol> <li>Drag &amp; drop an Xtract Table component from the SSIS toolbox into the data flow task.</li> <li>Double-click the Xtract Table component.  An XTRACT Connection Manager is automatically assigned and the main window of the component opens. </li> <li>Click [Add] to look up an SAP table. The window \u201cTable Lookup\u201d opens. </li> <li>In the field Table Name, enter the name of the table to extract (KNA1)  . Use wildcards (*) if needed. </li> <li>Click [ ] . Search results are displayed.</li> <li>Select the table KNA1   and click [OK]. The application returns to the main window of the component.</li> <li>Optional: Select the table columns you want to extract. By default all columns are extracted.  For more information on filter options and advanced settings, see, Define the Xtract Table Component</li> <li>Click [Load live preview] to display a live preview of the first 100 records.</li> <li>Click [OK] to save the component.</li> </ol> <p>You can now add tools to process the data returned by Xtract Table and run the SSIS package.</p>","tags":["quickstart","quick start"]},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p> This section contains a list of troubleshooting articles that show you how to solve common errors.</p>","tags":["Time Limit Exceeded"],"boost":2},{"location":"troubleshooting/#general","title":"General","text":"<ul> <li>How to activate tracing in Xtract IS</li> <li>Required Support Information for Xtract IS</li> </ul>","tags":["Time Limit Exceeded"],"boost":2},{"location":"troubleshooting/#sap-troubleshooting","title":"SAP - Troubleshooting","text":"<ul> <li>Allow external access to BW Queries</li> <li>Authority Check Trace</li> <li>DeltaQ Customizing - PORT_CREATION_ERROR</li> <li>ERROR service \u201a?\u2018 unknown or service sapms unknown</li> <li>Error: Theobald.Extractors.Table.TheoReadTableException: The parser produced the error</li> <li>Error while retrieving metadata for BAPI</li> <li>LIST_FROM_MEMORY_NOT_FOUND</li> <li>MDX parser does not start</li> <li>Missing SAP authority rights for data replication.</li> <li>No more storage space available for extending an internal table</li> <li>Non-Unicode destinations are not supported by SAP</li> <li>OPTION_NOT_VALID running table extractions error after an SAP Update</li> <li>(RFC_ABAP_RUNTIME_FAILURE): ASSIGN_BASE_WRONG_ALIGNMENT - Error in ASSIGN assignment in program SAPLSDTX</li> <li>RFC_ERROR_SYSTEM_FAILURE - A table or alias name in the FROM clause is not unique</li> <li>RFC_ERROR_SYSTEM_FAILURE - Illegal access to the right table of a LEFT OUTER JOIN.</li> <li>SAP Query Metadata/result mismatch</li> <li>Search for new Tables and/or Table extractions are empty</li> <li>SM59 RFC - Connection Test fails</li> <li>Theobald.Extractors.Table.TheoReadTableException: Waiting for package to be written to shared memory has timed out.</li> <li>When running a report a CNTL_ERROR exception is raised</li> <li>Wrong program type for SUBMIT</li> <li>Xtract Report - Screen output without connection to user</li> <li>Xtract SAP Query - DATA_TO_MEMORY_NOT_POSSIBLE</li> <li>Xtract Table - RFC_ERROR_SYSTEM_FAILURE - An error has occurred while parsing a dynamic entry</li> <li>Xtract Table - Time Limit Exceeded</li> </ul>","tags":["Time Limit Exceeded"],"boost":2},{"location":"troubleshooting/#xtract-is-troubleshooting","title":"Xtract IS - Troubleshooting","text":"<ul> <li>Background Extraction Job in SAP does not stop when stopping the extraction in SSIS</li> <li>ERPConnect.InvalidParameterException: The following properties have invalid values: Password</li> <li>The RPC server is unavailable - Exception from HRESULT: 0x800706BA</li> </ul>","tags":["Time Limit Exceeded"],"boost":2},{"location":"troubleshooting/#deltaq-troubleshooting","title":"DeltaQ - Troubleshooting","text":"<ul> <li>Customizing check fails for reasons unrelated to missing authority objects</li> <li>DataSource error ISOURCE_NOT_EXIST or GENERATION_ERROR</li> <li>ERPConnect.CommunicationException: RfcListenAndDispatch failed ( RFC_SERIALIZATION_FAILURE )</li> <li>Error after SAP system upgrade</li> <li>Error in Data Selection</li> <li>Error when opening an RFC connection - CM_ALLOCATE_FAILURE_RETRY</li> <li>Error when opening an RFC connection - IDOC_INBOUND_ASYNCHRONOUS and RSAR_TRFC_DATA_RECEIVED</li> <li>Initialization requirements have not been completed</li> <li>Not Authorized for XXX</li> <li>No job found in SAP</li> <li>Output contains crippled characters, e.g., non-latin characters</li> <li>SM59 RFC - Connection Test fails</li> <li>SSIS Package Connection Manager with parallel DeltaQ extractions</li> <li>Timeout \"No progress for n seconds, but data is not complete yet.\"</li> </ul>","tags":["Time Limit Exceeded"],"boost":2},{"location":"xtract-is-for-azure/","title":"Xtract IS for Azure","text":"<p> This section shows how to set up Xtract IS on an Azure SSIS Integration Runtime environment.</p>"},{"location":"xtract-is-for-azure/#about-xtract-is-for-azure","title":"About Xtract IS for Azure","text":"<p>SSIS packages that contain Xtract IS components can be run on an Azure SSIS Integration Runtime (IR). Instead of deploying the developed packages to an on-prem SSIS server, the packages are deployed to an Azure SSIS-IR to be scheduled and run in the Azure cloud. In this scenario Xtract IS is licensed per Azure SSIS-IR using the Azure SSIS-IR Cluster ID. This license model is distributed as \"Xtract IS for Azure\".</p> <p>How it works:</p> <ul> <li> <p> Development of SSIS Packages</p> <ul> <li>Install Xtract IS on an on-prem Visual Studio/SSDT environment, see Xtract IS - Installation.</li> <li>Develop SSIS packages with Xtract IS and deploy them to an Azure SSIS-IR.</li> </ul> </li> <li> <p> Running SSIS Packages</p> <ul> <li>Install Xtract IS on an Azure SSIS-IR, see Install Xtract IS For Azure.</li> <li>Schedule and run the deployed SSIS packages in the Azure cloud.</li> </ul> </li> </ul>"},{"location":"xtract-is-for-azure/#prerequisites","title":"Prerequisites","text":"<ul> <li>Azure-SSIS Integration Runtime (IR), based on Microsoft's Azure Data Factory v2 (ADFv2)</li> <li>The SAP system needs to be accessible from the Azure SSIS-IR, e.g., through a VPN tunnel or a self-hosted Integration Runtime (SHIR), see Microsoft Documentation: Configure a self-hosted IR as a proxy for an Azure SSIS-IR in Azure Data Factory. </li> <li>When creating the SSIS packages, make sure to use the correct SQL Server Data Tools (SSDT) for your SQL Server Integration Services (SSIS) version, see Microsoft Documentation: Download SQL Server Data Tools (SSDT) for Visual Studio for details.</li> </ul>"},{"location":"xtract-is-for-azure/#setup-an-azure-ssis-ir-environment","title":"Setup an Azure SSIS-IR Environment","text":"<p>Refer to the Microsoft documentation to set up the Azure-SSIS Integration Runtime environment:</p> <ul> <li>Provision the Azure-SSIS Integration Runtime in Azure Data Factory with Azure portal UI </li> <li>Provision the Azure-SSIS Integration Runtime in Azure Data Factory with PowerShell</li> </ul> <p>Once the environment runs, develop a simple SSIS package that does NOT contain any Xtract IS  components and deploy and run the package on the Azure SSIS-IR. If the SSIS package runs is successfully, proceed to set up Xtract IS for Azure on the Azure SSIS-IR. </p> <p>Note</p> <p>By default Azure automatically updates the Microsoft integration runtime.  To avoid possible compatibility issues with Xtract IS for Azure, disable automatic updates.</p>"},{"location":"xtract-is-for-azure/#install-xtract-is-for-azure","title":"Install Xtract IS for Azure","text":"<p>Follow the steps below to create an Azure Storage container for Xtract IS and add the container to an Azure SSIS-IR:</p> <ol> <li>Follow the instructions in the Microsoft Documentation: Standard Custom Setup to set up 3rd party extensibility for Azure SSIS-IR.  Only the part of the Azure storage container setup and the creation of a Shared Access Signature is relevant.</li> <li> <p>Copy the following files provided in the customer portal into the Azure storage container:</p> <ul> <li>XtractISSetup.exe</li> <li>main.cmd</li> <li>XtractISLicense.json (license file provided after purchasing Xtract IS for Azure)</li> </ul> <p></p> </li> <li> <p>Add Azure Storage Container to SSIS-IR:</p> <ul> <li>When provisioning the Azure SSIS-IR via the Azure Portal UI, enter the Azure Storage container's SAS URI in the Custom setup container SAS URI field.  </li> <li>When provisioning the Azure SSIS-IR via PowerShell populate the parameter <code>-SetupScriptContainerSasUri</code> with the Azure Storage container's SAS URI.</li> </ul> </li> <li>Start the Integration Runtime.  During the startup of the Integration Runtime the main.cmd is executed, which triggers an unattended installation of Xtract IS for Azure on the SSIS-IR.</li> </ol> <p>The startup process of the Azure SSIS-IR might take up to 20 minutes.</p> <p>Recommendation</p> <p>A regular update of the software is crucial for stable performance. Check the changelog for updates.  A newer version can be installed over the older version.</p>"},{"location":"xtract-is-for-azure/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base Article: Determine the Azure SSIS-IR Cluster ID</li> <li>Knowledge Base Article: Execute SSIS Packages between Cloud Data Stores and a Private Network Data Storage</li> </ul>"},{"location":"documentation/about-this-documentation/","title":"About this Documentation","text":"<p>The user documentation of Theobald Software is designed to introduce readers to the main functions of Xtract IS.</p> <p>Theobald Software's claim is to keep the user documentation up to date according to the latest product version.  Information concerning the older version is removed gradually from the documentation content.  It is generally recommended to always install the latest version of the product.</p> <p>Theobald Software's claim is to always update all the used screenshots of other software vendors, nevertheless this cannot be guaranteed. </p> <p>\u00a92024 Theobald Software GmbH. All rights reserved.</p>","boost":0.5},{"location":"documentation/about-this-documentation/#target-group-and-audience","title":"Target group and audience","text":"<p>This documentation is created for all users of Xtract IS.  The user documentation offers an overview of the interface, of the navigation and of the basic information to the users who never or rarely worked with the product.  Experienced users can find more detailed information on more complex topics and use the user documentation for reference.</p> <p>Reading the \"Getting Started\" section is the prerequisite for working with the product.  The documentation can also be useful during the evaluation phase. </p>","boost":0.5},{"location":"documentation/about-this-documentation/#typographical-conventions","title":"Typographical conventions","text":"Convention Used for marking: Example bold &amp; square brackets Buttons [Edit] bold URL buttons Subscriptions bold Fields within a window, tab names Name italics Input values MATNR italics Drop-down menu options TextAndCode","boost":0.5},{"location":"documentation/about-this-documentation/#notes-and-warning-messages","title":"Notes and warning messages","text":"<p>There are three main types of warning messages with the corresponding colors.</p> Signal word Color Severity and meaning Note Blue Additional information Warning Yellow Information that is important for executing an error free procedure Tip Green Tips Recommendation Green Theobald Software recommendations and best practices advice <p>Warning Messages comply with EN 82079 and formulated according the SAFE-method that is derived from German. The SAFE method is a procedure for systematically designing safety instructions. The severity of the danger as well as the source of the danger. </p> <p>\"SAFE\" stands for:</p> <p>Schwere der Gefahr (Signalwort) Art und Quelle der Gefahr Folgen bei Missachtung der Gefahr Entkommen (Ma\u00dfnahmen zur Abwehr der Gefahr)</p> <p>Translation:  Severity of the danger (Signal word) Type and source of the danger Consequences of disregarding the danger Escape (measures to avert the danger)</p> <p>Example:</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - No more storage space available for extending an internal table To avoid a memory overflow on the SAP source system and to avoid huge overheads, choose a package size that suits your memory capacity.</p> <p>Note</p> <p>The corresponding SQL command is generated dynamically and executed on the SAP server.</p>","boost":0.5},{"location":"documentation/introduction/","title":"Introduction to Xtract IS","text":"<p> This section contains user documentation for Xtract IS. </p> <p>Find more information on how to use and navigate through the user documentation in the section \"About this Documentation\". </p>"},{"location":"documentation/introduction/#about-xtract-is","title":"About Xtract IS","text":"<p>Xtract IS is a plug-in for the SQL Server Integration Services (SSIS). Xtract IS allows extracting data from SAP systems and writing data to SAP systems.</p> <p></p>"},{"location":"documentation/introduction/#xtract-components","title":"Xtract Components","text":"<p>Xtract IS offers the following components to cover a wide range of data extraction scenarios.</p> <p>Xtract BAPI</p><p>Execute BAPIs and Function Modules.  type: transformation ECC S4/HANA BW BW/4HANA</p> <p>Xtract BWCube</p><p>Extract data from SAP BW InfoCubes and BEx Queries. type: sourceBW BW/4HANA</p> <p>Xtract BWLoader</p><p>Load data into SAP BW systems.  type: destination BW BW/4HANA</p> <p>Xtract Hierarchy</p><p>Extract Hierarchies from an SAP BW / BI system.  type: source BW BW/4HANA</p> <p>Xtract DeltaQ</p><p>Extract data from DataSources (OLTP) and extractors from ERP and ECC systems.type: sourceECC S4/HANA BW BW/4HANA</p> <p>Xtract ODP</p><p>Extract data via the SAP Operational Data Provisioning (ODP) framework. type: sourceECC S4/HANA BW BW/4HANA</p> <p>Xtract OHS</p><p>Extract data from InfoSpokes and OHS destinations. type: sourceBW BW/4HANA</p> <p>Xtract Query</p><p>Extract data from ERP queries. BEx queries are covered by Xtract BWCube. type: sourceECC S4/HANA</p> <p>Xtract Report</p><p>Extract data from SAP ABAP reports. type: sourceECC S4/HANA</p> <p>Xtract Table</p><p>Extract data from SAP tables and views.  type: sourceECC S4/HANA BW BW/4HANA</p> <p>Xtract TableCDC</p><p>Extract delta data from SAP tables. type: sourceECC S4/HANA BW BW/4HANA</p>"},{"location":"documentation/bapi/","title":"Xtract BAPI","text":"<p>This page shows how to use the Xtract BAPI component. The Xtract BAPI component can be used to parameterize and execute SAP function modules and BAPIs for automation.</p>"},{"location":"documentation/bapi/#about-function-modules-bapis","title":"About Function Modules / BAPIs","text":"<p>Function modules are procedures that encapsulate and reuse global functions in the SAP system.  SAP systems contain several predefined functions modules that can be called from any ABAP program.  A Business Application Programming Interface (BAPI) is a remote function module that can access business data and processes of an SAP system from different systems.</p>"},{"location":"documentation/bapi/#custom-bapis","title":"Custom BAPIs","text":"<p>The use of custom BAPIs (Z function modules) is possible. Issues specific to Z function modules are not included in the scope of support provided by Theobald Software.</p>"},{"location":"documentation/bapi/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract BAPI component, access to the designated authority objects (RFC) in SAP must be available.  Adjust SAP Authority Objects: BAPI accordingly.</p>"},{"location":"documentation/bapi/#add-an-xtract-bapi-component","title":"Add an Xtract BAPI Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract BAPI component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/bapi/#look-up-a-function-module-bapi","title":"Look up a Function Module / BAPI","text":"<ol> <li>In the main window of the component, click [ ] to look up a Function Module / BAPI.  The window \"Function Module Lookup\" opens. </li> <li>In the window \"Function Module Lookup\" enter the name of the function module or BAPI  . Use wildcards (*) if needed. </li> <li>Click [ ] . Search results are displayed.</li> <li>Select a Function Module / BAPI   and click [OK]. </li> </ol> <p>The application returns to the main window of the component.</p>"},{"location":"documentation/bapi/#define-the-xtract-bapi-component","title":"Define the Xtract BAPI Component","text":"<p>The Xtract BAPI component offers the following options for defining parameters of a Function Module / BAPI:</p> <ol> <li>Add input parameters (data you want to send to SAP) in Imports, see Import Parameters. You can enter scalar values   or structures  . </li> <li>Add output parameters (data you want to receive from SAP) in Exports, see Export Parameters. Select output by activating the checkbox next to the items. </li> <li>Optional: If available, define input and output parameters in Changings, see Changings Parameters.</li> <li> <p>Add tables to the output of the component or add table parameters to the input of the component in Tables, see Table Parameters.</p> <ul> <li>Click [ ] to check the names and data types of the table fields  .</li> <li>Activate the checkbox in the output column to add items to the output  .</li> <li>Click [ ] to edit the content of the table  .</li> </ul> <p></p> </li> <li> <p>Optional: If available, define which exceptions thrown by the Function Module / BAPI are ignored during runtime, see Exceptions.</p> </li> <li> <p>Click [OK] to save the component.</p> </li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/bapi/#custom-properties-of-xtract-bapi","title":"Custom Properties of Xtract BAPI","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract BAPI component are displayed in the \"Properties\" window.</p> <p></p>"},{"location":"documentation/bapi/#commit-transaction","title":"Commit Transaction","text":"<p>Some SAP Function Modules require calling the function module BAPI_TRANSACTION_COMMIT to successfully update data in the database, e.g., BAI_PO_CREATE.  To automatically call BAPI_TRANSACTION_COMMIT after the selected Function Module / BAPI is processed, aset this option to true.</p>"},{"location":"documentation/bapi/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base Article: Write CATS Data to SAP</li> <li>Knowledge Base Article: Write Product Data to SAP</li> </ul>"},{"location":"documentation/bapi/change-connection-manager/","title":"Change Connection Manager","text":"<p>This page shows how to change the XTRACT Connection Manager that is assigned to an Xtract BAPI component.</p>"},{"location":"documentation/bapi/change-connection-manager/#about-xtract-connection-managers-in-xtract-bapi","title":"About XTRACT Connection Managers in Xtract BAPI","text":"<p>An XTRACT connection Manager is automatically assigned or selected when you open the main window of the Xtract BAPI component for the first time, see Assign Connection Managers to Xtract Components. Connection managers are usually changed in the Advanced Editor of a component. Because the Xtract BAPI component does not have an Advanced Editor, it is not possible to change the connection manager outside of the component.</p>"},{"location":"documentation/bapi/change-connection-manager/#change-the-xtract-connection-manager","title":"Change the XTRACT Connection Manager","text":"<p>Follow the steps below to change the connnection manager of an Xtract BAPI component:</p> <ol> <li>In the main window of the Xtract BAPI component, click Change Connection Manager.  This option is only available when there is more than one defined XTRACT Connection Manager. The window \"Select Connection Manager\" opens. </li> <li>Select a Connection Manager from the drop-down-menu. </li> <li>Click [OK] to confirm your selection.</li> </ol> <p>The selected XTRACT connection manager is now assigned to the Xtract BAPI component.</p>"},{"location":"documentation/bapi/input-and-output/","title":"Define Input & Output","text":"<p>This page contains an overview and description of the Import, Export, Changings and Tables parameter in the Xtract BAPI component.</p> <p>Each Import, Export, Changings and Tables parameter can have one of the following representations:</p> <ul> <li>A scalar field (e.g., characters, date, time, number, amount etc.).</li> <li>A structure consisting of several components.</li> <li>A table (tabular array of data) consisting of columns (data values of the same type) and rows (data records).</li> </ul>"},{"location":"documentation/bapi/input-and-output/#import-parameters","title":"Import Parameters","text":"<p>Import parameters represent the input values sent from the client to SAP.  In the tab Imports you can define import parameters that can be presented as scalar values   or structures  . </p> <p></p> <p>To use the filtering function, enter text in the headers of the columns Name and Description. </p>"},{"location":"documentation/bapi/input-and-output/#scalar-parameters","title":"Scalar Parameters","text":"<p>Assign single values to an import parameter by using one of the following options:</p> <ul> <li>If the input field is empty, enter a static value.</li> <li>If a checkbox is displayed in the input field, the parameter is predefined in SAP. The value in SAP is displayed in a light gray font. To disable the predefined value, activate the checkbox and leave the field empty or enter a new value.</li> <li>If [ ] is displayed in the input field, enter a static value.  Click [ ] to switch between static values and dynamic values that are set at runtime.</li> <li>If [ ] is displayed in the input field, select an SSIS variable / parameter. This option is only available if the project contains SSIS variables. Click [ ] to switch between dynamic values and static values.</li> </ul> <p>When using SSIS variables, make sure the data type of the input matches the data type in SAP. </p>"},{"location":"documentation/bapi/input-and-output/#structure-parameters","title":"Structure Parameters","text":"<p>When a Function Module / BAPI uses structures as import parameters, you can assign structure elements (i.e. fields) similarly to single scalar fields.  Setting a single value or a parameter for the whole structure is not possible. </p> <ol> <li>Click [ ]. The window \"Edit Structures\" opens.</li> <li>Enter static values ( [ ] icon or no icon) or assign SSIS variables ( [ ] icon). </li> </ol> <p>Tip</p> <p>It is possible to use tables as input parameters, see Tables Parameters.</p>"},{"location":"documentation/bapi/input-and-output/#export-parameters","title":"Export Parameters","text":"<p>Export parameters represent the output values sent from SAP back to the client after the execution of a Function Module. In the tab Export you can select the items you want to add to the output of the component.</p>"},{"location":"documentation/bapi/input-and-output/#add-items-to-output","title":"Add Items to Output","text":"<p>Mark the checkbox in the output column to add an item to the output of the component.</p> <p></p> <p>To use the filtering function, enter text in the headers of the columns Name and Description. </p> <p>Tip</p> <p>It is possible to use tables as output parameters, see Add Tables to Output.</p>"},{"location":"documentation/bapi/input-and-output/#changing-parameters","title":"Changing Parameters","text":"<p>Changing parameters represent parameters that can be used for input and output.  In the tab Changings you can define the changing parameters.</p>"},{"location":"documentation/bapi/input-and-output/#table-parameters","title":"Table Parameters","text":"<p>Table parameters are parameters presented in a table structure consisting of multiple rows. Tables can be used for input and output. In the tab Tables you can define table parameters for importing and exporting data into and from an SAP Function Module or BAPI.</p> <p>Tables represent a structure of multiple rows of the same data type.</p> <p>To use the filtering function, enter text in the headers of the columns Name and Description.</p> <p>Note</p> <p>Only 5 tables are available for parallel exporting.</p> <ul> <li>Click [ ] to check the names and data types of the table fields  .</li> <li>Activate the checkbox in the output column to add items to the output  .</li> <li>Click [ ] to edit tables  .</li> </ul> <p></p>"},{"location":"documentation/bapi/input-and-output/#access-metadata-of-tables","title":"Access Metadata of Tables","text":"<p>Click [ ] to display the metadata of a table. The metadata includes the name and the data type of all fields.   After the function module was edited in SAP, refresh the metadata by clicking Refresh metadata </p>"},{"location":"documentation/bapi/input-and-output/#add-tables-to-output","title":"Add Tables to Output","text":"<p>Mark the checkbox in the output column to add a table to the output. </p>"},{"location":"documentation/bapi/input-and-output/#edit-tables","title":"Edit Tables","text":"<p>You can assign tables elements (i.e. fields) similarly to single scalar fields: </p> <ol> <li>Click [ ]. The window \"Edit Table Contents\" opens. </li> <li>Click [Add] to add new set of parameters.</li> <li>Enter values or SSIS variables. When using SSIS variables, make sure the data type of the input matches the SAP data type. </li> <li>Click [Remove] to delete a row.</li> </ol>"},{"location":"documentation/bapi/input-and-output/#map-input-tables","title":"Map Input Tables","text":"<p>When connecting tables to the Xtract BAPI component, a data mapping is executed automatically.  To correctly map the data, the following requirements apply:</p> <p></p> <ul> <li>The column names of the input table must be the same as in the Xtract BAPI component.</li> <li>The data types in the input table must be the same as in the Xtract BAPI component. Click [ ] next to a table to look up column names and data types in the Xtract BAPI component.</li> </ul> <p>Tip</p> <p>If the column names and / or datatypes of the input table and the Xtract BAPI table do not match, add a Derived Column component to convert the input data.</p>"},{"location":"documentation/bapi/input-and-output/#exceptions","title":"Exceptions","text":"<p>Exceptions refer to ABAP exceptions / errors messages of an SAP BAPI. If an exception occurs during runtime, Xtract IS returns a corresponding error message.</p> <p>By default, all exceptions result in errors when running the Xtract BAPI component. To ignore exceptions during runtime, deselect the exceptions in the Exceptions tab.</p> <p></p>"},{"location":"documentation/bwcube/","title":"Xtract BW Cube","text":"<p>This page shows how to use the Xtract BWCube component. The Xtract BWCube component can be used to extract MDX or BICS data directly from BW InfoProviders (e.g., Cubes) or from BW Queries.  The BW Queries can be based on InfoProviders.</p>"},{"location":"documentation/bwcube/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> <li>To extract a BW Query, the attribute Allow External Access to this Query of the Query must be active in the BEx Query Designer or the BW Modeling Tool, see Troubleshooting Article: Allow external access to BW Queries. </li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract BWCube component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects: BW Query / BW Cube accordingly.</p>"},{"location":"documentation/bwcube/#add-an-xtract-bw-cube-component","title":"Add an Xtract BW Cube Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract BW Cube component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/bwcube/#look-up-a-bw-cube-or-query","title":"Look Up a BW Cube or Query","text":"<p>By default, the Xtract BWCube component extracts data using the MDX interface. To use BEX mode or to enter MDX statements, change the settings before the looking up a BW Cube or Query.</p> <ol> <li>In the main window of the component, click the search botton. The window \u201cCube and Query Lookup\u201d opens. </li> <li>Select the type of cube you want to extract data from (Info Cube or Query)  . </li> <li>In the search bar, enter the name of a Query or a BW Cube / InfoProvider  . Use wildcards (*), if needed.</li> <li>Click the search button. Search results are displayed.</li> <li>Select a Query or BW Cube / InfoProvider   and click [OK] to confirm.</li> </ol> <p>The application now returns to the main window of the component.</p> <p>Note</p> <p>Click Refresh Metadata to renew metadata.  This is necessary if a data source has been adjusted in SAP, another source system has been connected, or the source system has been updated.</p> <p>Warning</p> <p>Invalid action A BW Query must have the attribute Allow External Access to this Query switched on in the BEx Query Designer or the BW Modeling Tool to appear in the list. For additional details see the Troubleshooting Article: Allow external access to BW Queries. </p>"},{"location":"documentation/bwcube/#define-the-xtract-bwcube-component","title":"Define the Xtract BWCube  Component","text":"<p>The Xtract BWCube component offers the following options for Query and BW Cube extractions:</p> <ol> <li> <p>In the tree structure of the component, double-click the measure (key figures)   you want to extract. </p> <p>Tip</p> <p>The tree structure represents the metadata of the Query (or InfoProvider).  The first directory contains all the measures (key figures)  .  The following directories correspond to dimensions and often contain additional dimension properties  . </p> </li> <li> <p>Within the key figures directory, click the arrow to display the available units. Select a unit, if needed.</p> </li> <li>In the following directories, select the dimensions and properties you want to extract  .</li> <li>Optional: Click the Filter option next to a dimension to add filters  , see Dimension Filters.</li> <li>Optional: If a BW Query has a defined variable, click Variables  to edit the variable or provide input values, see Variables.</li> <li>Click [Preview] to display a live preview of the data.  For every selected dimension or property, a key figure and a unit is displayed in the result. </li> <li>Check the Settings before running the SSIS package.</li> <li>Click [OK] to save the component.</li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/bwcube/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract BWCube component using SSIS variables directly in the component and by using SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/bwcube/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables store values that an SQL Server Integration Services package and its containers, tasks, and event handlers can use at runtime. The following settings in the Xtract BWCube component allow entry of an SSIS variable:</p> <ul> <li>BEx variables: for BEx variables of type Multiple Single, enter a single SSIS variable, set a delimiter for custom property DelimiterForMultipleSSISVariableValues and enter multiple single values in the SSIS variable separated by the delimiter.</li> <li>Dimension Filters: the SSIS variable can be filled with multiple single entries separated by comma.</li> <li>MDXVariable: enter an SSIS variable and fill the SSIS variable with the complete MDX statement.</li> </ul>"},{"location":"documentation/bwcube/parameterization/#use-ssis-variables-with-notation","title":"Use SSIS Variables with @-Notation","text":"<p>To use SSIS variables in input fields of the component, place an @ symbol before the variable name. </p> <ol> <li>Choose an input field that supports SSIS variables.</li> <li>Instead of entering a fixed a value, enter a variable name using the @-notation, e.g., @vDate.</li> <li>Create a new SSIS variable with the same name, but without the @ symbol, e.g., vDate.</li> <li>Make sure to select the correct data type.</li> </ol> <p>You can now use the SSIS variable to set dynamic input values for the input field. </p>"},{"location":"documentation/bwcube/parameterization/#custom-properties-of-xtract-bwcube","title":"Custom Properties of Xtract BWCube","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract BWCube component are displayed in the \"Properties\" window. </p> <p></p>"},{"location":"documentation/bwcube/parameterization/#cubename","title":"CubeName","text":"<p>Corresponds to the setting Cube Name in the Xtract BWCube component.</p>"},{"location":"documentation/bwcube/parameterization/#delimiterformultiplessisvariablevalues","title":"DelimiterForMultipleSSISVariableValues","text":"<p>Delimiter for multiple input variables, see Parameterization using SSIS Variables.</p>"},{"location":"documentation/bwcube/parameterization/#ignoremdxerrors","title":"IgnoreMDXErrors","text":"<p>If set to true, MDX errors do not lead to SSIS errors.</p>"},{"location":"documentation/bwcube/parameterization/#mdxvariable","title":"MDXVariable","text":"<p>Enter an SSIS variable in the MDX textbox and fill the SSIS variable with the complete MDX statement, see Parameterization using SSIS Variables. </p>"},{"location":"documentation/bwcube/parameterization/#stringconversion","title":"StringConversion","text":"<p>Corresponds to the seeting String Conversion. </p>"},{"location":"documentation/bwcube/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Microsoft Documentation: Integration Services (SSIS) Variables</li> </ul>"},{"location":"documentation/bwcube/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract BW Cube component.  To open the settings, click Settings in the main window of the component. </p> <p></p>"},{"location":"documentation/bwcube/settings/#string-conversion","title":"String Conversion","text":""},{"location":"documentation/bwcube/settings/#automatic-string-conversion","title":"Automatic String Conversion","text":"<p>All strings are converted into VarChar strings if the source system is non-Unicode, and all strings are converted into NVarChar if the source system is Unicode.</p>"},{"location":"documentation/bwcube/settings/#convert-strings-to-varchar","title":"Convert Strings to VarChar","text":"<p>All strings are converted to VarChar regardless if the source system is Unicode or not.</p>"},{"location":"documentation/bwcube/settings/#convert-strings-to-nvarchar","title":"Convert Strings to NVarChar","text":"<p>All strings are converted to NVarChar regardless if the source system is Unicode or not</p>"},{"location":"documentation/bwcube/settings/#extraction-type","title":"Extraction Type","text":""},{"location":"documentation/bwcube/settings/#regular","title":"Regular","text":"<p>Extracts the data using the MDX interface.</p>"},{"location":"documentation/bwcube/settings/#bex","title":"BEX","text":"<p>This option has to be used in case of BEx Queries with rows containing structures.  In this case the query will be delivered with the same output (structure and data) as in the BEx analyzer.  There are no options to change the selection of the dimension or the key figures.</p> <p>Using the BEX Extraction mode you can even extract a Query View. After selecting the BEx query, set the query view name in the field Query View.</p> Option Description Fill Empty Cells Fills the empty cells of the dimension accordingly. Eliminate Result Lines Removes the result row (e.g. sum). <p></p>"},{"location":"documentation/bwcube/settings/#mdx","title":"MDX","text":"<p>If this option is active, the main window of the component provides a text field where you can directly insert an MDX statement. After inserting the MDX statement, click [Execute MDX and Refresh Metadata] to load the metadata from the BW system. Variables can be used either for the whole MDX statement or within the MDX statement.</p> <p></p>"},{"location":"documentation/bwcube/settings/#use-new-olap-bapis","title":"Use new OLAP BAPIs","text":"<p>Those BAPIs will be used by default if they are available on the BW system to remove the 1,000,000 cell restriction.  It requires the following version of the SAP Netweaver BI:</p> <ul> <li>version 7.01 SP2 or higher (7.0 with ehp1 and support package 2 or later)</li> <li>version 7.11 with support package 00 or higher (SAPKW71100)</li> </ul>"},{"location":"documentation/bwcube/settings/#decimal-separator-deprecated","title":"Decimal Separator (deprecated)","text":"<p>If the packaging is enabled (Package Size &gt; 0) the component has to find out the correct decimal place conversion for the current SAP user.  In case of security reasons you can declare a decimal separator so the component will not look for the settings and use the defined separator.  Normally you will use a dot (.) or a comma (,).</p>"},{"location":"documentation/bwcube/settings/#misc","title":"Misc","text":""},{"location":"documentation/bwcube/settings/#do-not-tread-axis-has-no-rows-as-error","title":"Do not tread \u2018Axis has no rows\u2019 as Error","text":"<p>Defines whether an error message is given when there is no data to be selected.</p>"},{"location":"documentation/bwcube/settings/#use-description-for-pipeline","title":"Use Description for Pipeline","text":"<p>Defines that the name of the pipeline element is given by the column description and not by the technical name.</p>"},{"location":"documentation/bwcube/settings/#user-formatted-values","title":"User Formatted Values","text":"<p>Defines that the value of the key data will be extracted as defined in the query designer (e.g. scaling factor and decimal places).  Debug Details Creates an detailed output of the single steps in the SSIS-protocol.</p>"},{"location":"documentation/bwcube/settings/#debug-details","title":"Debug Details","text":"<p>Generates more detailed log entries to enable easier error detection.</p>"},{"location":"documentation/bwcube/settings/#measure-unit-in-resultset","title":"Measure Unit in Resultset","text":"<p>Displays the units of the key figures.</p>"},{"location":"documentation/bwcube/settings/#package-size","title":"Package Size","text":"<p>The extracted data is split into packages of the defined size. The default value is 50000 lines. A package size between 20000 and 50000 is advisable for large amounts of data. 0 means no packaging.  Not using packaging can lead to an RFC timeout for large data extractions.</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - No more storage space available for extending an internal table To avoid a memory overflow on the SAP source system and to avoid huge overheads, choose a package size that suits your memory capacity.</p>"},{"location":"documentation/bwcube/settings/#automatic-slicing-dimension","title":"Automatic Slicing Dimension","text":"<p>This option sets a dimension for an automatic slicing.  Slicing is the act of picking a subset of a cube by choosing a single value for one of its dimensions.  Automatic slicing means that a loop is executed for each single value of the chosen slicing dimension (characteristic) to extract the result from BW.</p> <p>Automatic Slicing Dimension allows the extraction of a large amount of data (millions of records) from BW.</p>"},{"location":"documentation/bwcube/settings/#legacy-metadata-retrieval","title":"Legacy metadata retrieval","text":"<p>This is for BWCube extractions that were created with Xtract IS version 2.5.17 or smaller.  If you need to refresh the BW Cube\u2019s metadata please check this flag first.  This is necessary as the metadata retrieval has changed after 2.5.17 which does especially affect BEx Queries which contain two structures.</p>"},{"location":"documentation/bwcube/variables-and-filters/","title":"Variables and Filters","text":"<p>This page shows how to use variables and dimension filters to filter the data that is extracted with the Xtract BWCube component. There are two options for filtering:</p> <ul> <li>Variables are usually defined in SAP to create filter options for BW Queries. They can be edited in the Xtract BWCube component.</li> <li>Dimension Filters are defined in the Xtract BWCube component to filter data from InfoProviders or BW Queries that do not have variables.</li> </ul>"},{"location":"documentation/bwcube/variables-and-filters/#edit-variables","title":"Edit Variables","text":"<p>BW queries often have defined variables to create filter options.  Depending on the type of BEx variable (single value, multiple value, interval or complex selection) input fields of the variables are enabled or disabled.</p> <p>In the main window of the component, click Variables. The window \"Edit BW Query Cube Variables\" opens. Variables can be edited and entered using the variable editor shown below. </p> <p></p>"},{"location":"documentation/bwcube/variables-and-filters/#complex-selections","title":"Complex Selections","text":"<p>If the query variable represents a complex selection, click Edit to open an additional menu. </p>"},{"location":"documentation/bwcube/variables-and-filters/#static-values","title":"Static Values","text":"<p>Enter values directly into the input fields.</p>"},{"location":"documentation/bwcube/variables-and-filters/#pre-defined-values","title":"Pre-Defined Values","text":"<p>Click an empty button next to an input field to open a list of values that are defined in SAP. Select a pre-defined value.</p>"},{"location":"documentation/bwcube/variables-and-filters/#ssis-variables","title":"SSIS Variables","text":"<p>The use of SSIS variables is supported.  To use SSIS variables in input fields of the component, place an @ symbol before the variable name, e.g., @vDate for a variable vDate. For more information, see Use SSIS Variables with @-Notation.</p>"},{"location":"documentation/bwcube/variables-and-filters/#set-dimension-filters","title":"Set Dimension Filters","text":"<p>Each dimension of a BEx Query or an InfoCube offers the possibility to set a filter to execute the MDX statement in BW using the selected filter values.</p> <p>In the main window of the component, click Filter next to a selected dimension. The window \"Member Filter\" opens. </p> <p></p>"},{"location":"documentation/bwcube/variables-and-filters/#pre-defined-values_1","title":"Pre-Defined Values","text":"<p>The window \"Member Filter\" displays a list of values that are defined in SAP. You can select pre-defined values to filter the result</p>"},{"location":"documentation/bwcube/variables-and-filters/#define-a-variable-for-the-filter-values","title":"Define a Variable for the Filter Values","text":"<ol> <li>Write the variable name into the field Variable, e.g., <code>CompanyCode</code>. </li> <li>When you execute the extraction, set the value, e.g., <code>CompanyCode=1000</code>. To pass multiple values, use comma as seperator, e.g., <code>CompanyCode=1000,2000</code>.</li> </ol>"},{"location":"documentation/bwcube/variables-and-filters/#exclude-values-from-the-result-set","title":"Exclude Values from the Result Set","text":"<p>Activate Exclude Values from Resultset to exclude the filter values from the result set.</p> <p>Note</p> <p>Dimensions with a hierarchy are supported.</p>"},{"location":"documentation/bwloader/","title":"Xtract BW Loader","text":"<p>This page shows how to use the Xtract BWLoader component. Unlike the other components, the Xtract BWLoader component is a data destination, not a data source. </p>"},{"location":"documentation/bwloader/#add-an-xtract-bw-loader-component","title":"Add an Xtract BW Loader Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract BW Loader component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/bwloader/#prerequisites","title":"Prerequisites","text":"<p>For the Xtract BWLoader component to deliver data correctly, an InfoPackage is required. Create the following InfoPackage in the SAP BW system:</p> <ul> <li>Create a new source system of the type 3rd party / Staging BAPIs. The Xtract BWLoader component requires the program ID of the source. </li> <li>When using a 3.x data flow, you can assign the source system to the InfoSource and create an InfoPackage.</li> <li>When using a 7.x data flow, create a DataSource for the newly created 3rd party source system and create an InfoPackage. Xtract BWLoader loads data to the PSA of the DataSource. </li> </ul> <p>For more information on how to create data imports in SAP BW, refer to the SAP Documentation.</p>"},{"location":"documentation/bwloader/#look-up-an-infopackage","title":"Look up an InfoPackage","text":"<ol> <li>In the main window of the component, click the search botton. The window \u201cLook Up InfoPackage\u201d opens.  </li> <li>Look up the name of an InfoPackage, an Info Source or a Source System  . Use wildcards (*) if needed. </li> <li>Click the search button. Search results are displayed.</li> <li>Select an item from the list   and click [OK] to confirm.</li> </ol> <p>The lookup finds InfoPackages based on either 3.x or 7.x DataSources.</p>"},{"location":"documentation/bwloader/#define-the-xtract-bwloader-component","title":"Define the Xtract BWLoader Component","text":"<ol> <li> <p>In the main window of the component enter values for the following fields or use the search button to look up available RFC Destinations: </p> Input Field Description Gateway Host the network address of your BW system. Gateway Service usually \"sapgwXX\" (substitute XX with your system number). Program ID is the Program ID that is defined in the BW SourceSystem. </li> <li> <p>Click [OK] to save your input.</p> </li> <li>Pass input data to the input pipeline of the Xtract BWLoader component.</li> <li>Open the main window of the Xtract BWLoader component component.</li> <li>Map each element of the pipeline to one element of the transfer structure. </li> <li>Check the settings before running the SSIS package.</li> <li>Click [OK] to save your input.</li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/bwloader/#load-data-into-sap-bw","title":"Load Data into SAP BW","text":"<p>There are two options on how data can be loaded into SAP BW.</p> <ol> <li>The InfoPackage that initiates the data load is triggered from SSIS.</li> <li>The InfoPackage is started from within SAP.</li> </ol> <p>For the second scenario there are two options:</p> <ul> <li> <p>Option 1</p> <p>Set the setting No InfoPackage start (Only wait) to true. In this case the SSIS package must be started and running.  Then you can start the InfoPackage in BW manually or by scheduler and the process in SSIS will continue.</p> </li> <li> <p>Option 2</p> <p>Use the BI Notification Receiver. The BI Notification Receiver enables triggering multiple SSIS packages from BW without having to run the SSIS packages all the time.  This application registers itself to BW as an external system and waits for notification. </p> </li> </ul>"},{"location":"documentation/bwloader/example-scenario/","title":"Example Scenario","text":"<p>In the previous chapters data targets (InfoObjects, InfoSource, InfoPackages) are modeled in the BW system.  The Xtract BWLoader component offers the possibility of creating all necessary objects right from within the editor.</p> <p>You can find the BWLoaderSampleDB.sql file in the installation directory, e.g., C:\\Program Files\\XtracIS.  This file contains all necessary SQL commands needed to create and fill in the tables used in the following examples in a test database.</p>"},{"location":"documentation/bwloader/example-scenario/#master-data-transfer","title":"Master Data Transfer","text":"<p>In this first example, the goal is to create and fill in a master data InfoObject. </p> <ol> <li>Set up a new data flow and create an OleDB source that reads the product table. </li> <li>Link the pipeline with a BW Loader target (after setting up the connection manager to SAP): </li> <li>Open the editor of the BW Loader. Click the New button for the InfoSource. </li> <li>Select Master Data in the following dialog window. A dialogue window opens in which an InfoSource can be set up. </li> <li>Click the Create New InfoObject button. </li> <li>Enter the name of the InfoObject (ZPROD) and click the CHAR data type (with a length of 20).  In addition, short and long texts are to be filled here later, which are depending on the language, and the InfoObject will have master data: </li> <li>The color attribute has to be added to the ZPROD InfoObject. The color attribute can be newly created by clicking the Create New Attribute button.  The screenshot below shows the ZCOLOR InfoObject to be created; it has no master data, but allows lower case characters (see above right). </li> <li>Save and activate the ZPROD InfoObject. The program returns to our original InfoSource setup. </li> <li>Edit the InfoSource according to the screenshot.  </li> <li>Save and activate the InfoSource. Apart from creating an InfoSource, transfer rules for the selected source system are also created here.</li> <li>Create an InfoPackage in the main template with the Create New InfoPackage button. The InfoPackage is based on the previously created InfoSource. </li> <li>Define the technical access parameters for the source system and mapping of the pipeline elements to the InfoPackage's transfer structure.  The main template should look like this when you're done: </li> </ol> <p>Start the upload in debug-mode. In the monitor in transaction RSA1, the upload looks like this:</p> <p></p>"},{"location":"documentation/bwloader/example-scenario/#texts","title":"Texts","text":"<p>In the previous section, we created a master data InfoObject while specifying that there are language-dependent texts.  These are located in the ProductText table.</p> <ol> <li>Create a new data flow (or a new package)</li> <li>Prepare the connection manager and define an OleDB source for the ProductText table. </li> <li>Define a BW Loader target and draw the pipeline to the target. </li> <li>Create a new InfoPackage by clicking Create New InfoPackage button. The dialog should be filled in as follows: </li> <li>Because we already specified in the ZPROD setup that there are language dependent short and long texts, the transfer structure is already built accordingly.  Now only the pipeline elements have to be mapped to the transfer structure elements, as shown in the following screenshot: </li> <li>A test run uploads the texts to the BW. The following screenshot shows the RSA1 transaction. It shows both InfoPackages for the attributes and texts under the ZPROD InfoSource.  The XTRACTSYS source system forms the transfer layer. Depending on the release you use, this screenshot might look different. </li> </ol> <p>The following screenshot shows the contents of the PSA table after posting. In an Unicode system, any fonts can be posted (e.g. Japanese).</p> <p></p>"},{"location":"documentation/bwloader/example-scenario/#create-an-infocube","title":"Create an InfoCube","text":"<p>An InfoCube into which the data can be loaded is required.</p> <ol> <li>Create a new SSIS package.</li> <li>Define an OleDB source in the Sales test table and link the pipeline with a BW Loader target.</li> <li>Click the link Create Cube in the editor. The following window opens:  Through the already linked pipeline, Xtract IS has the correct properties of the cube. One InfoObject for each element is necessary to create a cube.</li> <li>Click the Create link to create an OrderID in the system as an InfoObject: </li> <li> <p>Two key figures are needed: quantity and price. A fixed unit (ST for St\u00fcck, unit in German) is specified under quantity. For price, a reference is made to the 0CURRENCY InfoObject.</p> QuantityPrice <p></p> <p></p> </li> <li> <p>The three remaining elements are defined through InfoObjects that already exist (ZPROD for product, 0CALDAY for the date and 0CURRENCY for the currency): </p> </li> <li>Create a new InfoSource of the Transaction Data type. It is set up just like the cube.  Only in the price field we have to make an explicit reference to the currency column (Unit Field column): </li> <li>Open the cube administration in the RSA1 transaction and then select Environment in the menu -&gt; Update Rules -&gt; Create.</li> <li>Select the InfoSource you just created and confirm with Enter. </li> <li>Save and activate the rule.</li> </ol>"},{"location":"documentation/bwloader/example-scenario/#load-transaction-data","title":"Load Transaction Data","text":"<p>Create an InfoPackage of the Transaction type for the InfoSource, and link the pipeline elements with the elements of the transfer structure.  The following screenshot shows the completed link. The transaction data can now be loaded.</p> <p></p>"},{"location":"documentation/bwloader/parameterization/","title":"Parameterization","text":""},{"location":"documentation/bwloader/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables store values that an SQL Server Integration Services package and its containers, tasks, and event handlers can use at runtime. The following settings in the Xtract BWLoader component allow entry of an SSIS variable:</p> <ul> <li>Package Size</li> <li>Gateway host</li> <li>Gateway service</li> <li>Program ID</li> </ul>"},{"location":"documentation/bwloader/parameterization/#use-ssis-variables-with-notation","title":"Use SSIS Variables with @-Notation","text":"<p>To use SSIS variables in input fields of the component, place an @ symbol before the variable name. </p> <ol> <li>Choose an input field that supports SSIS variables.</li> <li>Instead of entering a fixed a value, enter a variable name using the @-notation, e.g., @vDate.</li> <li>Create a new SSIS variable with the same name, but without the @ symbol, e.g., vDate.</li> <li>Make sure to select the correct data type.</li> </ol> <p>You can now use the SSIS variable to set dynamic input values for the input field. </p>"},{"location":"documentation/bwloader/parameterization/#custom-properties-of-xtract-bwloader","title":"Custom Properties of Xtract BWLoader","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract BWLoader component are displayed in the \"Properties\" window. </p> <p></p> <p>List of relevant Custom Properties:</p> Property Comment DataSourceType Corresponds to the setting Data Source in the Xtract BWLoader component GatewayHost Corresponds to the setting Gateway host in the Xtract BWLoader component. GatewayService Corresponds to the setting Gateway service in the Xtract BWLoader component. InfoPackage Corresponds to the setting InfoPackage in the Xtract BWLoader component. InfoSource Corresponds to the setting InfoSource in the Xtract BWLoader component. LogSys Corresponds to the Logical System of the DataSource. NolPackageStartOnlyWait Corresponds to the setting No InfoPackage Start (Only Wait) in the Xtract BWLoader component. PackageSize Corresponds to the setting Package Size in the Xtract BWLoader component. ProcessChain Corresponds to the setting Trigger Process Chain after Upload in the Xtract BWLoader component. ProgramID Corresponds to the setting Program ID in the Xtract BWLoader component. WaitUntilFinished Corresponds to the setting Wait data transfer to be finished in the Xtract BWLoader component"},{"location":"documentation/bwloader/parameterization/#related-links","title":"Related Links:","text":"<ul> <li>Integration Services (SSIS) Variables</li> </ul>"},{"location":"documentation/bwloader/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract BW Loader component.  To open the settings, click Settings in the main window of the component. </p> <p></p>"},{"location":"documentation/bwloader/settings/#general","title":"General","text":""},{"location":"documentation/bwloader/settings/#package-size","title":"Package Size","text":"<p>The extracted data is split into packages of the defined size. The default value is 50000 lines. A package size between 20000 and 50000 is advisable for large amounts of data. 0 means no packaging.  Not using packaging can lead to an RFC timeout for large data extractions.</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - No more storage space available for extending an internal table To avoid a memory overflow on the SAP source system and to avoid huge overheads, choose a package size that suits your memory capacity.</p>"},{"location":"documentation/bwloader/settings/#wait-data-transfer-to-be-finished","title":"Wait data transfer to be finished","text":"<p>If this option is checked, the component waits until data processing is completed. You will receive additional error messages if data processing fails.</p>"},{"location":"documentation/bwloader/settings/#trigger-process-chain","title":"Trigger Process Chain","text":"<p>If you want to trigger a process chain after uploading just type in the name of the process chain here.</p>"},{"location":"documentation/bwloader/settings/#sap-bi-3rd-party-notification","title":"SAP BI 3rd party notification","text":""},{"location":"documentation/bwloader/settings/#no-infopackage-start","title":"No InfoPackage Start","text":"<p>The best way to upload data is to trigger the InfoPackage (default value). Under some conditions it might be useful not to trigger the InfoPackage but only to wait for notification (sleeping mode). In this case check this option.</p>"},{"location":"documentation/bwloader/settings/#use-external-notifier","title":"Use external Notifier","text":"<p>Corresponds to an option in Load Data into SAP BW.</p>"},{"location":"documentation/bwloader/settings/#request-id-variable","title":"Request ID variable","text":"<p>Corresponds to an option in Load Data into SAP BW.</p>"},{"location":"documentation/bwloader/settings/#performance-improvement","title":"Performance Improvement","text":""},{"location":"documentation/bwloader/settings/#debug-details","title":"Debug Details","text":"<p>Generates more detailed log entries to enable easier error detection</p>"},{"location":"documentation/bwloader/settings/#enable-parallel-processing","title":"Enable Parallel Processing","text":"<p>Enables multiple uploads at the same time.</p>"},{"location":"documentation/bwloader/settings/#allow-multiple-sap-connections","title":"Allow multiple SAP connections","text":"<p>Allows to establish more than one connection to SAP which improves performance.</p>"},{"location":"documentation/bwloader/settings/#max-number-of-threads","title":"Max. Number of Threads","text":"<p>Maximum number of application threads that prepare the packages to be uploaded.</p>"},{"location":"documentation/deltaq/","title":"Xtract DeltaQ","text":"<p>This page shows how to use the Xtract DeltaQ component. The Xtract DeltaQ component can be used to extract delta data from SAP DataSources.  This means that only recently added or changed data is extracted, instead of a full load. For more information on the delta process, see Initialize a Delta Process.</p>"},{"location":"documentation/deltaq/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> <li>Configure your SAP system to make DataSources accessible, see SAP Customization for DeltaQ.</li> <li>To use DataSources in Xtract IS, make sure that the DataSources are activated in SAP.</li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract DeltaQ component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects: DeltaQ accordingly.</p>"},{"location":"documentation/deltaq/#sap-transactions-for-working-with-deltaq","title":"SAP Transactions for Working with DeltaQ","text":"<p>The following SAP transaction can support you when working with DataSources:</p> Initial SetupError AnalysisOther Transactions <ul> <li>SBIW - SAP DataSources start page</li> <li>RSA3 - Extractor Checker </li> <li>RSA5 - Install DataSources and Hierarchies from Business Content  </li> <li>RSA6 - Postprocess DataSources and Hierarchies </li> <li>SM59 - Configuration of RFC Connections </li> </ul> <ul> <li>SMQS - qRFC Monitor (QOUT Scheduler): Number of Max.Conn. should be at least 10</li> <li>SM37 - Background jobs</li> <li>SM58 - Transactional RFC</li> <li>SM50 - Process overview</li> <li>SMGW - Gateway Monitor</li> </ul> <ul> <li>RSA7 - Delta Queue Maintenance</li> <li>SMQ1 - qRFC Monitor (outbound queue)</li> <li>WE02 - IDoc list</li> <li>WE20 - Partner profiles</li> </ul>"},{"location":"documentation/deltaq/#add-an-xtract-deltaq-component","title":"Add an Xtract DeltaQ Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract DeltaQ component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/deltaq/#look-up-extractors-or-hierarchies","title":"Look Up Extractors or Hierarchies","text":"Look Up ExtractorsLook Up Hierarchies <ol> <li>In the main window of the component, click [ ]. The window \u201cLook Up OLTP Source\u201d opens. </li> <li>In the field Name, enter the name of a DataSource  . Use wildcards ( * ), if needed. </li> <li>Click [ ]. Search results are displayed.</li> <li>Select an extractor   and click [OK] to confirm.</li> </ol> <ol> <li>In the main window of the component, click [ ]. The window \u201cLook Up OLTP Source\u201d opens </li> <li>In the field Name, enter the name of a Hierarchy  . Use wildcards ( * ), if needed. Alternatively, enter the description of a Hierarchy in the field Description.  </li> <li>Click [ ].  Search results are displayed.</li> <li>Select an extractor of type HIER  and click [OK] to confirm. All available Hierarchies are fetched and the window \"Look Up DeltaQ Hierarchies\" opens.</li> <li>Select a Hierarchy   and click [OK] to confirm.  </li> </ol> <p>The application now returns to the main window of the component.</p>"},{"location":"documentation/deltaq/#define-the-xtract-deltaq-component","title":"Define the Xtract DeltaQ Component","text":"<p>The Xtract DeltaQ component offers the following options for DataSource extractions:</p> Xtract DeltaQ with ExtractorsXtract DeltaQ with Hierarchies <ol> <li>Navigate to Gateway and click [ ]  to look up an RFC destination.  For more information, see DeltaQ Customizing: Gateway. </li> <li>Navigate to Logical Destination and click [ ]  to look up a logical RFC target system.  For more information, see DeltaQ Customizing: Logical Destination.</li> <li>Click Customizing Check  to validate the DeltaQ Customizing on the SAP system. Make sure that all check marks are green. For more information, see DeltaQ Customizing: Customizing Check. </li> <li>Select an Update Mode, e.g., to initialize delta extractions.</li> <li>Select the items you want to extract. </li> <li> <p>Optional: click the Edit option next to an item to filter the data.</p> </li> <li> <p>Click [Activate] to activate the extraction in SAP. After a successful activation, a corresponding status message opens: </p> <p>Note</p> <p>The activation is only required for the update modes Delta, Full or Init. Do not activate the extraction for the Delta Update mode. </p> </li> <li> <p>Check the Settings before running the SSIS package.</p> </li> <li>Click [OK] to save the component.</li> </ol> <ol> <li>Navigate to Gateway and click [ ]  to look up an RFC destination.  For more information, see DeltaQ Customizing: Gateway. </li> <li>Navigate to Logical Destination and click [ ]  to look up a logical RFC target system.  For more information, see DeltaQ Customizing: Logical Destination.</li> <li>Click Customizing Check  to validate the DeltaQ Customizing on the SAP system. Make sure that all check marks are green. For more information, see DeltaQ Customizing: Customizing Check. </li> <li>Select an Update Mode, e.g., to initialize delta extractions.</li> <li>Select the items you want to extract. </li> <li>Optional: click the Edit option next to an item to filter the data.</li> <li> <p>Optional: click Settings to set the language and output format of the Hierarchy, see settings. </p> </li> <li> <p>Click [OK] to save the component.</p> </li> </ol> <p>Tip</p> <p>Unlike attributes and transactions, Hierarchies do not have to be activated.</p> <p>You can now run the SSIS package.</p>"},{"location":"documentation/deltaq/#execute-deltaq-in-parallel","title":"Execute DeltaQ in Parallel","text":"<p>When extracting multiple DataSources in parallel, it is recommended to use separate RFC destinations, e.g., XTRACT01, XTRACT02, etc. Parallel execution of DataSources with an identical RFC destination is possible, but not recommended.</p>"},{"location":"documentation/deltaq/#related-links","title":"Related Links","text":"<ul> <li>DeltaQ Troubleshooting Guide. </li> <li>SAP Help: Activate the BI Content DataSource</li> <li>Knowledge Base Article: Create Generic DataSource using Function Module and Timestamps</li> </ul>"},{"location":"documentation/deltaq/deltaq-customization/","title":"Customizing Check","text":"<p>This page shows how to reference the SAP RFC destination in the Xtract DeltaQ component.</p> <p>Using the Xtract DeltaQ component requires customization in SAP, see Customizing for DeltaQ. After an RFC Destination is set up in SAP, the RFC destination and the RFC target system must be entered in the Xtract DeltaQ component.</p>"},{"location":"documentation/deltaq/deltaq-customization/#settings-in-the-xtract-deltaq-component","title":"Settings in the Xtract DeltaQ Component","text":""},{"location":"documentation/deltaq/deltaq-customization/#gateway","title":"Gateway","text":"<p>Click [ ] to look up an RFC destination or enter the data of your RFC destination manually:</p> Input Field Description Host The name (or IP address) of your SAP system. Make sure that the Gateway host is the same as in your SAP Connection. Service The gateway service is generally sapgwNN, where NN is the instance number of your SAP system, e.g., a number between 00 and 99. NN must have the same value as the System No field in your SAP Connection or the instance number in your SAP logon. Program ID The name of the registered RFC server. Make sure that the registration of the Program ID and the host is whitelisted in the reginfo ACL on the SAP Gateway, see SAP Blog: RFC Gateway Security."},{"location":"documentation/deltaq/deltaq-customization/#logical-destination","title":"Logical Destination","text":"<p>Click [ ] to look up a logical RFC target system or enter the name of the RFC target system manually.</p>"},{"location":"documentation/deltaq/deltaq-customization/#customizing-check","title":"Customizing Check","text":"<p>In the main window of the component click Customizing Check to validate the DeltaQ customizing on the SAP system. Make sure that all check marks are green. </p> <p></p>"},{"location":"documentation/deltaq/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract DeltaQ component using SSIS variables directly in the component and by using SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/deltaq/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables store values that an SQL Server Integration Services package and its containers, tasks, and event handlers can use at runtime.</p> <p>You can use SSIS variables for selections. Available SSIS variables are listed in the selection settings when parameter input ( ) is selected, see Edit Selections.</p>"},{"location":"documentation/deltaq/parameterization/#use-ssis-variables-with-notation","title":"Use SSIS Variables with @-Notation","text":"<p>The following input fields in the Xtract DeltaQ component allow entry of an SSIS variable:</p> <ul> <li>Logical Destination</li> <li>Gateway Host</li> <li>Gateway Service</li> <li>Program ID</li> <li>Update Mode Variable</li> <li>RequestID</li> </ul> <p>To use SSIS variables in input fields of the component, place an @ symbol before the variable name. </p> <ol> <li>Choose an input field that supports SSIS variables.</li> <li>Instead of entering a fixed a value, enter a variable name using the @-notation, e.g., @vDate.</li> <li>Create a new SSIS variable with the same name, but without the @ symbol, e.g., vDate.</li> <li>Make sure to select the correct data type.</li> </ol> <p>You can now use the SSIS variable to set dynamic input values for the input field. </p>"},{"location":"documentation/deltaq/parameterization/#parameterization-using-expression-properties","title":"Parameterization using Expression Properties","text":"<p>The recommended way of parameterization is to use SSIS expressions to set Data Flow Properties.  Data Flow Properties are displayed in the \"Properties\" window of the Data Flow Task. </p> <p>Note</p> <p>Data Flow Properties are not to be confused with Custom Properties that are displayed in the \"Properties\" window of the component.  When parameterizing the Data Flow Properties, the Custom Properties are overwritten.</p> <p>For more information on property expressions, see Microsoft Documentation: Use Property Expressions in Packages.</p> <ol> <li>Right-click the Data Flow canvas and select Properties. The window \"Properties\" opens.</li> <li>Add an Expression by clicking using [\u2026]. The window \"Property Expression Editor\" opens. </li> <li>Select a property from the drop-down list under Property.</li> <li>Open the \"Expression Builder\" using the [\u2026] button under Expression.</li> <li>Build your Expression and click [Evaluate Expression] to check for correct syntax.</li> <li>Confirm your input with [OK].</li> </ol>"},{"location":"documentation/deltaq/parameterization/#data-flow-properties-of-xtract-deltaq","title":"Data Flow Properties of Xtract DeltaQ","text":"<p>List of Data Flow Properties that can be parameterized:</p> Property Description [Xtract DeltaQ].[GatewayHost] Corresponds to the setting Gateway Host in the Xtract DeltaQ component. [Xtract DeltaQ].[GatewayService] Corresponds to the setting Gateway Service in the Xtract DeltaQ component. [Xtract DeltaQ].[ProgramID] Corresponds to the setting Program ID in the Xtract DeltaQ component. [Xtract DeltaQ].[RequestID] Corresponds to the setting RequestID in the Xtract DeltaQ component. [Xtract DeltaQ].[TargetSystem] Corresponds to the setting Logical Destination in the Xtract DeltaQ component. [Xtract DeltaQ].[UpdateType] Corresponds to the drop-down menu Update Mode in the Xtract DeltaQ component. Permitted values are: Full (70), Delta (68), Init (67), InitNoData (83), Repeat (82), InitNonCumulative (73), Activate (65)."},{"location":"documentation/deltaq/parameterization/#custom-properties-of-xtract-deltaq","title":"Custom Properties of Xtract DeltaQ","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract DeltaQ component are displayed in the \"Properties\" window. </p> <p></p> <p>List of the relevant Custom Properties:</p> Property Description GatewayHost Corresponds to the setting Gateway Host in the Xtract DeltaQ component. GatewayService Corresponds to the setting Gateway Service in the Xtract DeltaQ component. HierClass Corresponds to the setting Hierarchy Class in the Xtract DeltaQ component. HierName Corresponds to the setting Hierarchy Name in the Xtract DeltaQ component. Language Corresponds to the setting Language in the Xtract DeltaQ component. NewTimeStampFormatInRequestLog If this value is set to true (X), the format of the timestamp in the request log is changed. OLTPSourceName Name of the OLTP source to be extracted. OLTPSourceType Type of the OLTP source to be extracted. ProgramID Corresponds to the setting Program ID in the Xtract DeltaQ component. RequestID Corresponds to the setting RequestID in the Xtract DeltaQ component. TargetSystem Corresponds to the setting Logical Destination in the Xtract DeltaQ component. Timeout Sets a timeout for the extraction. TransferMethod Corresponds to the setting Transfer Mode in the Xtract DeltaQ component (tRTF or IDoc). TransferStructure The transfer structure of the source, e.g., ROHIEROS. UpdateType Corresponds to the drop-down menu Update Mode in the Xtract DeltaQ component. Permitted values are: Full (70), Delta (68), Init (67), InitNoData (83), Repeat (82), InitNonCumulative (73), Activate (65). UseLegacyVarUpdate Set to True for backward compatibility with extractions that use the deprecated update mode (V)Variable. UseWideString Defines whether DT_WSTR / DT_NTEXT (true) or DT_STR / DT_TEXT (false) is used as the data type for string columns."},{"location":"documentation/deltaq/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Microsoft Documentation: Integration Services (SSIS) Variables</li> <li>Microsoft Documentation: Use Property Expressions in Packages</li> </ul> <p>content/en/xis-specific/parameterization/parametrization-via-variables.md </p>"},{"location":"documentation/deltaq/selections/","title":"Selections","text":"<p>This page shows how to filter the data that is extracted by the Xtract DeltaQ component.</p>"},{"location":"documentation/deltaq/selections/#edit-selections","title":"Edit Selections","text":"<p>Note</p> <p>Do not define selections when using the update mode Delta Update, because the selections of the Init mode are automatically applied.</p> <p>Follow the steps below to edit selection fields and filter data:</p> <ol> <li>In the subsection OLTP Fields, click Edit next to the field you want to edit. The window \u201cEdit selection\u201d opens. </li> <li>Click [Single] or [Range] to add a corresponding filter, see Filter Options.</li> <li>In the column Sign , select Include to add the filtered data to the output or select Exclude to remove the filtered data from the output. </li> <li>In the column Option , select an operator, see Filter Options. </li> <li> <p>In the column Value, enter values directly into the input fields Low and High or assign existing  SSIS variables  to the selection fields  .</p> <p>Note</p> <p>When SSIS variables are available, you can use the icon button next to the input field to switch between static values ( ) and SSIS variables ( ).</p> </li> <li> <p>Click [OK] to confirm your input. </p> </li> <li>Click [Load live preview] in the main window of the component to check the result of your selection.  If SSIS variables are defined, you are prompted to populate the parameters with actual values.</li> </ol>"},{"location":"documentation/deltaq/selections/#filter-options","title":"Filter Options","text":"<p>The Xtract DeltaQ component offers the following filter options:</p> Type Operator Description Single Compare data to a single specified value. (not) like pattern True if data values do (not) contain to the specified value. (not) equal to True if data is (not) equal to the specified value. at least True if data is greater than or equal to the specified value. more than True if data is greater than the specified value. at most True if data is less than or equal to the specified value. less than True if data is less than the specified value. Range Check if the data is (not) within a specified range of values. (not) between True if data values do (not) lie between the 2 specified values."},{"location":"documentation/deltaq/selections/#script-expressions-for-deltaq","title":"Script Expressions for DeltaQ","text":"<p>Script expressions are usually used to determine a dynamic date based on the current date. </p> Input Description <pre>#{ DateTime.Now.ToString(\"yyyyMMdd\") }#</pre> Current date in SAP format (yyyyMMdd) <pre>#{ String.Concat(DateTime.Now.Year.ToString(), \"0101\") }#</pre> Current year concatenated with \"0101\" (yyyy0101) <pre>#{ String.Concat(DateTime.Now.ToString(\"yyyy\"), \"0101\") }#</pre> Current year concatenated with \"0101\" (yyyy0101) <pre>#{ String.Concat(DateTime.Now.ToString(\"yyyyMMdd\").Substring(0,4), \"0101\") }#</pre> Current year concatenated with \"0101\" (yyyy0101)"},{"location":"documentation/deltaq/selections/#data-format","title":"Data Format","text":"<p>Use the following internal SAP representation for input:</p> <ul> <li>Date: The date 01.01.1999 has the internal representation 19990101 (YYYYMMDD).</li> <li>Year period: The year period 001.1999 has the internal representation 1999001 (YYYYPPP).</li> <li>Numbers: Numbers must contain the leading zeros, e.g., customer number 1000 has the internal representation 0000001000.</li> </ul> <p>Warning</p> <p>Values accept only the internal SAP representation. Input that does not use the internal SAP representation results in error messages.  Use the internal SAP representation. Example:  <pre><code>ERPConnect.ABAPProgramException: RfcInvoke failed(RFC_ABAP_MESSAGE): Enter date in the format \\_.\\_.\\_\n</code></pre></p>"},{"location":"documentation/deltaq/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract DeltaQ component.  To open the settings, click Settings in the main window of the component. </p> <p></p> <p>The Xtract DeltaQ settings consist of the following tabs: </p> <ul> <li>Base</li> <li>Misc</li> <li>Hierarchy</li> </ul>"},{"location":"documentation/deltaq/settings/#base-settings","title":"Base Settings","text":""},{"location":"documentation/deltaq/settings/#transfer-mode","title":"Transfer Mode","text":"<p>The raw data packages can be sent by SAP via tRFC call or Data-IDoc. tRFC is is the default setting.  Switch to IDoc to monitor the raw data packages in the transaction WE02 (IDoc-Monitoring) for debugging reasons. </p>"},{"location":"documentation/deltaq/settings/#convert-dates","title":"Convert Dates","text":""},{"location":"documentation/deltaq/settings/#min-date","title":"Min Date","text":"<p>Converts the SAP date 00000000 to the entered value. NULL is supported as a value.</p>"},{"location":"documentation/deltaq/settings/#max-date","title":"Max Date","text":"<p>Converts the SAP date 9999XXXX to the entered value. NULL is supported as a value.</p>"},{"location":"documentation/deltaq/settings/#replace-invalid-date-with","title":"Replace invalid date with","text":"<p>In case of no convertable date values you have to enter a default date value into the textbox.  Every invalid value is converted into this value.</p>"},{"location":"documentation/deltaq/settings/#misc-settings","title":"Misc. Settings","text":""},{"location":"documentation/deltaq/settings/#update-mode-variable","title":"Update Mode Variable","text":"<p>Defines a variable for the update mode.  Enter the name of an SSIS variable in the format <code>@variable_name</code> and set the component's custom property UseLegacyVarUpdate to true to overwrite the Update Mode.  The SSIS variable can process the following values: F, C, D, S, I and R, as it is listed in Update Mode.</p>"},{"location":"documentation/deltaq/settings/#request-id","title":"Request ID","text":"<p>This field is optional. If a value (e.g., XtractDatasource) is set, it will be used as suffix in the SAP job name (e.g., BIXtractDatasource), otherwise a combination of process ID and timestamp will be used (e.g. REQU_pppppppp_yyyyMMddHHmmss), with process ID being the ID of the Windows process, the XtractDeltaQServerPool.exe is running under.</p>"},{"location":"documentation/deltaq/settings/#automatic-synchronization","title":"Automatic Synchronization","text":"<p>Option to prevent manual changes in the transactional system when switching from test environment to production environment.  Example: To use DeltaQ extractions in the production environment, the data source has to be enabled in the production environment.  If Automatic Synchronization is active, the activation is performed automatically and the timestamp of the data source is changed to be consistent with the settings of the SAP system. </p> <p>Note</p> <p>If the data source is modified in the SAP system, manually activate the data source in the  DeltaQ component, even when Automatic Synchronization is active.  Otherwise data load will fail. This behavior belongs to the SAP design, see SAP Help: Replication of DataSources.</p>"},{"location":"documentation/deltaq/settings/#add-serialization-info-to-output","title":"Add Serialization Info to Output","text":"<p>Adds the columns DataPackageID and RowCounter to the output. Example: the following columns that are a composite key of the SAP records are included in the output:</p> <ul> <li>RequestID</li> <li>DataPackageID </li> <li>RowCounter</li> </ul> <p>Note</p> <p>Newer data has a higher PackageID. In the same package newer data has a higher RowCounter.</p>"},{"location":"documentation/deltaq/settings/#hierarchy-settings","title":"Hierarchy Settings","text":"<p>The following settings only apply to Hierarchy extractions.</p> <p></p>"},{"location":"documentation/deltaq/settings/#language","title":"Language","text":"<p>Enter the language of the Hierarchy, e.g., \u2018E\u2019 or \u2018D\u2019.</p>"},{"location":"documentation/deltaq/settings/#hierarchy-name","title":"Hierarchy Name","text":"<p>Enter the name of the Hierarchy.</p>"},{"location":"documentation/deltaq/settings/#hierarchy-class","title":"Hierarchy Class","text":"<p>Enter the class of the Hierarchy.</p>"},{"location":"documentation/deltaq/settings/#hierarchy-version","title":"Hierarchy Version","text":"<p>Enter the version of the Hierarchy.</p>"},{"location":"documentation/deltaq/settings/#maintenance","title":"Maintenance","text":"<p>Click [Maintenance] to open a list of Init requests of the DataSource (SAP transaction RSA7).</p> <p></p> <p>Select an Init request and click [ ] to delete it. This is necessary when re-initializing a delta process.</p>"},{"location":"documentation/deltaq/update-mode/","title":"Update Mode","text":"<p>The Xtract DeltaQ component is primarily used for delta extractions. This means that only recently added or changed data is extracted, instead of a full load. The data that is extracted is defined by the Update Mode setting in the main window of the component.</p> <p></p>"},{"location":"documentation/deltaq/update-mode/#update-modes","title":"Update Modes","text":"<p>The Xtract DeltaQ component offers the following update modes:</p> Mode Parameter Value Description Full Full Extracts all data that match the set selection criteria. Delta Update Delta Only extracts data added or changed on the SAP system since the last delta request. Initialize a delta process before running a delta update. To prevent errors, aborts and gaps in your data during a delta run, run the next extraction in the update mode Repeat. Delta Initialization Init Extracts all data as full load and initializes the delta process. When re-initializing a delta process, first delete any existing Inits using the [Maintenance] button in the settings menu. Repeat Repeat Repeats the last delta run and updates and any delta data accumulated since the last run. Deletes any data from the last (unsuccessful) delta update before running a repeat. You can run a repeat multiple times. Delta Init (without data) InitNoData Initializes the delta process without extracting any data from the SAP DataSources. The result of the Delta Init on the SAP side. When re-initializing a delta process, first delete any existing Inits using the [Maintenance] button in the settings menu. Non-cumulative init InitNoncumulative Relevant for DataSources like 2LIS_03_BX. Activate (don't extract) Activate Activates a DataSource similar to the [Activate] button, but it is more practical when activating DataSources in a batch. No data is extracted. <p>Tip</p> <p>Update mode can be set dynamically at runtime using the parameters values to overwrite the custom property updateType.</p> <p>For more information about when to use which update mode, see Initialize a Delta Process</p>"},{"location":"documentation/deltaq/update-mode/#initialize-a-delta-process","title":"Initialize a Delta Process","text":"<p>To start a delta process with the Xtract DeltaQ component, the delta must be initialized first.  The following delta process shows when to use which Update Modes. </p>"},{"location":"documentation/deltaq/update-mode/#step-1-delta-initialization-c","title":"Step 1: Delta Initialization [C]","text":"<p>This mode requests all data that meets the selection criteria.</p> <p>Set Update Mode to Delta Initialization and run the extraction. The initialization selections are copied to load the delta records. You can now use Delta Update.</p> <p>Note</p> <p>When re-initializing a delta process, first delete any existing Inits (initialization requests) by clicking [Maintenance] in the settings.</p>"},{"location":"documentation/deltaq/update-mode/#alternative-step-1-delta-init-without-data-s","title":"Alternative Step 1: Delta Init (without data) [S]","text":"<p>This mode is similar to Delta Initialization, but no data is extracted from the SAP DataSource.</p> <p>Set Update Mode to Delta Init (without data) and run the extraction. You can now use Delta Update.</p> <p>Note</p> <p>When re-initializing a delta process, first delete any existing Inits (initialization requests) by clicking [Maintenance] in the extraction settings.</p>"},{"location":"documentation/deltaq/update-mode/#step-2-delta-update-d","title":"Step 2: Delta Update [D]","text":"<p>Delta Update only extracts data added or changed on the SAP system since the last delta request.</p> <p>Run the extraction with Delta Initialization or Delta Init (without data) once before setting the Update Mode to Delta Update.</p> <p>Note</p> <p>To prevent errors, aborts and gaps run the next extraction in the update mode Repeat.</p>"},{"location":"documentation/deltaq/update-mode/#optional-repeat-r","title":"Optional: Repeat [R]","text":"<p>This mode repeats the last delta run and updates all data accumulated since the last run.  If the last run was unsuccessful, all data from the last delta update are deleted before a new run is started. A Repeat can be started several times.</p> <p>Many DataSources have the field ROCANCEL. This field defines if records are added or overwritten depending on the delta process type of the DataSource.  It defines how a record is updated in the delta process. In an ABR mode: </p> <ul> <li>blank returns an after image</li> <li>'X'  returns a before image</li> <li>'D' deletes the record</li> <li>'R' returns a reverse image</li> </ul>"},{"location":"documentation/deltaq/update-mode/#optional-delta-queue-rsa7","title":"Optional: Delta Queue - RSA7","text":"<p>Once delta is activated, you can view the queued datasets in the Delta queue in SAP transaction RSA7. If there is no new data to be transferred, a corresponding protocol message is displayed and the data pipeline is empty.</p> <p>Note</p> <p>Before initiating the next update, make sure that a delta update has been executed successfully. Running a new delta update removes the last one. </p>"},{"location":"documentation/deltaq/update-mode/#related-links","title":"Related Links","text":"<ul> <li>SAP Help: Delta Transfer to BI</li> <li>SAP Help: Delta Process</li> </ul>"},{"location":"documentation/hierarchy/","title":"Xtract Hierarchy","text":"<p>This page shows how to use the Xtract Hierarchy component. The Xtract Hierarchy component can be used to extract Hierarchies and InfoObjects from SAP BW systems.</p> <p>Note</p> <p>To extract hierarchies from a BW system, use the Xtract Hierarchy component. To extract hierarchies from an ERP system like ECC or S4, use the Xtract ODP component.</p>"},{"location":"documentation/hierarchy/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract Hierarchy component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects accordingly.</p>"},{"location":"documentation/hierarchy/#add-an-xtract-hierarchy-component","title":"Add an Xtract Hierarchy Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract Hierarchy component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/hierarchy/#look-up-a-hierarchy","title":"Look Up a Hierarchy","text":"<ol> <li>In the main window of the component, click [ ]. The window \u201cHierarchy Lookup\u201d opens. </li> <li>Enter the name of a Hierarchy in the field Hierarchy Name or the name of an InfoObject in the field InfoObject . Use wildcards (*) if needed.  </li> <li>Click [ ]. Search results are displayed.</li> <li>Select a Hierarchy   and click [Select].</li> </ol> <p>The application returns to the main window of the component.</p>"},{"location":"documentation/hierarchy/#define-the-xtract-hierarchy-component","title":"Define the Xtract Hierarchy Component","text":"<p>The Xtract Hierarchy component offers the following options for Hierarchy extractions:</p> <ol> <li> <p>Define the output format of the Hierarchy in the settings . The Xtract Hierarchy component supports the following output formats:</p> <ul> <li>ParentChild Format</li> <li>Natural Format</li> <li>ParentChildWithNodeNames Format</li> </ul> <p> </p> </li> <li> <p>Click [Load live preview]  to display a live preview of the first 100 records. </p> </li> <li> <p>Click [OK] to save the component.</p> </li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/hierarchy/#related-links","title":"Related Links","text":"<ul> <li>Settings</li> <li>SAP Help: Uploading Hierarchies from Flat Files</li> </ul>"},{"location":"documentation/hierarchy/output-format/","title":"Output Formats","text":"<p>This page shows the which output formats are supported by the Xtract Hierarchy component. The output format can be selected in the settings of the Xtract Hierarchy component.</p>"},{"location":"documentation/hierarchy/output-format/#parentchild-format","title":"ParentChild Format","text":"<p>The default output of the Xtract Hierarchy component contains the following columns:</p> Column Description NodeID Unique node key. ParentNodeID Key for parent node. FirstChildNodeID Key for first child node. NextNodeID Key for next node in the same hierarchical level. InfoObjectName Name of InfoObject behind the corresponding node. NodeName The node\u2019s (technical) name. NodeText The description text of the node. This column is only created when Fetch description texts is active. DateFrom Date from which the node is valid. DateTo Date the node is valid to. Link If the value in Link is greater than 0, the node is a link node. The ID of the original node that was linked from is displayed. Row Number of the row. The row number can be used as an ID or sort criterion when processing the extracted data. <p>Example:</p> Hierarchy PM_COUNTRY in ParentChild Output FormatHierarchy PM_COUNTRY Format in SAP <p></p> <p></p>"},{"location":"documentation/hierarchy/output-format/#natural-format","title":"Natural Format","text":"Column Description LevelN Technical name of the node of the nth level. The number of levels is set in Level Count. The level count starts at level 0. LevelTextN The description text of the nth level's node. This column is only created when Description texts for levels is active. InfoObjectName Name of InfoObject behind the node of the highest level. NodeName Technical name of the node of the highest level. NodeText The description text of the node of the highest level. This column is only created when Fetch description texts is active. DateFrom Date from which the node is valid DateTo Date the node is valid to. Link If the value in Link is greater than 0, the node is a link node. The ID of the original node that was linked from is displayed. Row Number of the row. The row number can be used as an ID or sort criterion when processing the extracted data. <p>Example:</p> Hierarchy PM_COUNTRY in Natural Output FormatHierarchy PM_COUNTRY Format in SAP <p></p> <p></p>"},{"location":"documentation/hierarchy/output-format/#parentchildwithnodenames-format","title":"ParentChildWithNodeNames Format","text":"Column Description NodeID Unique node key. NodeName The node\u2019s (technical) name. NodeText The description text of the node. This column is only created when Fetch description texts is active. ParentNodeID Key for parent node. ParentNodeName Name of the parent node. InfoObjectName Name of InfoObject behind the corresponding node. DateFrom Date from which the node is valid. DateTo Date the node is valid to. Link If the value in Link is greater than 0, the node is a link node. The ID of the original node that was linked from is displayed. Row Number of the row. The row number can be used as an ID or sort criterion when processing the extracted data. <p>Example:</p> Hierarchy PM_COUNTRY in ParentChildWithNodeNames Output FormatHierarchy PM_COUNTRY Format in SAP <p></p> <p></p>"},{"location":"documentation/hierarchy/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract Hierarchy component.  To open the settings, click Settings in the main window of the component. </p> <p></p>"},{"location":"documentation/hierarchy/settings/#extraction-settings","title":"Extraction Settings","text":""},{"location":"documentation/hierarchy/settings/#representation","title":"Representation","text":"<ul> <li>ParentChild: The Hierarchy is represented in the SAP parent-child format, see Output Formats: ParentChild. Example: </li> <li>Natural: The SAP parent-child Hierarchy is transformed into a regular hierarchy, see Output Formats: Natural. Example: </li> <li>ParentChildWithNodeNames: The Hierarchy is represented in a reduced SAP parent-child format that only includes single nodes and their parent, see Output Formats: ParentChildWithNodeNames. Example: </li> </ul>"},{"location":"documentation/hierarchy/settings/#remove-leading-zeros","title":"Remove Leading Zeros","text":"<p>If this option is active, all leading zeros in the column NodeName of the leaves are removed. NodeName can then be used in a JOIN-condition with the corresponding Dimension-Key of a BW Cube extraction. The conversion works for compound InfoObjects, too.  Example: 0CO_AREA (1000) and 0COSTCENTER (0000003100) become 1000/3100.</p>"},{"location":"documentation/hierarchy/settings/#fetch-description-texts","title":"Fetch description texts","text":"<p>Sets the node text in the column NodeText.  All texts of InfoObjects that have language dependent texts will be retrieved in the language that the SAP source connection uses.  If no texts exist, the result does not contain any texts for entries of that InfoObject.</p>"},{"location":"documentation/hierarchy/settings/#natural-settings","title":"Natural Settings","text":"<p>Note</p> <p>The subsection Natural Settings is only active, when the Representation is set to Natural.</p>"},{"location":"documentation/hierarchy/settings/#level-count","title":"Level Count","text":"<p>Defines the maximum number of levels. The following example shows a Hierarchy with four levels.  </p>"},{"location":"documentation/hierarchy/settings/#fill-empty-levels","title":"Fill empty levels","text":"<p>Copies the bottom element of the Hierarchy until the last level. The following example depicts the previously shown Hierarchy with the activated Repeat Leaves option. </p>"},{"location":"documentation/hierarchy/settings/#description-texts-for-levels","title":"Description texts for levels","text":"<p>Sets the output field LevelTextN for each field LevelN containing the text based on the system language settings. </p>"},{"location":"documentation/hierarchy/settings/#leaves-only","title":"Leaves only","text":"<p>Returns only the leaves as data records. </p>"},{"location":"documentation/hierarchy/settings/#debug","title":"Debug","text":""},{"location":"documentation/hierarchy/settings/#enable-debug-logging","title":"Enable Debug Logging","text":"<p>Adds more detailed logs for the Xtract Hierarchy component to the extraction logs.  Activate Enable Debug Logging only when necessary, e.g., upon request of the support team.</p>"},{"location":"documentation/hierarchy/settings/#related-links","title":"Related Links","text":"<ul> <li>SAP Help: About SAP BW Hierarchies</li> </ul>"},{"location":"documentation/odp/","title":"ODP","text":"<p>This page shows how to use the Xtract ODP component. The Xtract ODP component can be used to extract data via the SAP Operational Data Provisioning (ODP) framework.</p>"},{"location":"documentation/odp/#about-odp","title":"About ODP","text":"<p>Operational data provisioning (ODP) is a framework in SAP ABAP applications for transferring data between systems. ODP provides a technical infrastructure for data extraction and replication from different SAP (ABAP) Systems, e.g.:</p> <ul> <li>ECC</li> <li>S/4 HANA</li> <li>BW </li> <li>BW/4 HANA</li> </ul> <p>The Xtract ODP component acts as a subscriber (consumer) and subscribes to a data provider.  ODP supports mechanisms to load data incrementally from data providers. For SAP BW/4HANA, ODP is the central infrastructure for data extraction and replication from SAP (ABAP) applications to an SAP BW/4HANA Data Warehouse. </p> <p>The Xtract ODP component provides data transfer from the following providers (also called Provider Context): </p> Provider Context SAP Source Objects ABAP Core Data Services [ABAP_CDS] - CDS Views SAP NetWeaver Business Warehouse or BW4/HANA [BW] BW/4HANA: - DSO / aDSO - CompositeProvider - InfoObjects  - Query as InfoProvider BW systems: - CompositeProvider - InfoCubes - Semantically partitioned objects - HybridProviders - MultiProviders - InfoSets SAP HANA Information Views [HANA] - Analysis Views - Calculation Views - Associated Attribute Views DataSources/Extractors [SAPI] - DataSources and Extractors SAP LT Queue Alias [SLT~your_queue_alias] - SAP Tables - Cluster tables - Pool tables <p>Depending on the connected SAP source system there are differences in available provider contexts. For more information on SAP ODP, see SAP Wiki: Operational Data Provisioning (ODP) and Delta Queue (ODQ).</p>"},{"location":"documentation/odp/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> <li>Implement the following SAP notes to use ODP:<ul> <li>1931427 - ODP Data Replication API 2.0</li> <li>2232584 - Release of SAP extractors for ODP replication (ODP SAPI)</li> <li>1560241 - Release of DataSources for ODP data replication API</li> <li>2196500 - ODP Package size cannot be reduced below 50 MB</li> <li>2191995 - ODQ Package Size cannot be reduced below 50 MByte</li> </ul> </li> <li>DataSources have to be activated in SAP, see SAP Help: Activating DataSources in the SAP OLTP System.</li> <li>Before creating ODP extractions, test the ODP source in SAP using the ABAP report RODPS_REPL_TEST to rule out and troubleshoot ODP problems in the ODP source. For more information, see SAP Wiki: Replication test with RODPS_REPL_TEST.</li> </ul> <p>Note</p> <p>The ODP API 1.0 has limitations compared to ODP API 2.0, e.g., ODP API 1.0 does not support the extraction of Hierarchy DataSources.  For more information, see SAP Wiki: Limitation of ODP API 1.0. </p> <p>Warning</p> <p>Missing Authorization. To use the Xtract ODP component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects accordingly.</p>"},{"location":"documentation/odp/#add-an-xtract-odp-component","title":"Add an Xtract ODP Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract ODP component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/odp/#look-up-data-objects","title":"Look up Data Objects","text":"<ol> <li>In the main window of the component, click [ ]. The window \u201cOperational Data Provider Lookup\u201d opens. </li> <li>In the field Name, enter the name of an extractor  . Use wildcards (*), if needed. </li> <li>Select a Context . Depending on the connected SAP source system there are differences in available Provider Contexts.</li> <li>Click [ ]. Search results are displayed.</li> <li>Select an extractor   and click [OK] to confirm.</li> </ol> <p>The application now returns to the main window of the component.</p> <p>Note</p> <p>To find DataSources, they have to be activated in SAP.</p>"},{"location":"documentation/odp/#define-the-xtract-odp-component","title":"Define the Xtract ODP Component","text":"<p>The Xtract ODP component offers the following options for data extractions:</p> <ol> <li> <p>In the section Fields, select the items you want to extract. </p> <p>Note</p> <p>TS_SEQUENCE_NUMBER is a technical primary key that can be added to the output. When working with identical data sets, the data set with the highest sequence number is the most current data set.</p> </li> <li> <p>Optional: edit selections to apply (dynamic) filters.  For more information, see Edit Selections.</p> <p>Note</p> <p>If your data source is a Hierarchy, see Hierarchy Segments for filter options.</p> </li> <li> <p>Select an Update Mode, e.g., to initialize delta extractions.</p> </li> <li>Click [Load live preview] to display a live preview of the first 100 records.</li> <li>Check the Settings before running the SSIS package.</li> <li>Click [OK] to save the component.</li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/odp/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract ODP component using SSIS variables and SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/odp/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables store values that an SQL Server Integration Services package and its containers, tasks, and event handlers can use at runtime.</p> <p>You can use SSIS variables for selections. Available SSIS variables are listed in the selection settings when parameter input ( ) is selected, see Edit Selections.</p>"},{"location":"documentation/odp/parameterization/#parameterization-using-expression-properties","title":"Parameterization using Expression Properties","text":"<p>The recommended way of parameterization is to use SSIS expressions to set Data Flow Properties.  Data Flow Properties are displayed in the \"Properties\" window of the Data Flow Task. </p> <p>Note</p> <p>Data Flow Properties are not to be confused with Custom Properties that are displayed in the \"Properties\" window of the component.  When parameterizing the Data Flow Properties, the Custom Properties are overwritten.</p> <p>For more information on property expressions, see Microsoft Documentation: Use Property Expressions in Packages.</p> <ol> <li>Right-click the Data Flow canvas and select Properties. The window \"Properties\" opens.</li> <li>Add an Expression by clicking using [\u2026]. The window \"Property Expression Editor\" opens. </li> <li>Select a property from the drop-down list under Property.</li> <li>Open the \"Expression Builder\" using the [\u2026] button under Expression.</li> <li>Build your Expression and click [Evaluate Expression] to check for correct syntax.</li> <li>Confirm your input with [OK].</li> </ol>"},{"location":"documentation/odp/parameterization/#data-flow-properties-of-xtract-odp","title":"Data Flow Properties of Xtract ODP","text":"<p>List of Data Flow Properties that can be parameterized:</p> Property Description [Xtract ODP].[SubscriptionSuffix] Adds a suffix to the ODP subscription generated by the Xtract ODP component. This allows using an SSIS package in two different SSIS environments, e.g. QA and PROD. accessing the same SAP system. The suffix allows generating a subscriber for each SSIS environment from the same ODP component. [Xtract ODP].[UpdateMode] Runs a delta initialization with or without extracting data on init, see Update Mode. [Xtract.ODP].[ExtractDataOnDeltaInit] Runs a delta initialization with or without extracting data on init, see Update Mode. [Xtract.ODP].[HierarchyName] Applies to Hierarchy DataSources only, see Select Hierarchy. Example: Loop over a list of hierarchies. [Xtract.ODP].[PackageSize] Corresponds to the setting Package Size."},{"location":"documentation/odp/parameterization/#custom-properties-of-xtract-odp","title":"Custom Properties of Xtract ODP","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract ODP component are displayed in the \"Properties\" window. </p> <p></p>"},{"location":"documentation/odp/parameterization/#convertsdates","title":"ConvertsDates","text":"<p>When this property is set to True (default) SAP date fields (YYYYMMDD) assume the SSIS pipeline type DT_DBDATE instead of DT_WSTR.  For the date conversions to apply, set the property UseLegacyDateConversion to False.  In case of invalid data in SAP date fields, the following date conversions are applied: </p> <ul> <li>InvalidDateReplacement </li> <li>MaxDateReplacement</li> <li>MinDateReplacement </li> </ul>"},{"location":"documentation/odp/parameterization/#invaliddatereplacement","title":"InvalidDateReplacement","text":"<p>Replaces an invalid date format.  The default value is 1970-01-02.  To use the property enter a replacement value for invalid SAP dates, such as '20190132' (January 32nd  2019) in the format yyyy-mm-dd.  The value NULL is supported.</p>"},{"location":"documentation/odp/parameterization/#maxdatereplacement","title":"MaxDateReplacement","text":"<p>Replaces SAP dates with the year 9999.  The default value is 2099-12-31.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year \u20189999\u2019.  Example: \u201899990101\u2019 (January 1st 9999). The value NULL is supported.</p>"},{"location":"documentation/odp/parameterization/#mindatereplacement","title":"MinDateReplacement","text":"<p>Replaces SAP dates with the year 0000.  The default value is 1970-01-01.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year '0000'.  Example: '00000000'. The value NULL is supported.</p>"},{"location":"documentation/odp/parameterization/#extractdataondeltainit","title":"ExtractDataOnDeltaInit","text":"<p>Runs a delta initialization with or without extracting data on init, see Update Mode.</p>"},{"location":"documentation/odp/parameterization/#hierarchyname","title":"HierarchyName","text":"<p>Applies to Hierarchy DataSources only, see Select Hierarchy. Example: Loop over a list of hierarchies. Example: Loop over a list of hierarchies.</p>"},{"location":"documentation/odp/parameterization/#packagesize","title":"PackageSize","text":"<p>Corresponds to the setting Package Size.</p>"},{"location":"documentation/odp/parameterization/#subscriptionsuffix","title":"SubscriptionSuffix","text":"<p>Adds a suffix to the ODP subscription generated by the Xtract ODP component.   This allows using an SSIS package in two different SSIS environments, e.g. QA and PROD. accessing the same SAP system. The suffix allows generating a subscriber for each SSIS environment from the same ODP component.</p>"},{"location":"documentation/odp/parameterization/#updatemode","title":"UpdateMode","text":"<p>Sets the update mode of an extraction. Permitted values are: </p> <ul> <li>(F)ull</li> <li>(D)elta</li> <li>(R)ecovery</li> </ul>"},{"location":"documentation/odp/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Microsoft Documentation: Integration Services (SSIS) Variables</li> <li>Microsoft Documentation: Use Property Expressions in Packages</li> </ul>"},{"location":"documentation/odp/provider-context/","title":"Provider Context","text":"<p>This page shows how to use the Provider Contexts of the Xtract ODP component. The Xtract ODP component supports the following Provider Contexts:</p> Provider Context SAP Source Objects ABAP Core Data Services [ABAP_CDS] - CDS Views SAP NetWeaver Business Warehouse or BW4/HANA [BW] BW/4HANA: - DSO / aDSO - CompositeProvider - InfoObjects  - Query as InfoProvider BW systems: - CompositeProvider - InfoCubes - Semantically partitioned objects - HybridProviders - MultiProviders - InfoSets SAP HANA Information Views [HANA] - Analysis Views - Calculation Views - Associated Attribute Views DataSources/Extractors [SAPI] - DataSources and Extractors SAP LT Queue Alias [SLT~your_queue_alias] - SAP Tables - Cluster tables - Pool tables"},{"location":"documentation/odp/provider-context/#abap-cds-views","title":"ABAP CDS Views","text":"<p>According to the Core Data Service (CDS) concept, data models based on CDS serve as central definitions that can be used in many different domains, such as transactional and analytical applications.  </p> <p>CDS is defined using an SQL-based data definition language (DDL).  DLL leverages the standard SQL with several additional concepts, such as associations, which define the relationships between CDS views, and annotations that direct the domain-specific use of CDS artifacts.</p>"},{"location":"documentation/odp/provider-context/#available-cds","title":"Available CDS","text":"<p>There are two types of CDS available:</p> <ul> <li>HANA CDS (defined in XS engine) </li> <li>ABAP CDS</li> </ul> <p>For each ABAP CDS entity defined in the DDL source code, an SQL view is generated in the ABAP Dictionary.  The same way as the views created with Dictionary tools (transaction SE11), ABAP CDS entities can be accessed in ABAP using Open SQL statements. </p> <p>CDS is important for SAP application development. For example, S/4HANA uses CDS to provide both core transactional functionality as well as analytical content for reporting.  In BW/4 HANA, ABAP based CDS views can be used for data extraction.  </p> <p>Two possible use cases for CDS:</p> <ul> <li>Direct access to a CDS view from BW/4 HANA  </li> <li>Delta extraction from a CDS view in S/4 HANA to BW</li> </ul> <p>CDS Views support Full and Delta Extraction. </p>"},{"location":"documentation/odp/provider-context/#replace-bw-extractors-with-cds-views-in-s4hana","title":"Replace BW Extractors with CDS Views in S/4HANA","text":"<p>In majority of cases traditional BW extractors can be used to extract data from an S/4HANA systems.  Due to simplifications in the S/4HANA system, several extractors are now deprecated or can no longer be used in a usual manner.  To use the deprecated or altered extractors, SAP may deliver extraction relevant (via the analytical annotations) CDS Views.</p>"},{"location":"documentation/odp/provider-context/#use-abap-cds-views","title":"Use ABAP CDS Views","text":"<p>Note</p> <p>To find an ABAP CDS view it must have the following Annotation: <code>@Analytics.dataExtraction.Enabled: true</code>.  If the source SAP system is not on a HANA DB, an additional Annotation is needed: <code>@Analytics.dataCategory: #CUBE/#FACT/#DIMENSION</code>.</p> <p>Things that need to be considered when using BW InfoProviders:</p> <ol> <li>When looking up ABAP CDS Views in the Xtract ODP component, make sure to select the correct context.  </li> <li>When the delta load is available for the source object in the SAP source system, the Delta Update option is available in the Xtract ODP component. </li> <li>Click [Load live preview] to preview the data without running an extraction.</li> </ol>"},{"location":"documentation/odp/provider-context/#bw-infoproviders","title":"BW InfoProviders","text":"<p>The Operational Data Provisioning (ODP) framework allows you to extract data from the InfoProviders in your source BW and BW/4 HANA systems.  Available InfoProvider types are dependent on your source BW and BW/4 HANA system.</p>"},{"location":"documentation/odp/provider-context/#available-infoproviders","title":"Available InfoProviders","text":"<ul> <li> <p>Available InfoProviders in SAP BW\u22154HANA</p> <ul> <li>CompositeProvider - object type HCPR (full extraction)</li> <li>DataStore objects (with delta extraction)<ul> <li>InfoObjects</li> <li>Master data</li> <li>Texts</li> <li>Hierarchies</li> </ul> </li> <li>Query as InfoProvider</li> </ul> </li> <li> <p>Additional InfoProviders in BW Systems</p> <ul> <li>CompositeProvider - object type HCPR (full extraction)</li> <li>InfoCubes (with delta extraction)</li> <li>Semantically partitioned objects</li> <li>HybridProviders</li> <li>MultiProviders</li> <li>InfoSets</li> </ul> </li> </ul>"},{"location":"documentation/odp/provider-context/#use-bw-infoproviders","title":"Use BW InfoProviders","text":"<p>Things that need to be considered when using BW InfoProviders:</p> <ol> <li>When looking up BW InfoProviders in the Xtract ODP component, make sure to select the correct context.  </li> <li>When the delta load is available for the source object in the SAP source system, the Delta Update option is available in the Xtract ODP component. </li> <li>Click [Load live preview] to preview the data without running an extraction.</li> </ol>"},{"location":"documentation/odp/provider-context/#extractors","title":"Extractors","text":"<p>The Xtract ODP component can be used to extract data from Business Content DataSource (Extractors).  The majority of DataSources, including generic (custom) DataSources, can be released for Operational Data Provisioning. </p> <p>The Xtract ODP component does not change the implementation of application extractors. All features and capabilities remain unchanged. </p> <p>An extractor (in ERP or S/4 HANA) is an encapsulated business object, representing multiple source tables already in the source system and containing business logic.</p>"},{"location":"documentation/odp/provider-context/#available-extractors","title":"Available Extractors","text":"<ul> <li>Transactional data</li> <li>Master data</li> <li>Text data</li> <li>Hierarchy data</li> </ul> <p>There are standard delta extraction methods available for master data and transaction data. </p>"},{"location":"documentation/odp/provider-context/#use-extractors","title":"Use Extractors","text":"<p>Things that need to be considered when using Extractors:</p> <ul> <li>DataSources have to be activated in SAP, see SAP Help: Set Up and Activate DataSources.</li> <li>When looking up DataSources or Extractors, make sure to select the correct context.  </li> <li>If delta load is available for the source object in the SAP source system, the Delta Update option is available in the Xtract ODP component. </li> <li>If the DataSource is a Hierarchy, there are additional settings, see Hierarchies.</li> </ul>"},{"location":"documentation/odp/provider-context/#hierarchies","title":"Hierarchies","text":"<p>If the selected source object is of type Hierarchy, the window \"Select Hierarchy\" opens.</p> <ol> <li>Select a Hierarchy from the list of Hierarchies in the \"Select Hierarchy\" window.  </li> <li>Confirm your selection with [OK].  The name of the selected Hierarchy is displayed under Selected Hierarchy .</li> <li>Select which segments to extract  .  </li> </ol>"},{"location":"documentation/odp/provider-context/#segments-to-extract","title":"Segment(s) to extract","text":"<p>Hierarchies are divided into segments by the API. Choose which segments of the Hierarchy to extract  . The selected data is displayed in the Fields section.</p> Option Description Merges All segments contain the field Node ID.  Using the Node ID Merges automatically combines all 3 segments. Elements The segment Elements contains information about the elements of the Hierarchy e.g., name, parent, child, etc. Texts The segment Texts contains the description texts of the Elements.  The language of the descriptions depends on the language settings of the SAP connection. Intervals The segment Intervals contains additional information if an element is an interval. In ODP no TO and FROM columns are displayed, see SAP Note 3090500. <p>Note</p> <p>Hierarchies can be passed as runtime parameters at runtime.</p>"},{"location":"documentation/odp/provider-context/#hana-views","title":"HANA Views","text":"<p>Operational Data Provisioning (ODP) can be used to connect SAP HANA database of an SAP ABAP source system. The connection is provided via RFC. </p>"},{"location":"documentation/odp/provider-context/#available-hana-views","title":"Available HANA Views:","text":"<ul> <li>Analysis Views</li> <li>Calculation Views </li> <li>Associated Attribute Views </li> </ul>"},{"location":"documentation/odp/provider-context/#use-hana-views","title":"Use HANA Views","text":"<p>Things that need to be considered when using HANA Views:</p> <ol> <li>When looking up HANA Views in the Xtract ODP component, make sure to select the correct context.  </li> <li>When the delta load is available for the source object in the SAP source system, the Delta Update option is available in the Xtract ODP component. </li> <li>Click [Load live preview] to preview the data without running an extraction.</li> </ol>"},{"location":"documentation/odp/provider-context/#slt-server","title":"SLT Server","text":"<p>The Operational Data Provisioning (ODP) framework allows you to extract tables and simple views from SAP HANA systems via an SAP Landscape Transformation Replication Server (SLT). The SLT server is a trigger-based CDC solution that can replicate SAP tables and views and make them available as delta extracts.</p>"},{"location":"documentation/odp/provider-context/#available-tables","title":"Available Tables","text":"<ul> <li>Regular SAP tables</li> <li>Cluster tables</li> <li>Pool tables</li> </ul>"},{"location":"documentation/odp/provider-context/#requirements","title":"Requirements","text":"<p>The SLT server context requires an SAP Landscape Transformation Replication Server (SLT) that is set up for ODP, see SAP Help: Transferring Data from SLT Using Operational Data Provisioning.</p> <p>The following requirements apply to the SLT server:</p> <ul> <li>Minimum release version of the SLT server:<ul> <li>Add-On DMIS 2011 SP05 </li> <li>SAP NetWeaver 7.3 SPS10, 7.31 SPS09 or 7.4 SPS04 (ODP infrastructure)</li> </ul> </li> <li>Add-On DMIS_2011 SP03/SP04 or higher or 2010 SP08/SP09 is installed in the SAP source system.</li> <li>The following SAP Notes are published in the SAP source system: <ul> <li>SAP Note 1863476 </li> <li>SAP Note 1817467 when using Add-On DMIS 2011 SP05</li> </ul> </li> </ul>"},{"location":"documentation/odp/provider-context/#use-slt-server","title":"Use SLT Server","text":"<p>Consider the following when using an SLT server:</p> <ol> <li>When looking up data via an SLT server, make sure to select the correct context.  </li> <li>A live preview of the data is not available in the SLT server context. </li> </ol> <p>For more information on SLT servers, see SAP Help: Transferring Data from SLT Using Operational Data Provisioning or download the SLT-Performance-Guide (Nov 2022).</p>"},{"location":"documentation/odp/selections/","title":"Selections","text":"<p>This page shows how to filter the data that is extracted by the Xtract ODP component. Selections limit the result set of the Xtract ODP component to extract only records that match the selection.</p>"},{"location":"documentation/odp/selections/#edit-selections","title":"Edit Selections","text":"<p>Follow the steps below to edit selection fields and filter data:</p> <ol> <li>In the subsection Fields, click Edit next to the field you want to edit. The window \u201cEdit selection\u201d opens. </li> <li>Click [Single] or [Range] to add a corresponding filter, see Filter Options.</li> <li>In the column Sign , select Include to add the filtered data to the output or select Exclude to remove the filtered data from the output. </li> <li>In the column Option , select an operator, see Filter Options. </li> <li> <p>In the column Value, enter values directly into the input fields Low and High or assign existing  SSIS variables  to the selection fields  .</p> <p>Note</p> <p>When SSIS variables are available, you can use the icon button next to the input field to switch between static values ( ) and SSIS variables ( ).</p> </li> <li> <p>Click [OK] to confirm your input. </p> </li> <li>Click [Load live preview] in the main window of the component to check the result of your selection.  If SSIS variables are defined, you are prompted to populate the parameters with actual values.</li> </ol> <p>The number of defined filters is displayed in square brackets next to the Edit option.</p>"},{"location":"documentation/odp/selections/#filter-options","title":"Filter Options","text":"<p>The Xtract ODP component offers the following filter options:</p> Type Operator Description Single Compare data to a single specified value. (not) like pattern True if data values do (not) contain to the specified value. Not not all ODP contexts and data sources support this option. (not) equal to True if data is (not) equal to the specified value. at least True if data is greater than or equal to the specified value. more than True if data is greater than the specified value. at most True if data is less than or equal to the specified value. less than True if data is less than the specified value. Range Check if the data is (not) within a specified range of values. (not) between True if data values do (not) lie between the 2 specified values."},{"location":"documentation/odp/selections/#data-format","title":"Data Format","text":"<p>Use the following internal SAP representation for input:</p> <ul> <li>Date: The date 01.01.1999 has the internal representation 19990101 (YYYYMMDD).</li> <li>Year period: The year period 001.1999 has the internal representation 1999001 (YYYYPPP).</li> <li>Numbers: Numbers must contain the leading zeros, e.g., customer number 1000 has the internal representation 0000001000.</li> </ul> <p>Warning</p> <p>Values accept only the internal SAP representation. Input that does not use the internal SAP representation results in error messages.  Use the internal SAP representation. Example:  <pre><code>ERPConnect.ABAPProgramException: RfcInvoke failed(RFC_ABAP_MESSAGE): Enter date in the format \\_.\\_.\\_\n</code></pre></p>"},{"location":"documentation/odp/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract ODP component.  To open the settings, click Settings in the main window of the component. </p> <p></p>"},{"location":"documentation/odp/settings/#extraction-settings","title":"Extraction Settings","text":""},{"location":"documentation/odp/settings/#package-size","title":"Package Size","text":"<p>The extracted data is split into packages of the defined size. The default value is 50000 lines. A package size between 20000 and 50000 is advisable for large amounts of data. 0 means no packaging.  Not using packaging can lead to an RFC timeout for large data extractions.</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - No more storage space available for extending an internal table To avoid a memory overflow on the SAP source system and to avoid huge overheads, choose a package size that suits your memory capacity.</p> <p>Make sure that your SAP version includes the necessary notes, see Prerequisites. </p>"},{"location":"documentation/odp/settings/#adjust-currency-decimals","title":"Adjust Currency Decimals","text":"<p>The default number of decimal places for a currency in the SAP database is 2 decimals. Currencies that do not have decimals are also stored in this format, e.g. JPY, VND, KRW, etc.</p> <p>Example:</p> Currency Actual Amount Amount stored in SAP database JPY 100 1.00 KRW 10000 100.00 <p>When extracting currencies with no decimals, the amount stored in SAP is returned e.g., 100 JPY are extracted as 1.00. To correct the decimal placement of the extracted data, activate Adjust Currency Decimals. If Adjust Currency Decimals is active, currencies without decimals are multiplied by a factor that balances out the decimals.</p> <p>Adjust Currency Decimals also requires the extraction of the corresponding CURRENCY field that can be used as a reference for the multiplication factor. Use the [Load live preview] function to find the correct currency field/s. </p> <ul> <li>If the currency field is part of the table, add it to the output.</li> <li>If the currency field is in another table, join the tables. </li> <li>If the reference is not part of a table, Adjust Currency Decimals cannot be used.</li> </ul> <p>Note</p> <p>The multiplication factor used in Adjust Currency Decimals is determined by the SAP currency table TCURX.  To access the table, the following SAP Authority objects must be set in SAP: S_TABU_NAM    ACTVT=03; TABLE=TCURX.</p>"},{"location":"documentation/odp/subscriptions/","title":"Subscriptions","text":"<p>This page contains a description of the \"Show active subscriptions\" menu in the Xtract ODP component. To open the menu, click Show active subscriptions in the main window of the component.</p> <p></p>"},{"location":"documentation/odp/subscriptions/#show-active-subscriptions","title":"Show Active Subscriptions","text":"<p>The Xtract ODP component acts as a subscriber (consumer) to data providers to extract data from the data provider. The window \"Delta Subscriptions for product\" displays details about subscribers.</p> <p></p> Column Name Description Name Technical name of all subscriptions of a specific Theobald Software Xtract product (e.g., Xtract Universal). Process Technical name of a subscription R. (number of requests) Number of executed delta requests Last request Timestamp of the last delta request <p>To delete a subscription, click [ ] on the right side of the window.</p> <p>Tip</p> <p>The information displayed in the \"Delta Subscriptions for product\" window can also be viewed in SAP transaction ODQMON.  </p>"},{"location":"documentation/odp/update-mode/","title":"Update Mode","text":"<p>The Xtract ODP component can be used for delta extractions. This means that only recently added or changed data is extracted, instead of a full load. The data that is extracted is defined by the Update Mode setting in the main window of the component.</p> <p></p>"},{"location":"documentation/odp/update-mode/#update-modes","title":"Update Modes","text":""},{"location":"documentation/odp/update-mode/#full-update","title":"Full update","text":"<p>Extracts all data (full mode).</p>"},{"location":"documentation/odp/update-mode/#delta-update","title":"Delta update","text":"<p>Note</p> <p>The Delta update option is ready for input only if the ODP provider in the SAP source system supports delta updates.</p> <p>Runs a delta initialization, if no delta initialization is available for the selected subscriber.  Runs a delta update, if there is a delta initialization for the selected subscriber. A delta update only extracts data that was added or changed on the SAP system since the last delta request.</p> <ul> <li>Extract data  Allows extracting data when running a delta initialization.  Leaving this checkbox unchecked runs a delta initialization without extracting data. </li> <li>Auto-sync subscription Allows deletion of the existing subscription and creates a new subscription, if required. Each extraction has an internal ID, which is part of the subscriber.  If you change the filter of an extraction after the delta initialization, the Auto-sync subscription option automatically deletes the existing subscription and creates a new one.  A subscription is deleted, if the error message \"Illegal change in selection parameters\" returns from the SAP system. To delete subscriptions manually, see Subscriptions.</li> </ul>"},{"location":"documentation/odp/update-mode/#delta-recovery","title":"Delta recovery","text":"<p>Re-runs the last delta update.</p>"},{"location":"documentation/odp/update-mode/#direct-read-without-odq","title":"Direct read (without ODQ)","text":"<p>Directly reads all available data, bypassing the ODQ (Operational Delta Queue).  Direct read is the only update mode that supports data aggregation functions (Maximum, Minimum and Sum).</p>"},{"location":"documentation/ohs/","title":"Xtract OHS","text":"<p>This page shows how to use the Xtract OHS component. The Xtract OHS component can be used to extract data from Open Hub Service (OHS) destinations.</p>"},{"location":"documentation/ohs/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> <li>Configure your SAP BW system to make data sources accessible, see Customization for OHS in BW.</li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract OHS component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects accordingly.</p>"},{"location":"documentation/ohs/#add-an-xtract-ohs-component","title":"Add an Xtract OHS Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract OHS component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/ohs/#look-up-an-ohs-destination","title":"Look up an OHS Destination","text":"<ol> <li> <p>In the main window of the component, select an Extraction type in the main window of the component.</p> <ul> <li>Select Table if you use BW4Hana2.0 and make sure that the open hub destination type in SAP is set to database table.</li> <li>Select Third party tool (legacy) if you use BW4Hana2.0 and make sure that the open hub destination type in SAP is set to third party tool.</li> </ul> <p></p> </li> <li> <p>Click [ Lookup]. The window \u201cOHS Lookup\u201d opens.</p> </li> <li>In the field OHS Destination, enter the name of an OHS destination  . Use wildcards (*) if needed. </li> <li>Click [ ]. Search results are displayed  .</li> <li>Select an OHS destination and click [OK] to confirm.</li> </ol> <p>The application now returns to the main window of the component.</p>"},{"location":"documentation/ohs/#define-the-xtract-ohs-component","title":"Define the Xtract OHS  Component","text":"<p>The Xtract OHS component offers the following options for OHS extractions:</p> <ol> <li> <p>If Process Chain is empty, enter an SAP process chain assigned to your OHS destination, see SAP Help: Display/Maintenance of Process Chain Attributes.</p> <p>Note</p> <p>If Process Chain is left empty, the extraction fails.</p> <p></p> </li> <li> <p>Optional: Use the Timeout setting to set a maximum time period to wait for a notification from the BW system.  If the time limit is reached, the extraction fails.</p> </li> <li>Check the Settings before running the SSIS package.</li> <li>Click [OK] to save the component.</li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/ohs/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract OHS component using SSIS variables directly in the component and by using SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/ohs/parameterization/#parameterization-using-expression-properties","title":"Parameterization using Expression Properties","text":"<p>The recommended way of parameterization is to use SSIS expressions to set Data Flow Properties.  Data Flow Properties are displayed in the \"Properties\" window of the Data Flow Task. </p> <p>Note</p> <p>Data Flow Properties are not to be confused with Custom Properties that are displayed in the \"Properties\" window of the component.  When parameterizing the Data Flow Properties, the Custom Properties are overwritten.</p> <p>For more information on property expressions, see Microsoft Documentation: Use Property Expressions in Packages.</p> <ol> <li>Right-click the Data Flow canvas and select Properties. The window \"Properties\" opens.</li> <li>Add an Expression by clicking using [\u2026]. The window \"Property Expression Editor\" opens. </li> <li>Select a property from the drop-down list under Property.</li> <li>Open the \"Expression Builder\" using the [\u2026] button under Expression.</li> <li>Build your Expression and click [Evaluate Expression] to check for correct syntax.</li> <li>Confirm your input with [OK].</li> </ol>"},{"location":"documentation/ohs/parameterization/#data-flow-properties-of-xtract-ohs","title":"Data Flow Properties of Xtract OHS","text":"<p>List of Data Flow Properties that can be parameterized:</p> Property Name Description [Xtract OHS].[ConvertsDates] Enable or disable conversion of SAP dates, see ConvertsDates. [Xtract OHS].[ConvertsTimes] Enable or disable conversion of SAP times. [Xtract OHS].[MinDateReplacement] Converts the SAP date 00000000 to the entered value, see MinDateReplacement. [Xtract OHS].[MaxDateReplacement] Converts the SAP date 9999XXXX to the entered value, see MaxDateReplacement. [Xtract OHS].[InvalidDateReplacement] Every invalid value will be converted into the entered value, see InvalidDateReplacement."},{"location":"documentation/ohs/parameterization/#custom-properties-of-xtract-ohs","title":"Custom Properties of Xtract OHS","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract OHS component are displayed in the \"Properties\" window. </p> <p></p>"},{"location":"documentation/ohs/parameterization/#convertsdates","title":"ConvertsDates","text":"<p>When this property is set to True (default) SAP date fields (YYYYMMDD) assume the SSIS pipeline type DT_DBDATE instead of DT_WSTR.  For the date conversions to apply, set the property UseLegacyDateConversion to False.  In case of invalid data in SAP date fields, the following date conversions are applied: </p> <ul> <li>InvalidDateReplacement </li> <li>MaxDateReplacement</li> <li>MinDateReplacement </li> </ul>"},{"location":"documentation/ohs/parameterization/#invaliddatereplacement","title":"InvalidDateReplacement","text":"<p>Replaces an invalid date format.  The default value is 1970-01-02.  To use the property enter a replacement value for invalid SAP dates, such as '20190132' (January 32nd  2019) in the format yyyy-mm-dd.  The value NULL is supported.</p>"},{"location":"documentation/ohs/parameterization/#maxdatereplacement","title":"MaxDateReplacement","text":"<p>Replaces SAP dates with the year 9999.  The default value is 2099-12-31.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year \u20189999\u2019.  Example: \u201899990101\u2019 (January 1st 9999). The value NULL is supported.</p>"},{"location":"documentation/ohs/parameterization/#mindatereplacement","title":"MinDateReplacement","text":"<p>Replaces SAP dates with the year 0000.  The default value is 1970-01-01.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year '0000'.  Example: '00000000'. The value NULL is supported.</p>"},{"location":"documentation/ohs/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Xtract OHS Settings</li> <li>Microsoft Documentation: Use Property Expressions in Packages</li> </ul>"},{"location":"documentation/ohs/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract OHS component.  To open the settings, click Settings in the main window of the component. </p> <p></p> <p>The OHS settings consist of two tabs: </p> <ul> <li>Table</li> <li>Third party tool (legacy)</li> </ul> <p>The settings correspond to the selected extraction type. Set either Table or Third party tool (legacy) settings.</p> <p>Warning</p> <p>Could not load list of available function modules because permission for table ENLFDIR is missing This warning appears if a technical SAP user does not have authorization rights to access the SAP table ENLFDIR. Confirm the warning as the user can still adjust the extraction settings.</p>"},{"location":"documentation/ohs/settings/#table-settings","title":"Table Settings","text":""},{"location":"documentation/ohs/settings/#extraction-settings","title":"Extraction Settings","text":""},{"location":"documentation/ohs/settings/#package-size","title":"Package Size","text":"<p>The extracted data is split into packages of the defined size. The default value is 50000 lines. A package size between 20000 and 50000 is advisable for large amounts of data. 0 means no packaging.  Not using packaging can lead to an RFC timeout for large data extractions.</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - No more storage space available for extending an internal table To avoid a memory overflow on the SAP source system and to avoid huge overheads, choose a package size that suits your memory capacity.</p>"},{"location":"documentation/ohs/settings/#row-limit","title":"Row Limit","text":"<p>Specifies the maximum number of extracted records. 0 extracts all data. You can use this option to perform tests with a small amount of data by entering a row limit of e.g., 1000.</p>"},{"location":"documentation/ohs/settings/#function-module","title":"Function Module","text":"<p>Specifies the name of the function module used for data extraction.  This field is filled automatically depending on what function modules are installed on your SAP system. Custom function modules are supported.</p> <p>The following function modules can be used to extract tables:</p> <ul> <li>RFC_READ_TABLE (TAB512)</li> <li>/BODS/RFC_READ_TABLE (TAB2048)</li> <li>/SAPDS/RFC_READ_TABLE (TAB2048)</li> <li>/BODS/RFC_READ_TABLE2</li> <li>/SAPDS/RFC_READ_TABLE2</li> <li>Z_THEO_READ_TABLE</li> <li>/THEO/READ_TABLE (recommended)</li> </ul> <p>Warning</p> <p>Duplicates in the target environment. The SAP standard modules for table extraction do not have pointers for table fields. In larger tables this may cause low performance and duplicates in the target environment. Use the function module THEO/READ_TABLE from Theobald Software to ensure smooth extractions.</p> <p>Note the necessary SAP Authority Objects:</p> <pre><code>S_TABU_NAM ACTVT=03; TABLE=ENLFDIR\n</code></pre>"},{"location":"documentation/ohs/settings/#extract-data-in-background-job","title":"Extract Data in Background Job","text":"<p>If Background job timeout (seconds) checkbox is activated, the table extraction is executed as a background job in SAP.  This setting is optional and is supported in combination with function module THEO/READ_TABLE or Z_THEO_READ_TABLE version 2.0.  Activate the setting Background job timeout (seconds) for long-running extractions with a large amounts of data that may run into a timeout error (\u201cTime limit exceeded\u201d), when using the foreground mode.</p> <p>Tip</p> <p>The extraction jobs can be found in the SAP JobLog (SM37) under the JobName theo_read_table.</p> <p>Warning</p> <p>Shared Memory ran out of memory!  If this error message pops up when running an extraction in the background, adjust the size of the Shared Memory. SAP recommends a Shared Memory size of 800MB~1.5GB for a production/test system or 2GB~4GB for S/4 systems, see SAP Support: How to solve SYSTEM_NO_SHM_MEMORY runtime error.</p>"},{"location":"documentation/ohs/settings/#advanced-settings","title":"Advanced Settings","text":""},{"location":"documentation/ohs/settings/#background-job-timeout-seconds","title":"Background Job Timeout (seconds)","text":"<p>Sets a timeout period for extractions that run in background mode. The default value is 180 seconds. The maximum timeout value is 3600 seconds. </p> <p>Note</p> <p>The background job timeout setting only takes effect if the extractions run in background mode using /THEO/READ_TABLE.</p>"},{"location":"documentation/ohs/settings/#adjust-currency-decimals","title":"Adjust Currency Decimals","text":"<p>The default number of decimal places for a currency in the SAP database is 2 decimals. Currencies that do not have decimals are also stored in this format, e.g. JPY, VND, KRW, etc.</p> <p>Example:</p> Currency Actual Amount Amount stored in SAP database JPY 100 1.00 KRW 10000 100.00 <p>When extracting currencies with no decimals, the amount stored in SAP is returned e.g., 100 JPY are extracted as 1.00. To correct the decimal placement of the extracted data, activate Adjust Currency Decimals. If Adjust Currency Decimals is active, currencies without decimals are multiplied by a factor that balances out the decimals.</p> <p>Adjust Currency Decimals also requires the extraction of the corresponding CURRENCY field that can be used as a reference for the multiplication factor. Use the [Load live preview] function to find the correct currency field/s. </p> <ul> <li>If the currency field is part of the table, add it to the output.</li> <li>If the currency field is in another table, join the tables. </li> <li>If the reference is not part of a table, Adjust Currency Decimals cannot be used.</li> </ul> <p>Note</p> <p>The multiplication factor used in Adjust Currency Decimals is determined by the SAP currency table TCURX.  To access the table, the following SAP Authority objects must be set in SAP: S_TABU_NAM    ACTVT=03; TABLE=TCURX.</p>"},{"location":"documentation/ohs/settings/#third-party-tool-settings","title":"Third Party Tool Settings","text":""},{"location":"documentation/ohs/settings/#gateway-host","title":"Gateway host","text":"<p>Enter the data of your gateway host. It is often the same host as the SAP application server.</p>"},{"location":"documentation/ohs/settings/#gateway-service","title":"Gateway service","text":"<p>Enter the data of your gateway service (sapgwXX, where XX is the system number).</p>"},{"location":"documentation/ohs/settings/#program-id","title":"Program ID","text":"<p>Enter the program ID of the SAP RFC destination.</p>"},{"location":"documentation/query/","title":"Xtract Query","text":"<p>This page shows how to use the Xtract Query component. The Xtract Query component can be used to extract data via SAP queries.</p>"},{"location":"documentation/query/#about-sap-queries","title":"About SAP Queries","text":"<p>SAP Queries are used to access data sets in SAP, see SAP Help - Working with Queries for more information. The SAP queries that can be used with Xtract Query component are created by the SAP transactions SQ02 and SQ01. To use a BW Query as a data source, see BW InfoCubes and BExQueries.</p>"},{"location":"documentation/query/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract Query component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects: SAP Query accordingly.</p>"},{"location":"documentation/query/#add-an-xtract-query-component","title":"Add an Xtract Query Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract Query component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/query/#look-up-an-sap-query","title":"Look up an SAP Query","text":"<ol> <li>In the main window of the component, click [ ]. The window \"Query Lookup\" opens. </li> <li>Enter the name of an SAP query in the field Query Name or the name of a user group in the field User group .  Use wildcards (*) if needed. </li> <li>Select the query work area that contains the query object  . For more information, see SAP Help: Query Areas.</li> <li>Click [ ]. Search results are displayed.</li> <li>Select a query   and click [OK].</li> </ol> <p>The application returns to the main window of the component.</p>"},{"location":"documentation/query/#define-the-xtract-query-component","title":"Define the Xtract Query Component","text":"<p>The Xtract Query component offers the following options for query extractions:</p> <ol> <li>If the SAP query has variants, select a variant from the drop-down-list Variant. For more information, see Choose a Variant. </li> <li>In the section Selection Screen, edit a selection criterion you want to change or dynamize  . For more information, see Edit Selections. </li> <li>Check the Settings before running the SSIS package.</li> <li>Click [OK] to save the component.</li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/query/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract Query component using SSIS variables directly in the component and by using SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/query/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables store values that an SQL Server Integration Services package and its containers, tasks, and event handlers can use at runtime. You can use SSIS variables for selections. Available SSIS variables are listed in the selection settings when parameter input ( ) is selected, see Edit Selections. </p>"},{"location":"documentation/query/parameterization/#parameterization-using-expression-properties","title":"Parameterization using Expression Properties","text":"<p>The recommended way of parameterization is to use SSIS expressions to set Data Flow Properties.  Data Flow Properties are displayed in the \"Properties\" window of the Data Flow Task. </p> <p>Note</p> <p>Data Flow Properties are not to be confused with Custom Properties that are displayed in the \"Properties\" window of the component.  When parameterizing the Data Flow Properties, the Custom Properties are overwritten.</p> <p>For more information on property expressions, see Microsoft Documentation: Use Property Expressions in Packages.</p> <ol> <li>Right-click the Data Flow canvas and select Properties. The window \"Properties\" opens.</li> <li>Add an Expression by clicking using [\u2026]. The window \"Property Expression Editor\" opens. </li> <li>Select a property from the drop-down list under Property.</li> <li>Open the \"Expression Builder\" using the [\u2026] button under Expression.</li> <li>Build your Expression and click [Evaluate Expression] to check for correct syntax.</li> <li>Confirm your input with [OK].</li> </ol>"},{"location":"documentation/query/parameterization/#data-flow-properties-of-xtract-query","title":"Data Flow Properties of Xtract Query","text":"<p>List of Data Flow Properties that can be parameterized:</p> Property Description [Xtract Query].[Variant] Corresponds to the settings Variants in the Xtract Query component."},{"location":"documentation/query/parameterization/#custom-properties-of-xtract-query","title":"Custom Properties of Xtract Query","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract Query component are displayed in the \"Properties\" window. </p> <p></p> <p>List of the relevant Custom Properties:</p> Property Description MaxRows Corresponds to the settings MaxRows in the Xtract Query component. Variant Corresponds to the settings Variants in the Xtract Query component.."},{"location":"documentation/query/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Microsoft Documentation: Integration Services (SSIS) Variables</li> <li>Microsoft Documentation: Use Property Expressions in Packages</li> </ul>"},{"location":"documentation/query/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract Query component.  To open the settings, click Settings in the main window of the component. </p> <p></p>"},{"location":"documentation/query/settings/#extraction-settings","title":"Extraction Settings","text":""},{"location":"documentation/query/settings/#max-rows","title":"Max Rows","text":"<p>Specifies the maximum number of extracted records. 0 extracts all data. You can use this option to perform tests with a small amount of data by entering a row limit of e.g., 1000.</p>"},{"location":"documentation/query/settings/#treat-no-data-selected-as-error","title":"Treat 'No Data Selected' as Error","text":"<p>If this option is active, an error message is displayed when there is no data to be extracted.</p>"},{"location":"documentation/query/variants-and-selections/","title":"Variants and Selections","text":"<p>Most queries allow entering selections before query execution. Selections limit the result set of the query to extract only records that match the selection. A selection variant can be created in SAP, see SAP Help: Query Variants.  The purpose of a variant is to minimize the necessity to enter selections when running a query.</p> <p>Note</p> <p>Manual selections and variants can be combined. Manual selections overwrite any selections in the variant.</p>"},{"location":"documentation/query/variants-and-selections/#choose-a-variant","title":"Choose a Variant","text":"<p>Choose a variant from the drop-down-list Variant.  When creating a new variant in SAP after creating the extraction, click [ ] to load the new variant.</p> <p></p> <p>The selections of the variant are not displayed in the Selection Screen section of the window.  To see the definition of a variant, open the variant in SAP.</p>"},{"location":"documentation/query/variants-and-selections/#edit-selections","title":"Edit Selections","text":"<p>The Selection Screen in the main window of the component corresponds to the input screen in SAP.</p> <p>Note</p> <p>Some selection fields only have a technical name and no description.  To understand which field corresponds to a field in SAP, open the input screen in SAP.  Click on a selection field and press the function key F1 to display the technical name of the selection field. </p> <p>Follow the steps below to edit selection fields and filter data:</p> <ol> <li>In the subsection Selection Screen, click [Edit] next to the field you want to edit. The window \u201cEdit selection\u201d opens. </li> <li>Click [Single] or [Range] to add a corresponding filter, see Filter Options.</li> <li>In the column Sign , select Include to add the filtered data to the output or select Exclude to remove the filtered data from the output. </li> <li>In the column Option , select an operator, see Filter Options. </li> <li> <p>In the column Value, enter values directly into the input fields Low and High or assign existing  SSIS variables  to the selection fields  .</p> <p>Note</p> <p>When SSIS variables are available, you can use the icon button next to the input field to switch between static values ( ) and SSIS variables ( ).</p> </li> <li> <p>Click [OK] to confirm your input. </p> </li> </ol> <p>Note that edited selection fields overwrite the selection fields in the variant. </p> <p>Tip</p> <p>If you use multiple selection parameters, it is more efficient to create a variant in SAP.</p>"},{"location":"documentation/query/variants-and-selections/#filter-options","title":"Filter Options","text":"<p>The Xtract Query component offers the following filter options:</p> Type Operator Description Single Compare data to a single specified value. (not) like pattern True if data values do (not) contain to the specified value. (not) equal to True if data is (not) equal to the specified value. at least True if data is greater than or equal to the specified value. more than True if data is greater than the specified value. at most True if data is less than or equal to the specified value. less than True if data is less than the specified value. Range Check if the data is (not) within a specified range of values. (not) between True if data values do (not) lie between the 2 specified values."},{"location":"documentation/query/variants-and-selections/#data-format","title":"Data Format","text":"<p>Use the following internal SAP representation for input:</p> <ul> <li>Date: The date 01.01.1999 has the internal representation 19990101 (YYYYMMDD).</li> <li>Year period: The year period 001.1999 has the internal representation 1999001 (YYYYPPP).</li> <li>Numbers: Numbers must contain the leading zeros, e.g., customer number 1000 has the internal representation 0000001000.</li> </ul> <p>Warning</p> <p>Values accept only the internal SAP representation. Input that does not use the internal SAP representation results in error messages.  Use the internal SAP representation. Example:  <pre><code>ERPConnect.ABAPProgramException: RfcInvoke failed(RFC_ABAP_MESSAGE): Enter date in the format \\_.\\_.\\_\n</code></pre></p>"},{"location":"documentation/report/","title":"Xtract Report","text":"<p>This page shows how to use the Xtract Report component. The Xtract Report component can be used to extract data from most standard and custom ABAP reports and SAP transactions.  A report extraction is possible if the report returns a table-like structure in SAP. </p>"},{"location":"documentation/report/#about-reports","title":"About Reports","text":"<p>ABAP report programs extract and present huge amounts of data for SAP business applications. SAP offers predefined standard reports that cover the basic needs of customers. They can be executed via transaction codes. </p> <p>Tip</p> <p>Use transaction code SAP1 to get a list of all reports for all modules.</p>"},{"location":"documentation/report/#custom-reports","title":"Custom Reports","text":"<p>The extraction of custom reports (Z reports) is possible if the report returns a table-like structure in SAP. Issues specific to Z reports are not included in the scope of support provided by Theobald Software.</p>"},{"location":"documentation/report/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> <li>The custom function module <code>Z_XTRACT_IS_REMOTE_REPORT</code> is installed in your SAP system, see Function Module for Reports. As of <code>Z_XTRACT_IS_REMOTE_REPORT</code> version 1.2 access to reports must be explicitly granted, see Knowledge BAse Article: Authorize Access to Specific Reports.</li> <li>The report must return a table-like structure in SAP.</li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract Report component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects: Report accordingly.</p>"},{"location":"documentation/report/#general-workflow","title":"General Workflow","text":"<p>The following graphic shows the general workflow of using the Xtract Report component:</p> <p></p>"},{"location":"documentation/report/#add-an-xtract-report-component","title":"Add an Xtract Report Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract Report component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/report/#look-up-a-report-or-transaction","title":"Look up a Report or Transaction","text":"<ol> <li>In the main window of the component, click [ ]. The window \u201cReport Lookup\u201d opens. </li> <li> <p>In the field Report Name, enter the name of a report to extract  . Use wildcards (), if needed. Alternatively, select TCODE* to look up SAP Transaction codes.  </p> <p>Tip</p> <p>In certain cases reports cannot be determined based on the TCODE.  You can check the report name of a TCODE using the SAP GUI menu System &gt; Status....</p> </li> <li> <p>Click [ ] . Search results are displayed.</p> </li> <li>Select a report and click [OK] to confirm.</li> </ol> <p>The application now returns to the main window of the component.</p>"},{"location":"documentation/report/#define-the-xtract-report-component","title":"Define the Xtract Report  Component","text":"<p>The Xtract Report component offers the following options for report extractions:</p> <ol> <li>If the report has variants, select a variant from the drop-down-list Variant. For more information, see Choose a Variant. </li> <li>Optional: In the section Selection Screen, edit a selection criterion you want to change or dynamize  . For more information, see Edit Selections. </li> <li>Click [Load live preview] to display a live preview of the first 100 records.</li> <li>Optional: If your report has varying column widths, activate Dynamic column widths and offsets. The column widths and offsets are then adjusted dynamically at report runtime. </li> <li>Click [Automatically detect columns] to execute the report based on the selected variant or selections and detect columns automatically. </li> <li>Check if the automatically detected columns are accurate.  When automatic column detection is not possible, the column names, widths and offsets must be set manually, see Define Columns manually.</li> <li>Optional: Define row settings to remove or parse certain rows, see Define Rows.</li> <li>Check the Settings before running the SSIS package.</li> <li>Click [OK] to save the component.</li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/report/#example-extraction","title":"Example Extraction","text":"<p>The depicted example shows how to set up a simple report extraction:</p> <ol> <li>Look up report RLT10010 (Evaluation of Movements per Storage Type).</li> <li>Select variant VAR01.</li> <li>Load a live preview.</li> <li>Automatically detect columns.</li> <li>Remove the header (skip the first 8 rows).</li> </ol> <p></p>"},{"location":"documentation/report/#related-links","title":"Related Links","text":"<ul> <li>SAP Wiki: Types of ABAP Reports</li> <li>Knowledge Base Article: Authorize Access to Specific Reports</li> </ul>"},{"location":"documentation/report/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract Report component using SSIS variables directly in the component and by using SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/report/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables store values that an SQL Server Integration Services package and its containers, tasks, and event handlers can use at runtime. You can use SSIS variables for selections. Available SSIS variables are listed in the selection settings when parameter input ( ) is selected, see Edit Selections. </p> <p>Note</p> <p>The Xtract Report component does not support variables of the data types DateTime and DBNull.  For more information on the data types of system variables, see Microsoft Documentation: System Variables.</p>"},{"location":"documentation/report/parameterization/#parameterization-using-expression-properties","title":"Parameterization using Expression Properties","text":"<p>The recommended way of parameterization is to use SSIS expressions to set Data Flow Properties.  Data Flow Properties are displayed in the \"Properties\" window of the Data Flow Task. </p> <p>Note</p> <p>Data Flow Properties are not to be confused with Custom Properties that are displayed in the \"Properties\" window of the component.  When parameterizing the Data Flow Properties, the Custom Properties are overwritten.</p> <p>For more information on property expressions, see Microsoft Documentation: Use Property Expressions in Packages.</p> <ol> <li>Right-click the Data Flow canvas and select Properties. The window \"Properties\" opens.</li> <li>Add an Expression by clicking using [\u2026]. The window \"Property Expression Editor\" opens. </li> <li>Select a property from the drop-down list under Property.</li> <li>Open the \"Expression Builder\" using the [\u2026] button under Expression.</li> <li>Build your Expression and click [Evaluate Expression] to check for correct syntax.</li> <li>Confirm your input with [OK].</li> </ol>"},{"location":"documentation/report/parameterization/#data-flow-properties-of-xtract-report","title":"Data Flow Properties of Xtract Report","text":"<p>List of Data Flow Properties that can be parameterized:</p> Property Description [Xtract Report].[Variant] Corresponds to the settings Variants in the {{ r }} component. [Xtract Report].[BatchJobDestination] Corresponds to the setting Spool Destination in the Xtract Report component. [Xtract Report].[BatchJobName] Corresponds to the setting Background Job Name in the Xtract Report component. [Xtract Report].[BatchJobTimeout] Corresponds to the setting Background Job Timeout in the Xtract Report component."},{"location":"documentation/report/parameterization/#custom-properties-of-xtract-report","title":"Custom Properties of Xtract Report","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract Report component are displayed in the \"Properties\" window. </p> <p></p> <p>List of the relevant Custom Properties:</p> Property Description BatchJobDestination Corresponds to the setting Spool Destination in the Xtract Report component. BatchJobName Corresponds to the setting Background Job Name in the Xtract Report component. BatchJobTimeout Corresponds to the setting Background Job Timeout in the Xtract Report component. DynamicColumnWidthsAndOffsets Corresponds to the setting Dynamic Column Widths and Offsets in the Xtract Report component. ReportRowsPerDataRow Corresponds to the setting Report Rows Per Data Row in the Xtract Report component. ReportWidth Corresponds to the setting Report Width in the Xtract Report component. SkipBottomRows Corresponds to the setting Skip Rows from Bottom in the Xtract Report component. SkipTopRows Corresponds to the setting Skip Rows from Top in the Xtract Report component. UseBatch Corresponds to the setting Use Background Mode in the Xtract Report component. Variant Corresponds to the setting Variant in the Xtract Report component."},{"location":"documentation/report/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Microsoft Documentation: Integration Services (SSIS) Variables</li> <li>Microsoft Documentation: Use Property Expressions in Packages</li> </ul>"},{"location":"documentation/report/report-columns-define/","title":"Define Columns","text":"<p>This page shows how to define the columns in the result set of a report extraction.</p> <p>A report column is defined by its name, offset and length.  Per default, all columns are of data type string.  To identify a columns, the report needs to be executed. Columns can then be identified based on the output.</p> <p>Tip</p> <p>At this stage, use a selection or variant that returns only a few records. This can be adapted later on.</p> <ul> <li>Certain classical ABAP reports are developed to use the pipe symbol '|' as a delimiter for the output columns.  In this case the Xtract Report component can automatically identify the columns.  Automatic column detection also works for most ALV reports. Example: </li> <li>For reports where the output is not separated by the pipe symbol, the columns must be identified manually. Example: </li> </ul> <p>For information on how to parse rows as columns, see Parse Header Row as New Column.</p>"},{"location":"documentation/report/report-columns-define/#define-columns-automatically","title":"Define Columns Automatically","text":""},{"location":"documentation/report/report-columns-define/#automatically-detect-columns","title":"Automatically detect columns","text":"<p>Click [Automatically detect columns] to execute the report based on the selected variant or selections.  If they can be identified automatically, the column name, width and offset are displayed in the Columns section in the main window of the component.</p>"},{"location":"documentation/report/report-columns-define/#dynamic-column-width-and-offset","title":"Dynamic column width and offset","text":"<p>If this option is active, the column width and offset is adjusted dynamically at report runtime.  This can be required for reports that have varying column widths depending on the report's selection criteria.</p>"},{"location":"documentation/report/report-columns-define/#define-columns-manually","title":"Define Columns Manually","text":"<p>When automatic column detection is not possible, the column names, widths and offsets must be set manually.</p> <ol> <li>Make sure no columns are defined yet.  If columns are defines, click [ ] in the Columns section in the main window of the component to delete the columns. </li> <li>Click [Load live preview]. The report is executed based on the selected report variant or selections.  The output of the report is displayed in the Load Preview section.</li> <li>To define the beginning (offset) of a column, press and hold down the left mouse button in the Load Preview section.  </li> <li>To define the length of a column, move the mouse pointer to the right while still holding down the left mouse button.</li> <li>Let go of the cursor. The report column is highlighted with a green background and an entry is added to the Columns section.  </li> <li>To change the column name, offset and width, click in the respective fields in the Columns section and enter a new value.</li> <li>Repeat steps 3 to 6 until all columns are defined.</li> </ol> <p>Note</p> <p>Once a column is set and highlighted with a green background, its width and offset cannot be changed via the graphics editor.  Change it using the Columns section.</p>"},{"location":"documentation/report/report-columns-define/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base Article: Parse Reports in Xtract IS.</li> </ul>"},{"location":"documentation/report/report-rows-define/","title":"Define Rows","text":"<p>This page shows how to define the rows in the result set of a report extraction. The row settings are located in the tab Skip and Parse Rows. </p> <p></p>"},{"location":"documentation/report/report-rows-define/#row-settings","title":"Row Settings","text":"<p>The Xtract Report component offers the following options to remove rows from the result set of a report extraction:</p> Option Description Skip rows from top Removes the first n number of rows from the top of the report. Skip rows from button Removes the last n number of rows from the button of the report. Skip rows by pattern Uses a pattern or regular expression to remove rows that contain the pattern. Skip rows by keyword Uses a keyword to remove all rows that contain the keyword. <p>For more information on how to remove and parse rows to merge groups of data sets into a single data set, see Knowledge Base Article: Parse Reports in Xtract IS.</p>"},{"location":"documentation/report/report-rows-define/#skip-rows-from-top","title":"Skip rows from top","text":"<p>Enter the number of rows you want to skip at the beginning of the report. Some reports display meta information in the header section of the report, before the actual report body. This setting allows skipping the meta information. </p>"},{"location":"documentation/report/report-rows-define/#skip-rows-from-bottom","title":"Skip rows from bottom","text":"<p>Similar to skip rows from top. Enter the number of rows you want to skip in the footer section of the report.</p>"},{"location":"documentation/report/report-rows-define/#report-rows-per-data-row","title":"Report rows per data row","text":"<p>Use this setting for ABAP reports that return two or more \"physical\" rows to display a single \"semantic\" data row. Enter the number of physical rows that represent a single data row.  Example: Report RIEQUI20 </p> <p></p>"},{"location":"documentation/report/report-rows-define/#report-width","title":"Report width","text":"<p>Use this setting in combination with Report rows per data row. Report width defines the length of each physical row.  The maximum width of extracted reports is limited to 1024 characters per row.</p>"},{"location":"documentation/report/report-rows-define/#header-pattern","title":"Header pattern","text":"<p>Enter a search pattern to detect the table header, e.g., Created on.  The Xtract Report component scans the report output for this pattern and uses the row that contains this pattern as the report header. Any duplicates of the header row are removed from the result set.</p> <p>Rows that contain the header pattern are displayed in a blue font in the preview section.</p> <p>Tip</p> <p>Alternatively, right-click the row that you want to use as a header and select Select as header from the context menu.</p> <p>This setting is usually not required if the report's columns can be detected automatically and Dynamic column widths and offsets is active in the main window of the component.</p>"},{"location":"documentation/report/report-rows-define/#skip-rows-by-pattern","title":"Skip rows by pattern","text":"<p>Enter a search pattern. All report rows that contain the pattern are removed from the result set.  The skip row setting can be used to skip header rows that are repeated in the output body of reports, see also Skip rows by keyword. The live preview in the Xtract Report component does not include the Row Skip Pattern option, because the rows are only removed after the report data is extracted from SAP. </p> <ul> <li>Regular expressions are supported.</li> <li>Multiple row skip patterns can be entered, separated by the pipe symbol \"<code>|</code>\", e.g., <code>2020|2021|-|Sum</code> removes all rows containing \u20182020\u2019, \u20182021\u2019, \u2018-\u2018 and \u2018Sum\u2019.</li> <li>To process special symbols, add <code>\\</code>before the symbol, e.g., <code>\\*</code> removes rows that contain the sum symbol * .</li> </ul> <p>Note</p> <p>The setting Skip rows by pattern is usually not required if the report columns can be detected automatically and Dynamic column widths and offsets is checked in the Report window.</p>"},{"location":"documentation/report/report-rows-define/#skip-rows-by-keyword","title":"Skip rows by keyword","text":"<p>Define rows that are removed from the result set of the report extraction. This option can be used to skip header rows that are repeated in the output body of reports.</p>"},{"location":"documentation/report/report-rows-define/#add-row-to-skip","title":"Add Row to Skip","text":"<p>Click [Add row to skip] to define a row that is removed from the result set of the report extraction.  Enter a unique keyword from the row you want to remove.  Example: <code>**</code> removes all rows that contain the characters <code>**</code>.</p> <p>Rows that are excluded from the result set are displayed in a gray font in the preview section.</p> <p>Tip</p> <p>Alternatively, right-click the row you want to remove and select Ignore/unignore row from the context menu.</p>"},{"location":"documentation/report/report-rows-define/#parse-header-row-as-new-column","title":"Parse Header Row as new Column","text":"<p>Define rows that are added to the result set as columns.  This option can be used for reports that contain groups with multiple headers.</p>"},{"location":"documentation/report/report-rows-define/#add-row-to-parse-as-column","title":"Add row to parse as column","text":"<p>Click [Add row to parse as column] to add a new column to the result set. Enter the following column properties manually or use the parse helper to define the column properties:</p> Property Description Keyword Enter a unique keyword from the row to include it as a column in the result set. The report is scanned for rows that contain the string. The keyword search is case sensitive. Name Enter a name for the new column. Offset Define the beginning (offset) of the content that is written into the new column. Example: Enter 0 if the content for the new column is located at the start of the row.Enter 25 if the content starts 25 characters into the row. Width Define the width of the new column. <p>Tip</p> <p>Alternatively, to add row to parse as column, right-click a header row you want to use as a column and select Parse header row as new column from the context menu.</p> <p>Rows that are parsed as a column are displayed in a red font in the preview section. For more information, see Knowledge Base Article: Parse Reports in Xtract IS.</p>"},{"location":"documentation/report/report-rows-define/#parse-helper","title":"Parse Helper","text":"<p>The parse helper is a feature that helps you define properties for new columns:</p> <ol> <li>In the subsection Parse Header Row as new Column, click [Add row to parse as column]  to add a new column to the result set.  </li> <li>Click [] . The window \"Parse Helper\" opens and a new preview of the report data is fetched. This process may take several seconds to complete.</li> <li> <p>Under Search keyword enter a unique keyword from the row you want to parse as a column. Matching rows are displayed in the preview section of the window.</p> <p>Note</p> <p>The keyword search is case sensitive.</p> </li> <li> <p>Make sure only header rows are displayed in the preview section. If the preview includes regular rows, edit the keyword until only header rows remain.</p> </li> <li>Under New Column Name enter a name for the new column. </li> <li>Mark the content of the column in the preview section by pressing and dragging the mouse pointer over the length of the content.  </li> <li>Click [OK] to save the column properties.</li> </ol> <p>The new column is added at the beginning of the report after running the SSIS package.  Therefore, the new column is not included in the preview section of the component. </p> <p>Rows that are parsed as a column are displayed in a red font in the preview section.</p>"},{"location":"documentation/report/report-rows-define/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base Article: Parse Reports in Xtract IS.</li> </ul>"},{"location":"documentation/report/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract Report component.  To open the settings, click Settings in the main window of the component. </p> <p></p>"},{"location":"documentation/report/settings/#batch-processing","title":"Batch Processing","text":""},{"location":"documentation/report/settings/#use-background-mode","title":"Use Background Mode","text":"<p>If you choose this option, the ABAP report is executed as a batch job in SAP.  A spool is generated in SAP (transaction SP01) which is later fetched by the Xtract Report component.  Use this option for long running reports in SAP that would run into an RFC timeout when called in dialog mode.  Certain reports that throw an error message when running in dialog mode can be extracted when run in background mode.</p>"},{"location":"documentation/report/settings/#background-job-timeout","title":"Background Job Timeout","text":"<p>Enter a time period (in seconds).  The Xtract Report component polls the status of the batch job in SAP for the specified time period.  If the SAP batch job is not finished by the specified time period, the extraction aborts.</p>"},{"location":"documentation/report/settings/#background-job-name","title":"Background Job Name","text":"<p>The name of the background job under which the report is run in SAP.</p>"},{"location":"documentation/report/settings/#spool-destination","title":"Spool Destination","text":"<p>Enter the name of the spool destination (printer).</p>"},{"location":"documentation/report/settings/#function-module","title":"Function Module","text":"<p>The Report component requires installation of the custom function module <code>Z_XTRACT_IS_REMOTE_REPORT</code> in your SAP system, see Install Report Custom Function Module.  If you manually created the function module in your SAP system and gave it a different name, enter that name in this field.  The default is <code>Z_XTRACT_IS_REMOTE_REPORT</code>.</p>"},{"location":"documentation/report/settings/#related-links","title":"Related Links","text":"<ul> <li>Microsoft: Regular Expressions in the Microsoft Online Help</li> <li>Knowledge Base Article: Parse Reports in Xtract IS</li> <li>Install Report Custom Function Module</li> </ul>"},{"location":"documentation/report/variants-and-selections/","title":"Variants and Selections","text":"<p>Most reports allow entering selections before report execution.  Selections limit the result set of the report to extract only records that match the selection. </p> <p>In SAP a selection variant can be created in the input screen of an ABAP report.  The purpose of a variant is to save selection settings on your input screen and to minimize the necessity to enter selections when running a report.</p> <p>Note</p> <p>Manual selections and variants can be combined. Manual selections overwrite any selections in the variant.</p>"},{"location":"documentation/report/variants-and-selections/#choose-a-variant","title":"Choose a Variant","text":"<p>Choose a variant from the drop-down-list Variant.  When creating a new variant in SAP after creating the extraction, click [ ] to load the new variant.</p> <p></p> <p>The selections of the variant are not displayed in the Selection Screen section of the window.  To see the definition of a variant, open the variant in SAP.</p>"},{"location":"documentation/report/variants-and-selections/#edit-selections","title":"Edit Selections","text":"<p>The Selection Screen in the main window of the component corresponds to the input screen in SAP.</p> <p>Note</p> <p>Some selection fields only have a technical name and no description.  To understand which field corresponds to a field in SAP, open the input screen in SAP.  Click on a selection field and press the function key F1 to display the technical name of the selection field. </p> <p>Follow the steps below to edit selection fields and filter data:</p> <ol> <li>In the subsection Selection Screen, click [Edit] next to the field you want to edit. The window \u201cEdit selection\u201d opens. </li> <li>Click [Single] or [Range] to add a corresponding filter, see Filter Options.</li> <li>In the column Sign , select Include to add the filtered data to the output or select Exclude to remove the filtered data from the output. </li> <li>In the column Option , select an operator, see Filter Options. </li> <li> <p>In the column Value, enter values directly into the input fields Low and High or assign existing  SSIS variables  to the selection fields  .</p> <p>Note</p> <p>When SSIS variables are available, you can use the icon button next to the input field to switch between static values ( ) and SSIS variables ( ).</p> </li> <li> <p>Click [OK] to confirm your input. </p> </li> <li>Click [Load live preview] in the main window of the component to check the result of your selection.  If SSIS variables are defined, you are prompted to populate the parameters with actual values.</li> </ol> <p>Note that edited selection fields overwrite the selection fields in the variant. </p> <p>Tip</p> <p>If you use multiple selection parameters, it is more efficient to create a variant in SAP.</p>"},{"location":"documentation/report/variants-and-selections/#filter-options","title":"Filter Options","text":"<p>The Xtract Report component offers the following filter options:</p> Type Operator Description Single Compare data to a single specified value. (not) like pattern True if data values do (not) contain to the specified value. (not) equal to True if data is (not) equal to the specified value. at least True if data is greater than or equal to the specified value. more than True if data is greater than the specified value. at most True if data is less than or equal to the specified value. less than True if data is less than the specified value. Range Check if the data is (not) within a specified range of values. (not) between True if data values do (not) lie between the 2 specified values."},{"location":"documentation/report/variants-and-selections/#data-format","title":"Data Format","text":"<p>Use the following internal SAP representation for input:</p> <ul> <li>Date: The date 01.01.1999 has the internal representation 19990101 (YYYYMMDD).</li> <li>Year period: The year period 001.1999 has the internal representation 1999001 (YYYYPPP).</li> <li>Numbers: Numbers must contain the leading zeros, e.g., customer number 1000 has the internal representation 0000001000.</li> </ul> <p>Warning</p> <p>Values accept only the internal SAP representation. Input that does not use the internal SAP representation results in error messages.  Use the internal SAP representation. Example:  <pre><code>ERPConnect.ABAPProgramException: RfcInvoke failed(RFC_ABAP_MESSAGE): Enter date in the format \\_.\\_.\\_\n</code></pre></p>"},{"location":"documentation/report/variants-and-selections/#related-links","title":"Related Links","text":"<ul> <li>SAP Help: Report variants in SAP</li> </ul>"},{"location":"documentation/sap-connection/","title":"SAP Connection","text":"<p>This page shows how to connect to SAP using the \"XTRACT\" Connection Manager. A connection to an SAP system is required to perform tasks like designing ETL packages, extracting metadata, previewing and deploying data using Xtract IS. </p> <p>An SAP connection is required to use any Xtract IS component.</p> <p>Warning</p> <p>Missing Authorization. To establish a connection to SAP, the access to general authority objects must be available. Adjust the SAP Authority Objects accordingly.</p> <p>Supported Connection Methods </p> <ul> <li>Connection to a single application server</li> <li>Connection to a message server (Load Balancing) </li> </ul> <p>Supported Authentication Methods</p> <ul> <li>Plain login using SAP username and password (system or dialogue user)</li> <li>Secure Network Communication (SNC) using username and password via basic authentication</li> </ul>"},{"location":"documentation/sap-connection/#connect-to-sap","title":"Connect to SAP","text":"<p>Follow the steps below to create a connection manager that connects to SAP:</p> <ol> <li>Create a new Integration Services Project and add a data flow task.</li> <li>Right-click within the \u201cSolution Explorer\u201d area and select New Connection Manager from the context menu. The window \"Add SSIS Connection Manager\" opens. </li> <li>Select the XTRACT Connection Manager from the list of available connection managers and click [Add...].  The XTRACT Connection Manager is now available in the connection managers area.</li> <li>Double-click the XTRACT Connection Manager. The window \"XTRACT Connection Manager\" opens. </li> <li> <p>Enter the system details of your SAP system and enter the SAP username and password of an SAP system or dialogue user.  </p> <p>Tip</p> <p>Input values for the SAP connection can be found in the Properties of the SAP Logon Pad or they can be requested from the SAP Basis team.</p> </li> <li> <p>Click [Test connection] to validate the connection parameters. </p> </li> <li>Click [OK] to save the XTRACT Connection Manager.</li> </ol> <p>For information on how to connect to SAP using Secure Network Authentication (SNC), see SNC Authentication. For information on properties and parameters of the XTRACT Connection Manager, see Parameterize Connections.</p>"},{"location":"documentation/sap-connection/#assign-connection-managers-to-xtract-components","title":"Assign Connection Managers to Xtract Components","text":"<p>XTRACT Connection Managers can be assigned to an Xtract component automatically or manually.</p> Assign AutomaticallyAssign Manually <ol> <li>Create an XTRACT Connection Manager as shown in Connect to SAP.</li> <li>Drag &amp; drop an Xtract component into the data flow task.  </li> <li>Double-click the Xtract component to automatically assign a Connection Manager. If there are multiple XTRACT Connection Managers, the window \"Select Connection Manager\" opens.  Select an XTRACT Connection Manager and click [OK].</li> </ol> <ol> <li>Create an XTRACT Connection Manager as shown in Connect to SAP.</li> <li>Drag &amp; drop an Xtract component into the data flow task.   </li> <li>Select the Xtract component and click Show Advanced Editor in the Properties menu of the component  .  The window \"Advanced Editor\" opens  .  </li> <li>Select an XTRACT Connection Manager from the drop-down-menu  . </li> <li>Confirm your selection with [OK] .</li> </ol> <p>Note</p> <p>The Xtract BAPI component does not have an Advanced Editor. To manually assign an XTRACT Connection Manager to an Xtract BAPI component, open the main window of the Xtract BAPI component. The main window of the Xtract BAPI component contains a Change Connection Manager menu. </p>"},{"location":"documentation/sap-connection/#connect-via-router","title":"Connect via Router","text":"<p>If you access the SAP source system (Application server or Message server) via an SAP router, set the router string before the host name.  For more information on SAP routers, see SAP Help: SAP-Router.</p> <p>Example: If the application server is \"hamlet\" and the router string is <code>/H/lear.theobald-software.com/H/</code>, set the host property to <code>/H/lear.theobald-software.com/H/hamlet</code>.</p>"},{"location":"documentation/sap-connection/#related-links","title":"Related Links","text":"<ul> <li>Microsoft Documentation: Create connection managers.</li> <li>XTRACT Connection Manager: Properties and Parameters</li> <li>Connection Settings</li> </ul>"},{"location":"documentation/sap-connection/parameterize-connections/","title":"Parameterize Connections","text":"<p>This page shows how to parameterize an SAP connection.</p>"},{"location":"documentation/sap-connection/parameterize-connections/#parameterize-an-xtract-connection-manager","title":"Parameterize an XTRACT Connection Manager","text":"<p>The properties of the XTRACT Connection Manager can be parameterized. Follow the steps below to set up project parameters for Connection Manager properties:</p> <ol> <li>Right-click an XTRACT Connection Manager and select Parameterize... from the context menu. The window \"Parameterize\" opens.</li> <li>Select the property you want to parameterize. </li> <li>Select the option Use existing parameter to assign a parameter to the selected property or select the option Create New Parameter to create a new parameter.</li> <li>In the section Scope select Project to create a project parameter. </li> <li>Click [OK]. The new project parameter is now available under Project.params in the \"Solution Explorer\". </li> </ol> <p>For more information on package and project parameters, see Microsoft Documentation: Integration Services (SSIS) Package and Project Parameters.</p>"},{"location":"documentation/sap-connection/parameterize-connections/#list-of-xtract-connection-manager-properties","title":"List of XTRACT Connection Manager Properties","text":"Property Name Description AppServer Host name or IP address of the SAP application server. AttachesSapGui Set to True for Reports and BAPIs that require an installed SAP GUI. Client The three-digit number of the SAP client between 000 and 999. InstanceNumber A two-digit number between 00 and 99. InternalTableFunction The function module used for Xtract IS\u2019 internal communication with SAP, e.g., retrieving metadata. Language The logon language for the SAP system, e.g., EN for English or DE for German. LegacyStorageMode Enables backward compatibility. SAP connection parameters are no longer stored as Connection Strings, but as Properties. LoadBalancingEnabled Enables load balancing (SAP message server). LogOnGroup SAP Logon group for Load Balancing. MessageServer Name or IP address of the SAP message server. Name Name of the Connection Manager. Password Password of the SAP user. PasswordObfuscated If LegacySorageMode is enabled, this property determines if the password is stored as plain text or if it is masked. RfcLibrary Select an RFC library to establish an RFC connection to an SAP system. SncEnabled Enables Secure Network Connection (SNC). SncLibraryPathX64 The complete path to the library location for 64 bit systems. SncLibraryPathX86 The complete path to the library location for 32 bit systems. SncPartnerName The SAP Partner Name configured for the SAP application server, e.g., <code>p:SAPserviceERP/do_not_care@THEOBALD.LOCAL</code> SncQualityOfProtection The SNC level of protection, e.g., 9 - Maximum SystemId A three-digit System ID, e.g., MSS. TraceDirectory A local path to a folder, where you want to save the debug information. User Name of the SAP user."},{"location":"documentation/sap-connection/parameterize-connections/#sensitive-environment-variables-in-ssisdb-catalog","title":"Sensitive Environment Variables in SSISDB Catalog","text":"<p>Environment variables in the SSISDB catalog can be used in combination with project parameters to achieve the following:</p> <ul> <li>Parameterize SSIS packages after deploying to the server.</li> <li>Encode sensitive data, e.g., SAP passwords.</li> </ul> <p>Follow the steps below to set up a sensitive environment variable for an XTRACT Connection Manager property:</p> <ol> <li>Configure an XTRACT Connection Manager that uses project parameters, see Parameterize an XTRACT Connection Manager.</li> <li>Deploy the project to an SSISDB catalog. </li> <li>Create an environment in the SSISDB catalog. </li> <li>Create a sensitive variable in the environment properties. </li> <li>Open the configuration menu of the project. The project parameters from step 1 are available in the parameter list.</li> <li>Click [...] to assign a sensitive environment variable to a project parameter. </li> <li>Execute a package using the environment.</li> </ol>"},{"location":"documentation/sap-connection/parameterize-connections/#related-links","title":"Related Links","text":"<ul> <li>XTRACT Connection Manager</li> <li>SAP Connection with SNC</li> <li>Microsoft Documentation: SSIS Catalog</li> <li>Microsoft Documentation: Access Control for Sensitive Data in Packages</li> </ul>"},{"location":"documentation/sap-connection/settings/","title":"Connection Settings","text":"<p>This page contains an overview of the SAP connection settings in the XTRACT Connection Manager. For information on the properties of an XTRACT Connection Manager, see List of XTRACT Connection Manager Properties.</p> <p></p>"},{"location":"documentation/sap-connection/settings/#xtract-conenction-manager-settings","title":"Xtract Conenction Manager Settings","text":"<p>Some input fields for the SAP connection vary depending on the selected connection method. </p> Use Single Application ServerUse Load Balancing Input Field Description Client A three-digit number of the SAP client between 000 and 999, e.g., 800. Username SAP username. Password Password of the SAP user. Language The logon language for the SAP system, e.g., EN for English or DE for German. Application server Host name or IP address of the application server (Property Host). Instance number A two-digit number between 00 and 99 (Property SystemNumber). Input Field Description Client A three-digit number of the SAP client between 000 and 999, e.g., 800. Username SAP username. Password Password of the SAP user. Language The logon language for the SAP system, e.g., EN for English or DE for German. System ID Three-digit System ID (Property SID e.g.,  MSS). Logon group Property LogonGroup, usually PUBLIC. Message Server Name or IP address of the message server (Property MessageServer)."},{"location":"documentation/sap-connection/settings/#trace-directory","title":"Trace Directory","text":"<p>You can log debug information and save it locally.  Enter a path to a local directory in the field Trace directory to save the debug information. For more information, see Troubleshooting: Trace Directory.</p> <p>Clear the Trace Directory field when it is not needed.</p> <p>Warning</p> <p>Increase of used hard drive memory.  A big amount of information is collected when debug logging is activated. This can decrease the capacity of your hard drives dramatically. Activate the debug logging only when necessary e.g., upon request of the support team.</p>"},{"location":"documentation/sap-connection/settings/#rfc-libraries","title":"RFC Libraries","text":"<p>Select an RFC library. The following RFC libraries are supported:</p> <ul> <li>NetWeaver RFC library (sapnwrfc.dll)</li> <li>Classic RFC library (librfc32.dll)</li> </ul> <p>The RFC API (Remote Function Call) allows to establish an RFC connection to an SAP system from an external system that communicates as Client or Server with the SAP system.  For more information on SAP libraries, see SAP Help: RFC Libraries. </p> <p>SAP does not support librfc32.dll anymore. </p> <p>Note</p> <p>For certain older SAP releases, e.g., R/3 4.6C, it is necessary to enter the user name in upper case when using the NetWeaver RFC library.</p> <p>Note</p> <p>When using the NetWeaver RFC library with the Xtract DeltaQ component or the Xtract OHS component, the RFC destination in SAP transaction SM59 must be set to Unicode.  We recommend using the not supported librfc32.dll for certain components, e.g., Xtract DeltaQ as it runs more stable than the NetWeaver RFC library.</p>"},{"location":"documentation/sap-connection/settings/#test-connection","title":"Test Connection","text":"<p>Clicking [Test Connection] validates the connection parameters.  A window with a status message opens in the bottom right corner of the window.</p>"},{"location":"documentation/sap-connection/settings/#additions","title":"Additions","text":"<p>The \"Additions\" menu contains settings for Secure Network Communication (SNC), as well as some expert options.</p> <p>In the window \"XTRACT Connection Manager\" click Additions.  The window \"XTRACT Connection Manager Additions\" opens.</p> <p></p>"},{"location":"documentation/sap-connection/settings/#snc","title":"SNC","text":"<p>The section SNC contains the Secure Network Connection options of the XTRACT Connection Manager. For more information, see SNC Authentication</p> Input Field Description SNC enabled Activate this option to enable Secure Network Communication (SNC) between Xtract IS and SAP. SNC library (32 Bit, Visual Studio) Path to the SNC library for 32 Bit, e.g., <code>C:\\Program Files (x86)\\SAP\\FrontEnd\\SecureLogin\\sapcrypto.dll</code> SNC library (64 Bit) Path to the SNC library for 64 Bit, e.g., <code>C:\\Program Files\\SAP\\FrontEnd\\SecureLogin\\sapcrypto.dll</code> Partner Name The SAP Partner Name configured for the SAP application server, e.g., <code>p:SAPserviceERP/Alice@THEOBALD.LOCAL</code>. Quality of Protection The SNC level of protection. The default value is 9 - Maximum. For more information, see SAP Help: Secure Network Communications (SNC) - Levels of Protection."},{"location":"documentation/sap-connection/settings/#expert-options","title":"Expert Options","text":"Input Field Description Legacy storage mode (connection string) Activate this option, if you still use a single connection string for the SAP connection (default in Xtract IS versions before 09.2017). You can either use Connection properties or a Connection string, not both. Connection string does not support sensitive environment variable. Obfuscate Password Masks the SAP connection password. This option is activated by default when activating Legacy storage mode. Internal Table Function Defines the function module that is used for Xtract IS' internal communication with SAP, e.g., retrieving metadata. To change the selected function module, type the name of function module manually. AttachesSapGui This option is only accessible in the Properties of the XTRACT Connection Manager and not in the GUI. There are SAP Reports and BAPIs that require an installed SAP GUI even when they are called remotely. In this case, set the AttachesSapGui property in the Expert Options of the XTRACT Connection Manager to True. <p>Warning</p> <p>'sapgui' start failed. Sometimes SAP opens a pop-up window that requires input when running extractions. To deactivate pop-up windows, open the SAP GUI Logon pad and navigate to Options... &gt; Security Settings.  Click the [Open Security Configuration] button and select Allow as the Default Action. Apply the changes and close the SAP GUI Logon pad.</p>"},{"location":"documentation/sap-connection/snc-authentication/","title":"SNC Authentication","text":"<p>This page shows how to configure an XTRACT Connection Manager to use encrypted communication via Secure Network Communication (SNC) between Xtract IS and SAP.</p>"},{"location":"documentation/sap-connection/snc-authentication/#prerequisites","title":"Prerequisites","text":"<ul> <li>SNC must be configured in your SAP system. For more information about SNC configuration in SAP, see SAP Help: Configuring the Application Server. </li> <li>Check the SAP profile parameter snc/gssapi_lib in SAP (transaction RZ10) to determine, which library is used for encryption in your SAP system.  Your SAP Basis has to import and configure the same library on the application server and on the machine that runs Xtract IS, e.g., <code>sapcrypto.dll</code>.</li> </ul> <p>For information on how to set up SNC via X.509 certificate, refer to the Knowledge Base Article: Enable Secure Network Communication (SNC) via X.509 certificate.</p>"},{"location":"documentation/sap-connection/snc-authentication/#configure-an-xtract-connection-manager-to-use-snc","title":"Configure an XTRACT Connection Manager to use SNC","text":"<p>Follow the steps below to set up an SAP connection that uses SNC:</p> <ol> <li>Create or open an XTRACT Connection Manager. For more information, see Connect to SAP.</li> <li> <p>Enter the system details of your SAP system and enter the SAP username and password of an SAP system or dialogue user.  </p> <p>Tip</p> <p>Input values for the SAP connection can be found in the Properties of the SAP Logon Pad or they can be requested from the SAP Basis team.</p> </li> <li> <p>In the \"XTRACT Connection Manager\" window, click Additions. The window \"XTRACT Connection Manager Additions\" opens.</p> </li> <li>Activate the option SNC enabled. </li> <li>Enter the path to the SNC library for 32 Bit &amp; 64 Bit in the SNC library fields, e.g., <code>C:\\Program Files (x86)\\SAP\\FrontEnd\\SecureLogin\\sapcrypto.dll</code>.</li> <li>Enter the SAP Partner Name configured for the SAP application server in the field Partner Name, e.g., <code>p:SAPserviceERP/Alice@THEOBALD.LOCAL</code>.</li> <li>Select the SNC level of protection in the field Quality of protection. The default value is 9 - Maximum.  For more information, see SAP Help: Secure Network Communications (SNC) - Levels of Protection.</li> <li>Click [OK] to confirm your input.</li> <li>Click [Test Connection] to validate the connection parameters. </li> <li>Click [OK] to save the XTRACT Connection Manager.</li> </ol>"},{"location":"documentation/sap-connection/snc-authentication/#download-kerberos-dlls","title":"Download Kerberos DLLs","text":"<p>It is possible to use Kerberos libraries for encryption between the client and the SAP server. For more information, see SAP Note 2115486.  Different DLLs for 32-bit (<code>gsskrb5.dll</code>) and 64-bit (<code>gx64krb5.dll</code>) platforms are provided with SAP Note 2115486.</p>"},{"location":"documentation/setup/","title":"Setup","text":"<p>This section covers installation and maintenance topics for IT admins. This includes system requirements, backups and license information.</p>"},{"location":"documentation/setup/#popular-topics","title":"Popular Topics","text":"<ul> <li>   System Requirements</li> <li>  Backup &amp; Update</li> <li>  Supported SAP Releases &amp; Databases</li> <li>   License Installation</li> <li>  Migration of SSIS packages to newer versions</li> </ul>"},{"location":"documentation/setup/download-and-evaluation/","title":"Download and Evaluation","text":""},{"location":"documentation/setup/download-and-evaluation/#download-xtract-is","title":"Download Xtract IS","text":"<p>You can download a 30 day trial version from the Theobald Software website. The trial version is only time limited and works otherwise without any restrictions.</p>"},{"location":"documentation/setup/download-and-evaluation/#evaluate-xtract-is","title":"Evaluate Xtract IS","text":"<p>You are guaranteed to get unrestricted support by the Theobald Software support team during the evaluation phase. In case of questions or doubts, feel free to contact Theobald Software at any time: </p> <ul> <li>  Support Portal</li> <li>  Contact Forms</li> </ul>"},{"location":"documentation/setup/download-and-evaluation/#technical-support","title":"Technical Support","text":"<p>Theobald Software offers support in English and German.</p> <ol> <li>Open a ticket in our Support Portal.</li> <li>Provide as much information as possible for the Theobald Software support team to understand and analyze the issue.</li> <li>If there is an error message, copy and paste the error message into the ticket.</li> <li>Copy and paste the software logs in the ticket, see Required Support Information for Xtract IS.</li> </ol> <p>Disclaimer</p> <p>SAP versions that are no longer supported by the manufacturer are excluded from the Theobald Software support. Issues specific to custom BAPIs (Z function modules) or custom reports (Z reports) are also excluded from the scope of support.</p>"},{"location":"documentation/setup/installation/","title":"Installation","text":"<p>This page shows how and where to install Xtract IS. </p>"},{"location":"documentation/setup/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Administrator permissions are required to install Xtract IS.</li> <li>Make sure to install the necessary tools in the correct order:</li> </ul> Order Runtime Environment Development Environment(s) SQL Server (+ Integration Services) Visual Studio + SQL Server Data Tools Optional: Visual Studio + SQL Server Data Tools SQL Server Integration Services  Xtract IS  Xtract IS <p>Note</p> <p>When installing Visual Studio, select the Data Storage &amp; Processing toolset.</p> <p></p> <p>The SQL Server runs on the runtime environment.  On the runtime environment, the developed SSIS packages are deployed (SSISDB) and can be scheduled by means of SQL Server Agent. </p> <p>In order to use Xtract IS Data Flow Tasks, the Xtract IS must be installed on all instances with a valid license.  For more information, see Licensing.</p>"},{"location":"documentation/setup/installation/#setup","title":"Setup","text":"<p><code>XtractISSetup.exe</code> is an industry standard setup.  Execute the <code>XtractISSetup.exe</code> file and follow the instructions of the setup program. The Xtract IS Setup installs Xtract IS as a plug-in into SSIS.</p> <p></p> <p>For information on how to install a license, see Licensing.</p>"},{"location":"documentation/setup/installation/#installation-directory-files","title":"Installation Directory Files","text":"<p>The list below shows several important files that are placed into the default directory <code>C:\\Program Files\\XtracIS</code> after installation:</p> Filename Description ABAP directory Directory with SAP function modules. Read the readme.txt within the directory for more information. See also SAP Customization. XtractISSetup.exe Application for installing and registering the Xtract IS components within SSIS. XtractISConversionPreparer.exe Tool, which prepares older version of SSIS packages (containing Xtract IS components) for migration to newer versions of SSIS. See also section SSIS Migration. XtractISVerisonInfo.exe Starts the <code>XtractISVerisonInfo.exe</code> via the command line tool to display and read the currently installed version. XtractLicenseManager.exe Application to manage and view licenses. Uninstall Xtract IS Tool for uninstalling and removing Xtract IS with all its components from your machine. gac-uninstall.bat For debugging only. Tool to clear the GAC of all Xtract IS related components in case of installation issues. Eula_XtractIS.rtf Document containing the license agreement for the use of the software Xtract IS. XtractISLicense.json License file with information about the server, the component and runtime."},{"location":"documentation/setup/installation/#unattended-installation","title":"Unattended Installation","text":"<p>The installation of Xtract IS can be initiated unattended without the GUI in a non-interactive way via the Windows Command Prompt.</p> <ul> <li>Execute the <code>XtractISSetup.exe</code> via command line and use the switch <code>--unattended</code>. </li> <li>Execute the <code>XtractLicenseManager.exe</code> (License Manager) via command line and pass the path to the license file as an argument. </li> </ul> <p><code>XtractISSetup.exe</code> and <code>XtractLicenseManager.exe</code> are Windows applications, meaning the Windows Command Prompt does not wait until the installation is complete.  To wait until the installation is complete, use the start command with the <code>/wait</code> switch. </p> <p>Note</p> <p>All switches are case sensitive.</p> <pre><code>start /wait XtractISSetup.exe --unattended\nstart /wait XtractLicenseManager.exe \"C:\\Program Files\\XtractIS\\XtractISLicense.json\"\n</code></pre>"},{"location":"documentation/setup/installation/#version-number","title":"Version Number","text":"<p>When installing Xtract IS, the version of the product is displayed in the installation menu. To check the version of the installed product in Windows, open the Windows Settings and navigate to Apps &gt; Installed apps.  </p>"},{"location":"documentation/setup/installation/#xtract-is-components-in-visual-studio","title":"Xtract IS Components in Visual Studio","text":"<p>After a successful installation, the Xtract IS components are available in the SSIS Toolbox of a Data Flow Task in your Visual Studio Integration Services project.</p> <p></p> <p>The Xtract IS components may still be invisible due to version incompatibility issues.</p> <p>The deployment target version of the SSIS project used must match the version of the installed SQL Server Data Tools (SSDT). If the versions do not match, the necessary Xtract IS extensions will be missing from the SQL Server installation (SSDT) and runtime errors may be displayed. </p> <p>Change the Target Server version for deployment to display the Xtract IS components in the toolbox.</p> <p></p>"},{"location":"documentation/setup/installation/#related-links","title":"Related Links","text":"<ul> <li>Visual Studio + SQL Server Data Tools</li> <li>SQL Server Integration Services</li> <li>Integration Services</li> </ul>"},{"location":"documentation/setup/license/","title":"Licensing","text":""},{"location":"documentation/setup/license/#about-the-licensing-concept-of-xtract-is","title":"About the Licensing Concept of Xtract IS","text":"<p>Xtract IS is licensed per Windows server on which SSIS packages are deployed and executed.  The following graphic shows on which workstations the installation of Xtract IS is required to have a valid license.  </p> <p>The same license file can be used on the local workstations to develop the SSIS packages. A trial license is automatically installed with the installation of Xtract IS.  A regular license is provided, after purchasing the product. The product license is bound to your company and a specific server name. </p>"},{"location":"documentation/setup/license/#install-the-xtract-is-license","title":"Install the Xtract IS License","text":"<ol> <li>Execute the <code>XtractLicenseManager.exe</code> file in the installation directory of Xtract IS, e.g., <code>C:\\Program Files\\XtracIS</code>.  The license manager opens.  </li> <li>Click [Install]. The window \"Install Xtract License\" opens.</li> <li>Locate and select the \"XtractISLicense.json\" file that is provided in the Customer Portal - My Theobald Software.</li> </ol> <p>Tip</p> <p>To inspect your current license data, click the Xtract IS Info link located in each component.</p>"},{"location":"documentation/setup/license/#maintenance","title":"Maintenance","text":"<p>Contact the sales department for information about available maintenance options. In case of technical difficulties, contact our support.</p>"},{"location":"documentation/setup/license/#related-links","title":"Related Links","text":"<ul> <li>My Theobald Software - Portal for Customers and Partners</li> </ul>"},{"location":"documentation/setup/requirements/","title":"Requirements","text":"<p>This page contains information about system requirements and compatible SAP systems for Xtract IS.</p>"},{"location":"documentation/setup/requirements/#supported-visual-studio-versions","title":"Supported Visual Studio Versions","text":"<ul> <li>Visual Studio 2015</li> <li>Visual Studio 2017</li> <li>Visual Studio 2019</li> <li>Visual Studio 2022</li> </ul> <p>Note</p> <p>To create SSIS packages in Visual Studio, SQL Server Data Tools (SSDT) are required.  Make sure to use the SSDT that correlates to your SQL Server version. For more information, see Microsoft Documentation: Download SQL Server Data Tools (SSDT) for Visual Studio.</p>"},{"location":"documentation/setup/requirements/#supported-sql-server-versions","title":"Supported SQL Server Versions","text":"<ul> <li>SQL Server 2016</li> <li>SQL Server 2017</li> <li>SQL Server 2019</li> <li>SQL Server 2022</li> </ul>"},{"location":"documentation/setup/requirements/#supported-sql-server-integration-services-ssis","title":"Supported SQL Server Integration Services (SSIS)","text":"<ul> <li>SQL Server Integration Services (SSIS) 2014 SP3 (until 2024-07-09)</li> <li>SQL Server Integration Services (SSIS) 2016 SP2 (until 2026-07-14)</li> <li>SQL Server Integration Services (SSIS) 2017 (until 2027-10-12)</li> <li>SQL Server Integration Services (SSIS) 2019 (until 2030-01-08)</li> <li>SQL Server Integration Services (SSIS) 2022</li> </ul> <p>The version of the SQL Server Database used to read or write data can differ from the SQL Server Integration Services (SSIS) version, e.g., you can use SSIS version 2019 to write data to SQL Server Database version 2022.  </p>"},{"location":"documentation/setup/requirements/#supported-sap-systems-and-releases","title":"Supported SAP Systems and Releases","text":"<p>The following SAP Systems are supported:</p> <ul> <li>All SAP ABAP based systems that provide RFC connectivity are supported (all communication with SAP is performed via the RFC protocol). </li> <li>SAP ABAP Systems on any database are supported (including HANA). The database used by the SAP system is irrelevant, because the integration occurs at SAP application server level.</li> <li>SAP Systems running on Big Endian and Little Endian hardware are supported.</li> <li>SAP industry solutions like IS-U, IS-R, etc. are supported.</li> <li>SAP Releases 4.6C and newer are supported. </li> <li>All operating systems are supported.</li> </ul> <p>Examples</p> <ul> <li>SAP S/4HANA</li> <li>mySAP</li> <li>SAP Application Server ABAP</li> <li>Message Server</li> <li>Router</li> <li>Standalone Gateway</li> <li>SAP Business Suite 7 (CRM, SRM, SCM etc.)</li> <li>SAP Business All in One, CAR, APO, PI</li> <li>SAP BW 3.1 and later</li> <li>SAP BW/BI 7.x</li> <li>SAP ERP / ECC 5.0 / ECC 6.0 (including all EhPs)</li> <li>SAP R/3 Version 4.6C and later</li> <li>SAP BW/4HANA </li> <li>...and more.</li> </ul> <p>Disclaimer</p> <p>While SAP versions that are no longer supported by SAP still work with Theobald Software products, they are excluded from the Theobald Software support service.</p>"},{"location":"documentation/setup/requirements/#not-supported-sap-systems","title":"Not Supported SAP Systems","text":"<p>The following SAP Systems are not supported:</p> <ul> <li>SAP systems that don\u2019t run on ABAP systems </li> <li>SAP systems that don't provide RFC connectivity. </li> </ul> <p>Examples</p> <ul> <li>SAP S/4HANA Cloud Public Edition </li> <li>Business By Design</li> <li>Business One</li> <li>Business Objects</li> <li>Sybase</li> <li>Ariba</li> <li>Success Factors</li> <li>Concur</li> </ul>"},{"location":"documentation/setup/requirements/#hana-database","title":"HANA Database","text":"<p>You can use Operational Data Provisioning (ODP) to connect the SAP HANA database of an SAP ABAP source system.  Communication is done via RFC.  With the ODP context for SAP HANA (HANA) the following HANA View types are available for extracting:</p> <ul> <li>Analysis Views</li> <li>Calculation Views</li> <li>Associated Attribute Views</li> </ul> <p>Direct access to a HANA database without an SAP ABAP source system running on the corresponding HANA database is not supported.</p>"},{"location":"documentation/setup/requirements/#ports","title":"Ports","text":"<p>The following ports between the Windows server that runs Xtract IS and the SAP server, must be open:</p> SAP NetWeaver Component Port (NN = System number of the SAP system) SAP Application Server 33&lt;NN&gt; SAP Message Server 36&lt;NN&gt; Secure Network Communication (SNC) 48&lt;NN&gt; SAP-Router 3299 <p>For more information, see SAP Help: TCP/IP Ports of All SAP Products.</p>"},{"location":"documentation/setup/requirements/#installation-and-configuration-on-sap","title":"Installation and Configuration on SAP","text":"Component SAP Release Requirements on the SAP System Xtract Table Rel. &gt; 4.6C Installation of a custom function module /THEO/READ_TABLE is recommended. Xtract BAPI Rel. &gt; 4.6C No requirements. Only remote-enabled functions are supported. Xtract Query Rel. &gt; 4.6C No requirements. Xtract Report Rel. &gt; 4.6C Installation of a custom function module Z_XTRACT_IS_REMOTE_REPORT is required. Xtract BWCube Rel. &gt; BW 3.1 No requirements. BEx Queries require external access (\"Allow External Access to this Query\" option must be active). Xtract Hierarchy Rel. &gt; BW 3.1 No requirements. Xtract ODP SAP_BASIS &gt;= 730, BW &gt;= 7,3X No requirements. Xtract DeltaQ Rel. &gt; 4.6C Customization required, see Customization for DeltaQ. Xtract OHS Rel. &gt; BW 3.5 Customization required, see Customization for OHS in BW. Xtract TableCDC SAP ECC 5.0 or above Installation of a custom function modules is necessary, see Table CDC Requirements. <p>For Information about the installation of the custom function modules and the SAP customization, check the section SAP Customization.</p>"},{"location":"documentation/setup/requirements/#sap-licenses","title":"SAP Licenses","text":"<p>Additional SAP licenses might be required for extracting data from SAP. Contact SAP to verify these requirements.</p>"},{"location":"documentation/setup/requirements/#operating-systems","title":"Operating Systems","text":"<ul> <li>Windows 11</li> <li>Windows Server 2022 (until 2031-10-14)</li> <li>Windows 10  (until 2025-10-14)</li> <li>Windows Server 2022</li> <li>Windows Server 2019 (until 2029-01-09)</li> <li>Windows Server 2016 (until 2027-01-12)</li> </ul>"},{"location":"documentation/setup/requirements/#other-applications-and-frameworks","title":"Other Applications and Frameworks","text":"<p>.NET Framework 4.7.2 or higher, see Download .NET Framework from the Microsoft website.</p>"},{"location":"documentation/setup/requirements/#hardware","title":"Hardware","text":"<p>The following requirements apply to the hardware:</p> Hardware Minimum Requirement Main Memory 4 GB. Depending on data volume, more memory may be required Disk Space min. 50 MB total for Installation 32/64-Bit Environment both 32-Bit and 64-Bit operating systems are supported"},{"location":"documentation/setup/ssis-migration/","title":"SSIS Migration","text":"<p>This page contains information on how to migrate SSIS packages with Xtract IS components from a lower SQL Server/SSIS version to a higher version. </p> <ul> <li>When migrating from SQL Server 2012 or lower to SQL Server 2019, follow the instructions in Migrate from SQL Server 2008/2012 to SQL Server 2019.</li> <li>When migrating from SQL Server 2016 or higher to SQL Server 2019, follow the instructions in Migrate from SQL Server 2016 to SQL Server 2019.</li> </ul>"},{"location":"documentation/setup/ssis-migration/#install-the-latest-version-of-xtract-is","title":"Install the Latest Version of Xtract IS","text":"<p>Install the latest version of Xtract IS on your SSIS server and any development environment (Visual Studio/SSDT).</p>"},{"location":"documentation/setup/ssis-migration/#migrate-from-sql-server-20082012-to-sql-server-2019","title":"Migrate from SQL Server 2008/2012 to SQL Server 2019","text":"<p>A migration from SQL Server 2012 to SQL Server 2019 also requires a migration of SSIS packages.</p> <p>The SSIS packages are converted to run on SQL Server 2016 using the Xtract IS Conversion Preparer before they can be migrated to SQL Server 2019. The Xtract IS Conversion Preparer is a tool that prepares SSIS packages created for older SQL Server versions to migrate to newer SQL Server versions.</p> <p>The XtractISConversionPreparer.exe is located in the installation directory of Xtract IS, e.g., <code>C:\\Program Files\\XtracIS\\XtractISConversionPreparer.exe</code>. </p> <ol> <li>Run the XtractISConversionPreparer.exe. The window \"XtractIS Conversion Preparer\" opens.</li> <li>Click [Add file(s)] and select the packages that need to be prepared for conversion. If there is a package in the debug folder, it is automatically be included.</li> <li> <p>Select the SQL Server version, for which you want to prepare the packages from the drop-down list. For migration to SQL Server 2019, select SSIS 2016 from the pull-down menu.  To migrate to SQL Server 2019 the extra step via SQL Server 2016 is mandatory. During conversion, the tool creates a backup of your SSIS package. </p> <p>Recommendation</p> <p>Manually create a backup copy prior to conversion.</p> <p></p> </li> <li> <p>Click [Prepare]. The conversion process is started. </p> </li> <li>To migrate from SQL Server 2016 to SQL Server 2019, follow the instructions in Migrate from SQL Server 2014/2016 to SQL Server 2019.</li> </ol> <p>Note</p> <p>The password encryption of the SSIS packages set by the ProtectionLevel property must be deactivated or changed for the conversion of the SSIS packages.</p>"},{"location":"documentation/setup/ssis-migration/#migrate-from-sql-server-20142016-to-sql-server-2019","title":"Migrate from SQL Server 2014/2016 to SQL Server 2019","text":"<p>Note</p> <p>SSIS packages created by an SQL Server Data Tools (SSDT) / Visual Studio (VS) version from before 2015 must be migrated to SQL Server 2016 before it can be migrated to SQL Server 2019. To migrate correctly, select SQL Server 2016 as the target version, then save and reopen the project.</p> <ol> <li>Open a new Solution in Visual Studio.</li> <li>Open the project properties and select an SQL server as \"Deployment Target Version\": <ul> <li>If your SSIS packages have been created by an SSDT/VS version from after 2015 for SQL Server 2016, continue with step 6.</li> <li>If your SSIS packages have been created by an SSTD/VS version from before 2015 for SQL Server 2016, select the SQL Server on which your packages have run until now (SQL Server 2014 or SQL Server 2016).</li> <li>If the SSIS packages have been prepared by the Xtract IS Conversion Preparer from Migrating from SQL Server 2008/2012 to SQL Server 2019, select SQL Server 2016.</li> </ul> </li> <li>Save the project.</li> <li>Add the SSIS packages to the project.</li> <li>Save the project again.</li> <li>Change the \"Deployment Target Version\" to SQL Server 2019.</li> <li>If Xtract IS components are not displayed correctly in the Data Flow Task, close the Solution and reopen it. If the Xtract IS components are still not displayed correctly, close and restart Visual Studio.</li> </ol> <p>Saving the project before and after the import of SSIS packages is necessary for the migration to work correctly.</p>"},{"location":"documentation/setup/update/","title":"Backup & Update","text":"<p>This page shows how to backup and update an already installed Xtract IS version.</p>"},{"location":"documentation/setup/update/#preparations","title":"Preparations","text":"<p>Recommendations:</p> <ul> <li>Use a working test environment with a valid license and maintenance. The test environment is a copy of the current production environment. </li> <li>Update the software regularly, see recommended update interval.</li> <li>Create a backup of the current installation.</li> </ul> <p>Before updating, check the Changelog for breaking changes: </p> <ul> <li>Make any necessary preparations and changes as described in the Release Notes.</li> <li>Note the current product version so that you can switch back to the same version in the event of an error.</li> </ul> <p>Tip</p> <p>Subscribe to our technical newsletter that informs you about new software releases.  </p>"},{"location":"documentation/setup/update/#create-a-backup","title":"Create a Backup","text":"<p>Copy all SSIS packages that use Xtract IS components. It is recommended to create backups at regular intervals to switch back to the previous version, if necessary.</p>"},{"location":"documentation/setup/update/#update-a-test-environment","title":"Update a Test Environment","text":"<p>A newer version can be installed over the old version. It is not necessary to uninstall the previous version.  New versions are available in the Theobald Software Customer Portal.</p> <p>During the installation, the setup program checks whether other processes are running in the background that are related to the software being installed.  If this is the case, a message with various options is displayed: </p> Option Description Check Again Close the affected programs and click [Check Again] to continue the installation. Kill Process Kill the affected process and continue with the installation. Ignore Ignore the message, but the installation may be canceled due to the locking of certain files. Quit Install Cancel the installation and resume it at another time."},{"location":"documentation/setup/update/#upgrade-with-breaking-changes","title":"Upgrade with Breaking Changes","text":"<p>The setup checks if an older version of Xtract IS is already installed on the machine.  If an older version is found, the setup displays a list of all (breaking) changes that were released between the old version and the current version. If there are breaking changes, make sure to follow the instructions in the release notes of the breaking changes to ensure a smooth update.</p>"},{"location":"documentation/setup/update/#test-the-update","title":"Test the Update","text":"<p>Install the software update on the test environment and test the new version carefully. </p> <ol> <li>Test all your existing SSIS packages.  </li> <li>After successful testing, install the current version on the production environment.    </li> <li>In the case of an error, create a ticket in the Support Portal.   Register if you do not have a customer account yet. Use your backup until a solution is provided.</li> </ol>"},{"location":"documentation/setup/update/#update-a-production-environment","title":"Update a Production Environment","text":"<p>After successfully testing the update on the test environment, install the update on the production environment.  Make sure to create a backup beforehand and conduct all the necessary preparations and changes. </p>"},{"location":"documentation/setup/update/#related-links","title":"Related Links","text":"<ul> <li>Customer Portal</li> <li>Changelog</li> <li>Support Portal</li> </ul>"},{"location":"documentation/setup-in-sap/","title":"SAP Customization","text":"<p>This section covers user rights and customization topics for the SAP Basis. For information on supported SAP systems and other IT topics, see Setup.</p>"},{"location":"documentation/setup-in-sap/#custom-function-modules","title":"Custom Function Modules","text":"<p>The following components require the installation of a custom function module:</p> Component Custom Function Module Installation Xtract Report Z_XTRACT_IS_REMOTE_REPORT Required Xtract Table /THEO/READ_TABLE Recommended Xtract TableCDC /THEO/READ_TABLE and THEO_CDC Required <p>Theobald Software distributes custom function modules as part of Xtract IS.  The custom function modules can be installed in SAP using transport requests.  The transport requests are available in the installation directory of Xtract IS, e.g., <code>C:\\Program Files\\XtracIS\\ABAP\\</code>.</p> <p>For information on how to use transport request, see Import an SAP Transport Request. </p> <p>Note</p> <p>All objects that come with any of the transport requests, can be deleted by importing the <code>Z_THEO_READ_TABLE-deletion_request.zip</code> transport request.</p>"},{"location":"documentation/setup-in-sap/#customizations-in-sap","title":"Customizations in SAP","text":"<p>The following components require a customization in the SAP system:</p> <ul> <li>Xtract DeltaQ, see Customization for DeltaQ.</li> <li>Xtract OHS, see Customization for OHS in BW.</li> </ul>"},{"location":"documentation/setup-in-sap/#popular-topics","title":"Popular Topics","text":"<ul> <li>  SAP User Rights</li> <li>  Download SAP Roles</li> <li>  Function Module for Table Extractions</li> <li>  Function Module for TableCDC Extractions</li> <li>  Function Module for Report Extractions</li> <li>  Customization for DeltaQ</li> <li>  Customization for OHS</li> </ul>"},{"location":"documentation/setup-in-sap/custom-function-module-for-reports/","title":"Function Module for Reports","text":"<p>The extraction of reports requires the installation of a custom function module in your SAP system. If you cannot install the function module, turn to your SAP Basis team for help.</p> <p>Note</p> <p>As of version 1.2 of the custom function module <code>Z_XTRACT_IS_REMOTE_REPORT</code> access to reports must be explicitly granted, see Authority Objects for Z_XTRACT_IS_REMOTE_REPORT.</p>"},{"location":"documentation/setup-in-sap/custom-function-module-for-reports/#installation-of-z_xtract_is_remote_report","title":"Installation of Z_XTRACT_IS_REMOTE_REPORT","text":"<p>Install the function module using the transport request Z_XTRACT_IS_REMOTE_REPORT-transport.zip.   The transport request is located in the following installation directory:  <code>C:\\Program Files\\[XtractProduct]\\ABAP\\Report\\Z_XTRACT_IS_REMOTE_REPORT-transport.zip</code>.</p> <p>The transport request needs to be imported into SAP by your SAP Basis team.</p>"},{"location":"documentation/setup-in-sap/custom-function-module-for-reports/#authority-objects-for-z_xtract_is_remote_report","title":"Authority Objects for Z_XTRACT_IS_REMOTE_REPORT","text":"<p>As of Z_XTRACT_IS_REMOTE_REPORT version 1.2 access to reports must be explicitly granted. There are 2 ways to verify that the SAP user is allowed to extract a report:</p> <ul> <li>Use authentication groups, see Authorizing Access to Reports via Authorization Groups.</li> <li>Use the custom authorization object Z_TS_PROG. </li> </ul>"},{"location":"documentation/setup-in-sap/custom-function-module-for-reports/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base: Import an SAP Transport Request</li> <li>Knowledge Base: Authorizing Access to Specific Reports</li> <li>SAP Help: Create Function Group</li> </ul>"},{"location":"documentation/setup-in-sap/custom-function-module-for-table-extraction/","title":"Function Module for Tables","text":"<p>SAP customization for the Xtract Table component is optional.  The installation of the custom function module <code>/THEO/READ_TABLE</code> is recommended to improve performance and to bypass restrictions of the SAP standard function module RFC_READ_TABLE.</p>","tags":["Z_THEO_READ_TABLE"]},{"location":"documentation/setup-in-sap/custom-function-module-for-table-extraction/#rfc_read_table-restrictions","title":"RFC_READ_TABLE Restrictions","text":"<p>Especially with older SAP releases you may encounter a few restrictions when using the SAP standard function module (RFC_READ_TABLE) for table extraction:</p> <ul> <li>The overall width of all columns to be extracted must not exceed 512 bytes.</li> <li>It is not possible to extract data from tables that contain one or more columns of the data type f (FLTP, floating point), DEC (decimal, e.g. for percentage) or x (RAW, LRAW).</li> <li>Poor extraction performance with larger tables.  Can cause also duplicates.</li> <li>Depending on the SAP version there may be other restrictions. </li> </ul> <p>When facing restrictions, install the Theobald Software custom function module /THEO/READ_TABLE on your SAP system. </p> <p>Warning</p> <p>Converting issues Error while converting value '*.0' of row 1530, column 3. The SAP standard module RFC_READ_TABLE for table extraction can only extract the ABAP data type DEC to a limited extent. This leads to the mentioned example error during extraction. Use the function module /THEO/READ_TABLE.</p>","tags":["Z_THEO_READ_TABLE"]},{"location":"documentation/setup-in-sap/custom-function-module-for-table-extraction/#installation-of-theoread_table","title":"Installation of /THEO/READ_TABLE","text":"<p>An SAP transport request for the installation of the function module is provided in the installation directory of Xtract IS: <code>C:\\Program Files\\XtracIS\\ABAP\\</code>. Transport requests are imported into SAP by your SAP Basis team. For more information, see Knowledge Base: Import an SAP Transport Request.</p> <p>Note</p> <p>Take a look at the README.pdf in the installation directory (e.g.,<code>C:\\Program Files\\XtracIS\\ABAP\\README.pdf</code>) before installing any custom function modules.</p> <p>It is recommended to install the latest custom function module THEO/READ_TABLE:</p> Transport Request Compatible SAP Systems <code>THEO_READ_TABLE_740SP05.zip</code> ABAP version 7.40 SP05 and higher <code>THEO_READ_TABLE_710.zip</code> ABAP version 7.10 to 7.40 SP04 <code>THEO_READ_TABLE_640.zip</code> ABAP versions from 6.40 until 7.03 <code>THEO_READ_TABLE_46C.zip</code> ABAP versions from 4.6C <p>When importing the transport requests on older SAP releases a syntax error may occur. Contact Theobald Support and send the dedicated error message text.</p> <p>Warning</p> <p>Generating Short Dumps. Testing the function modules on an SAP system is not possible. Function modules /THEO/READ_TABLE and Z_THEO_READ_TABLE can only be called by Theobald Software products due to the callback function of the module. Avoid calling function modules /THEO/READ_TABLE and Z_THEO_READ_TABLE directly from an SAP system.</p>","tags":["Z_THEO_READ_TABLE"]},{"location":"documentation/setup-in-sap/custom-function-module-for-table-extraction/#supported-features","title":"Supported Features","text":"Supported Features by THEO_READ_TABLE _740SP05 _710 _640 46C WHERE Clause HAVING Clause INNER JOIN LEFT OUTER JOIN Conversion exits Aggregate functions SQL expressions (subqueries) Background jobs","tags":["Z_THEO_READ_TABLE"]},{"location":"documentation/setup-in-sap/custom-function-module-for-table-extraction/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base: Import an SAP Transport Request</li> <li>Xtract Table Component</li> </ul>","tags":["Z_THEO_READ_TABLE"]},{"location":"documentation/setup-in-sap/custom-function-module-for-tablecdc/","title":"Function Module for Table CDC","text":"<p>The Xtract TableCDC component requires the installation of the custom function modules /THEO/CDC and /THEO/READ_TABLE in your SAP system. If you cannot install the function modules, turn to your SAP Basis team for help.</p>"},{"location":"documentation/setup-in-sap/custom-function-module-for-tablecdc/#installation-of-theo_cdc_ecc-or-theo_cdc_s4","title":"Installation of THEO_CDC_ECC or THEO_CDC_S4","text":"<p>All transport requests for the custom function groups are provided in the installation directory of Xtract IS, e.g., <code>C:\\Program Files\\XtracIS</code>. Make sure to install the correct transport request for your SAP system:</p> SAP System Function Group Directory SAP ECC Systems THEO_CDC_ECC <pre>C:\\Program Files\\XtracIS\\ABAP\\TableCDC\\THEO_CDC_ECC.zip</pre> SAP S/4 Systems with SAP_BASIS Version &lt; 7.55 THEO_CDC_S4 <pre>C:\\Program Files\\XtracIS\\ABAP\\TableCDC\\THEO_CDC_S4.zip</pre> SAP S/4 Systems with SAP_BASIS Version \u2265 7.55 THEO_CDC_S4_755 <pre>C:\\Program Files\\XtracIS\\ABAP\\TableCDC\\THEO_CDC_S4_755.zip</pre> <p>The transport request needs to be imported into SAP by your SAP Basis team. The function groups /THEO/CDC_ECC and /THEO/CDC_S4 both contain the following function modules:</p> Function Modules Description /THEO/CLEAR_LOGTAB Clear entries of log tab up to a given sequence number /THEO/COUNT_LOGTAB_ENTRIES Count log table entries /THEO/CREATE_LOG_TABLE Function module for creating log tables /THEO/CREATE_TRIGGERS Function module for creating DB triggers for CDC /THEO/DELETE_LOG_TABLE Function module for deleting log tables /THEO/DELETE_TRIGGERS Function module for deleting DB triggers for CDC /THEO/GET_DB Get database system identifier /THEO/GET_INFO Get package information /THEO/GET_TRIGGERS Function module to retrieve triggers <p>Note</p> <p>Take a look at the README.pdf in the installation directory (e.g.,<code>C:\\Program Files\\XtracIS\\ABAP\\README.pdf</code>) before installing any custom function modules.</p>"},{"location":"documentation/setup-in-sap/custom-function-module-for-tablecdc/#installation-of-theoread_table","title":"Installation of /THEO/READ_TABLE","text":"<p>Install the custom function module /THEO/READ_TABLE, see Function Module for Tables.</p> <p>Note</p> <p>Take a look at the README.pdf in the installation directory (e.g.,<code>C:\\Program Files\\XtracIS\\ABAP\\README.pdf</code>) before installing any custom function modules.</p>"},{"location":"documentation/setup-in-sap/custom-function-module-for-tablecdc/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base: Import an SAP Transport Request</li> <li>Knowledge Base: Delta Mechanism of Table CDC</li> <li>Table CDC - Prerequisites</li> </ul>"},{"location":"documentation/setup-in-sap/customization-for-deltaq/","title":"Customization for DeltaQ","text":"<p>Before using the Xtract DeltaQ component, an RFC destination has to be created in the SAP system.  This page shows how to create and configure the RFC destination.</p> <p>Follow the steps on this page in the following order:</p> <ol> <li>Create an RFC Destination of Type R/3</li> <li>Execute the Function Module RSAP_BIW_CONNECT_40</li> <li>Delete the RFC Destination </li> <li>Create an RFC Destination of Type T</li> <li>Execute the Function Module RSAS_RBWBCRL_STORE</li> <li>Register the RFC Server</li> <li>qRFC Monitor (QOUT Scheduler)</li> </ol>"},{"location":"documentation/setup-in-sap/customization-for-deltaq/#create-an-rfc-destination-of-type-r3","title":"Create an RFC Destination of Type R/3","text":"<ol> <li>Go to SAP transaction SM59 to create an RFC destination of type R/3.</li> <li>Enter a name in the field RFC Destination, e.g., XTRACT01. The name of the RFC Destination is needed again for later configuration.</li> </ol>"},{"location":"documentation/setup-in-sap/customization-for-deltaq/#execute-the-function-module-rsap_biw_connect_40","title":"Execute the Function Module RSAP_BIW_CONNECT_40","text":"<p>Note</p> <p>Executing the Function Module RSAP_BIW_CONNECT_40 can be performed on modifiable that the SAP systems.</p> <p>The function module RSAP_BIW_CONNECT_40 creates a connection to a Business Information Warehouse. Go to SAP transaction SE37 and execute the function module RSAP_BIW_CONNECT_40 with the following import parameters: </p> Import Parameter Example Value Comment I_LANGU EN I_SLOGSYS T90CLNT090 Logical name of the source system. If you do not know this, look in table T000 for the respective client (LOGSYS field). I_LOGSYS XTRACT01 I_STEXT Xtract Destination I_BASIC_IDOC ZXTIDOC Unique name of the RFC destinations. I_TSPREFIX XT Unique name of the RFC destinations. I_SAPRL 700 Automatically set by the SAP system. I_RESTORE X"},{"location":"documentation/setup-in-sap/customization-for-deltaq/#delete-the-rfc-destination","title":"Delete the RFC Destination","text":"<p>Go to SAP transaction SM59 and delete the RFC destination of type R/3 via Detailed View &gt; Menu &gt; Delete.</p>"},{"location":"documentation/setup-in-sap/customization-for-deltaq/#create-an-rfc-destination-of-type-t","title":"Create an RFC Destination of Type T","text":"<ol> <li>Go to SAP transaction SM59 to create an RFC destination of type T=TCP/IP that has the same name as the deleted RFC destination of type R/3.</li> <li>Select the activation type Registered Server Program. </li> <li> <p>Set the following parameters:</p> Tab Field Example Value Comment Technical Settings RFC Destination XTRACT01 Technical Settings Connection Type TCP/IP Connection Technical Settings Description 1 Xtract Destination Technical Settings Activation Type Registered Server Program Technical Settings Program ID XTRACT01 Technical Settings Gateway Host sap-erp-as05.example.com Name or IP address of the SAP system. Technical Settings Gateway service sapgw00 In the form sapgwnn, where nn is the SAP instance number (between 00 and 99). Special Options Serializer Classic Serializer Select the \"Classic serializer\". </li> </ol>"},{"location":"documentation/setup-in-sap/customization-for-deltaq/#execute-the-function-module-rsas_rbwbcrl_store","title":"Execute the Function Module RSAS_RBWBCRL_STORE","text":"<p>Go to SAP transaction SE37 and execute the function module RSAS_RBWBCRL_STORE to activate the target system.</p> Import Parameter Example Value Comment I_RBWBCRL 700 The current SAP system release number I_RLOGSYS XTRACT01"},{"location":"documentation/setup-in-sap/customization-for-deltaq/#register-the-rfc-server","title":"Register the RFC Server","text":"<p>Note</p> <p>Registering an RFC Server in SAP Releases is only necessary for SAP kernel version 720 and higher.</p> <ol> <li>Set the profile parameter gw/acl_mode to 0 (default is 1).</li> <li>Add the RFC Destination to the whitelist of programs that can register at the SAP Gateway.</li> </ol> <p>For more information, refer to the Knowledge Base Article: Register an RFC Server in SAP with Kernel Release 720 and higher.</p>"},{"location":"documentation/setup-in-sap/customization-for-deltaq/#qrfc-monitor-qout-scheduler","title":"qRFC Monitor (QOUT Scheduler)","text":"<ol> <li>Go to SAP transaction SMQS. </li> <li>Select the created RFC destination, e.g., XTRACT01. </li> <li>Click Register without activation and set the parameter Max.Verb. to 10.  Increase this value in case of parallel execution of several Xtract DeltaQ components on the same RFC destination. </li> </ol> <p>Note</p> <p>For DeltaQ customizing errors, refer to the DeltaQ Troubleshooting.</p>"},{"location":"documentation/setup-in-sap/customization-for-ohs-in-bw/","title":"Customization for OHS","text":"<p>Before using the Xtract OHS component, an RFC destination has to be created in the SAP system.  This page shows how to set up the RFC destination and SAP process chain.</p> <p>Depending on the SAP release, Xtract OHS can be used as follows:</p> SAP Release SAP Object Details BI &lt; 7.0 InfoSpoke InfoSpokes and Process Chains (BI &lt; 7.0) BI &gt;= 7.0 OHS-Destination OHS Destinations and Data Transfer Processes (BI &gt;= 7.0)"},{"location":"documentation/setup-in-sap/customization-for-ohs-in-bw/#create-an-rfc-destination","title":"Create an RFC destination","text":"<ol> <li>Go to SAP transaction SM59 to create an RFC destination of type TCP/IP .</li> <li>Select the activation type Registered Server Program .</li> <li>Enter a name in the field Program ID , e.g., XTRACT01. The name of the Program ID is needed again for later configuration. </li> </ol>"},{"location":"documentation/setup-in-sap/customization-for-ohs-in-bw/#infospokes-and-process-chains-bi-70","title":"InfoSpokes and Process Chains (BI &lt; 7.0)","text":"<ol> <li>Go to SAP transaction RSA1 to open the Administrator Workbench. </li> <li>Navigate to Tools &gt; Open Hub Service &gt; Infospoke to create an InfoSpoke. </li> <li>Store data source in the InfoSpoke, e.g. an ODS object or a cube. </li> <li>Define an InfoSpoke for data extraction into an external system in the Destination tab. </li> <li>Specify the RFC destination created in advance. </li> <li>Fill in the columns to be transferred and, if necessary, a selection. </li> <li>Save and activate the InfoSpoke. </li> <li>Generate a process chain with transaction RSA1 in the menu Edit -&gt; Process Chains. </li> <li>Activate Start by API in the variant for the process chain. </li> <li>Insert the created InfoSpoke into the process chain. </li> <li>Save and activate the process chain.</li> </ol>"},{"location":"documentation/setup-in-sap/customization-for-ohs-in-bw/#ohs-destinations-and-data-transfer-processes-bi-70","title":"OHS Destinations and Data Transfer Processes (BI &gt;= 7.0)","text":"<ol> <li>Go to SAP transaction RSA1 to open the Administrator Workbench.</li> <li>Navigate to Open Hub Destination in the left tree and right-click on an InfoArea. Select Create Open Hub Destination in the context menu.  </li> <li>In the edit mode of the destination, set the Destination Type to Third Party Tool and select your RFC destination. </li> <li>Save and activate the OHS destination. </li> <li>Click on the newly created OHS destination in the middle tree of the InfoAreas and select Create Data Transfer Process to create a new data transfer process (DTP). </li> <li>Save and activate the DTP. If necessary, change the extraction type from Delta to Full before activating)  The arrangement of Destination, Transformations and DTP in the OHS tree is done afterwards.</li> <li>Create a process chain that contains the new DTP. </li> <li>Make sure that the planning option Start Using Meta Chain or API is selected in the process chain start variant.  </li> <li>Activate the process chain. </li> </ol>"},{"location":"documentation/setup-in-sap/customization-for-ohs-in-bw/#related-links","title":"Related Links","text":"<ul> <li>SAP Note 2437637</li> <li>SAP Note 1983356</li> </ul>"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/","title":"Customization for DeltaQ","text":"<p>Before using the Xtract DeltaQ component, an RFC destination has to be created in the SAP system.  This page shows how to create and configure the RFC destination.</p> <p>Follow the steps on this page in the following order:</p> <ol> <li>Create an RFC Destination of Type R/3</li> <li>Execute the Function Module RSAP_BIW_CONNECT_40</li> <li>Delete the RFC Destination </li> <li>Create an RFC Destination of Type T</li> <li>Execute the Function Module RSAS_RBWBCRL_STORE</li> <li>Register the RFC Server</li> <li>qRFC Monitor (QOUT Scheduler)</li> </ol>"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/#create-an-rfc-destination-of-type-r3","title":"Create an RFC Destination of Type R/3","text":"<ol> <li>Go to SAP transaction SM59 to create an RFC destination of type R/3.</li> <li>Enter a name in the field RFC Destination, e.g., XTRACT01. The name of the RFC Destination is needed again for later configuration.</li> </ol>"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/#execute-the-function-module-rsap_biw_connect_40","title":"Execute the Function Module RSAP_BIW_CONNECT_40","text":"<p>Note</p> <p>Executing the Function Module RSAP_BIW_CONNECT_40 can be performed on modifiable that the SAP systems.</p> <p>The function module RSAP_BIW_CONNECT_40 creates a connection to a Business Information Warehouse. Go to SAP transaction SE37 and execute the function module RSAP_BIW_CONNECT_40 with the following import parameters: </p> Import Parameter Example Value Comment I_LANGU EN I_SLOGSYS T90CLNT090 Logical name of the source system. If you do not know this, look in table T000 for the respective client (LOGSYS field). I_LOGSYS XTRACT01 I_STEXT Xtract Destination I_BASIC_IDOC ZXTIDOC Unique name of the RFC destinations. I_TSPREFIX XT Unique name of the RFC destinations. I_SAPRL 700 Automatically set by the SAP system. I_RESTORE X"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/#delete-the-rfc-destination","title":"Delete the RFC Destination","text":"<p>Go to SAP transaction SM59 and delete the RFC destination of type R/3 via Detailed View &gt; Menu &gt; Delete.</p>"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/#create-an-rfc-destination-of-type-t","title":"Create an RFC Destination of Type T","text":"<ol> <li>Go to SAP transaction SM59 to create an RFC destination of type T=TCP/IP that has the same name as the deleted RFC destination of type R/3.</li> <li>Select the activation type Registered Server Program. </li> <li> <p>Set the following parameters:</p> Tab Field Example Value Comment Technical Settings RFC Destination XTRACT01 Technical Settings Connection Type TCP/IP Connection Technical Settings Description 1 Xtract Destination Technical Settings Activation Type Registered Server Program Technical Settings Program ID XTRACT01 Technical Settings Gateway Host sap-erp-as05.example.com Name or IP address of the SAP system. Technical Settings Gateway service sapgw00 In the form sapgwnn, where nn is the SAP instance number (between 00 and 99). Special Options Serializer Classic Serializer Select the \"Classic serializer\". </li> </ol>"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/#execute-the-function-module-rsas_rbwbcrl_store","title":"Execute the Function Module RSAS_RBWBCRL_STORE","text":"<p>Go to SAP transaction SE37 and execute the function module RSAS_RBWBCRL_STORE to activate the target system.</p> Import Parameter Example Value Comment I_RBWBCRL 700 The current SAP system release number I_RLOGSYS XTRACT01"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/#register-the-rfc-server","title":"Register the RFC Server","text":"<p>Note</p> <p>Registering an RFC Server in SAP Releases is only necessary for SAP kernel version 720 and higher.</p> <ol> <li>Set the profile parameter gw/acl_mode to 0 (default is 1).</li> <li>Add the RFC Destination to the whitelist of programs that can register at the SAP Gateway.</li> </ol> <p>For more information, refer to the Knowledge Base Article: Register an RFC Server in SAP with Kernel Release 720 and higher.</p>"},{"location":"documentation/setup-in-sap/customizing-for-deltaq/#qrfc-monitor-qout-scheduler","title":"qRFC Monitor (QOUT Scheduler)","text":"<ol> <li>Go to SAP transaction SMQS. </li> <li>Select the created RFC destination, e.g., XTRACT01. </li> <li>Click Register without activation and set the parameter Max.Verb. to 10.  Increase this value in case of parallel execution of several Xtract DeltaQ components on the same RFC destination. </li> </ol> <p>Note</p> <p>For DeltaQ customizing errors, refer to the DeltaQ Troubleshooting.</p>"},{"location":"documentation/setup-in-sap/sap-authority-objects/","title":"SAP Authorization Objects","text":"<p>To use Xtract IS you need an SAP connection user with sufficient authorization in SAP.  Authorizations are assigned via authorization objects in SAP.  Redirect this page to your SAP Basis administrators to get the relevant authorization objects for your SAP connection user.  </p> <p>The authorizations in the section General authorization objects are required to establish an SAP connection with the SAP application server.  The required authorizations for each component are listed in their respective section.  </p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#sap-authorization-profiles","title":"SAP Authorization Profiles","text":"<p>Theobald Software collected and combined the necessary authorizations for all components into SAP roles.  You can download the SAP profiles and upload them to your SAP system:</p> Component SAP Role File General Authorization Objects ZXTGENERAL.SAP BAPI ZXTBAPI.SAP BW Cube ZXTBWCUBE.SAP BW Hierarchy ZXTBWHIERARCHY.SAP ODP (Operational Data Provisioning) ZXTODP.SAP OHS (Open Hub Services) ZXTOHS.SAP Query ZXTQUERY.SAP Report ZXREPORT.SAP Table ZXTABLE.SAP Table CDC ZXTABLECDC.SAP DeltaQ  ZXTDELTAQ.SAP,DELTAQ_CUSTOMIZING_CHECK <p>Note</p> <p>If you still get an authorization error, ask SAP Basis to record an ST01-/ or SU53-authorization trace in SAP. This trace shows which authorizations objects are missing.</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#general-authorization-objects","title":"General Authorization Objects","text":"<p>The following authorization objects are required to establish a connection to SAP. </p> Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUGR; RFC_NAME=SYST; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=SRFC; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=RFC1; ACTVT=16\n</code></pre> <p> Download SAP profile for general authorization</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#bapi","title":"BAPI","text":"Necessary SAP authorizations<pre><code>S_RFC            ACTVT=16; RFC_TYPE=FUGR; RFC_NAME=DDIF_FIELDINFO_GET, SDIFRUNTIME     \n</code></pre> <p> Download SAP profile for BAPI Extractions</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#bw-cube-bw-query","title":"BW Cube / BW Query","text":"<p>Authorizations for the underlying Queries, Cubes, InfoAreas and analysis need to be assigned via: </p> <ul> <li><code>S_RS_COMP</code></li> <li><code>S_RS_COMP1</code></li> <li><code>S_RS_AUTH</code></li> </ul> Authorization objectsBICS modeDate conversion (optional) Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUGR; RFC_NAME=RSOB; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=RRX1; ACTVT=16\nS_TABU_NAM       ACTVT=03; TABLE=RSRREPDIR\nS_TABU_NAM       ACTVT=03; TABLE=RSZGLOBV\nS_TABU_NAM       ACTVT=03; TABLE=RSADMINC\n</code></pre> Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUGR;RFC_NAME=SYST;ACTVT=16;type=RF;name=RFCPING;\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=RSOBJS_RFC_INTERFACE; ACTVT=16; type=RF;name=RSOBJS_GET_NODES;\nS_RFC            RFC_TYPE=FUGR;RFC_NAME=RSAO_CORE;ACTVT=16;type=RF;name=RSAO_BICS_SESSION_INITIALIZE\nS_RFC            RFC_TYPE=FUGR;RFC_NAME=RSBOLAP_BICS_CONSUMER;ACTVT=16;type=RF;name=BICS_CONS_CREATE\nS_RFC            RFC_TYPE=FUGR;RFC_NAME=RSBOLAP_BICS_PROVIDER;ACTVT=16;type=RF;name=BICS_PROV_OPEN;\nS_RFC            RFC_TYPE=FUGR;RFC_NAME=RSBOLAP_BICS_PROVIDER_VAR;ACTVT=16;type=RF;name=BICS_PROV_VA\nS_ADMI_FCD       S_ADMI_FCD=PADM;\n</code></pre> Necessary SAP authorizations<pre><code>S_TABU_NAM       ACTVT=03; TABLE=DD03L\n</code></pre> <p>Alternatively, you can assign the SAP role template  <code>S_RS_RREPU</code>. </p> <p> Download SAP profile for BW Cube / BW Query</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#bw-hierarchy","title":"BW Hierarchy","text":"Necessary SAP authorizations<pre><code>S_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=RSNDI_SHIE; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=BAPI_IOBJ_GETDETAIL; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=DDIF_FIELDINFO_GET; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=RFC1; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=RFC_GET_FUNCTION_INTERFACE; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=RFC_READ_TABLE; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=RSBAPI_IOBJ; ACTVT=16 \nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=RSNDI_SHIE; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=SDIFRUNTIME; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=SDTX; ACTVT=16\nS_RFC          RFC_TYPE=FUNC, FUGR; RFC_NAME=SYST; ACTVT=16\nS_RS_ADMWB     RSADMWBOBJ=INFOOBJECT; ACTVT=03\nS_TABU_DIS     ACTVT= 03; DICBERCLS=BWC\nS_TABU_DIS     ACTVT=03; DICBERCLS=BWG\nS_TABU_NAM     ACTVT=03; TABLE=/BIC/*\nS_TABU_NAM     ACTVT=03; TABLE=ENLFDIR\nS_TABU_NAM     ACTVT=03; TABLE=RSHIEDIR\n</code></pre> <p> Download SAP profile for BW Hierarchy</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#odp","title":"ODP","text":"<p>For a complete and detailed list of authorization objects refer to SAP Note 2855052 - Authorizations required for ODP Data Replication API 2.0. </p> Necessary SAP authorizations<pre><code>S_TABU_NAM       ACTVT=03; TABLE=TCURX\n</code></pre> <p> Download SAP profile for ODP</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#ohs","title":"OHS","text":"<p>Alternatively, you can assign the SAP role template  <code>S_BI-WHM_RFC</code>. </p> Necessary SAP authorizations<pre><code>S_RFC      RFC_TYPE=FUGR; RFC_NAME=RSB3RD; ACTVT=16\nS_RFC      RFC_TYPE=FUGR; RFC_NAME=SDTX; ACTVT=16\nS_RFC      RFC_TYPE=FUGR; RFC_NAME=BAPT; ACTVT=16\nS_RFC      RFC_TYPE=FUGR; RFC_NAME=BATG; ACTVT=16\nS_RFC      RFC_TYPE=FUGR; RFC_NAME=RSPC_API; ACTVT=16\nS_TABU_DIS RC=0 ACTVT=03; DICBERCLS=&amp;NC&amp; \nS_RS_PC    RSPCCHAIN=*;RSPCAPPLNM=*; RSPCPART=DEFINITION; ACTVT=03\nS_RS_PC    RSPCCHAIN=*;RSPCAPPLNM=*; RSPCPART=RUNTIME; ACTVT=16\nS_CTS_ADMI CTS_ADMFCT=TABL\nS_RS_DTP   RSTLDTPSRC=CUBE; RSSTDTPSRC=*; RSONDTPSRC=0D_DECU; RSTLDTPTGT=DEST; RSSTDTPTGT=*; ACTVT=16\nS_BTCH_ADM BTCADMIN=Y\nS_BTCH_JOB JOBGROUP=*; JOBACTION=RELE\nS_RS_TR    RSTLOGOSRC=CUBE; RSSTTRSRC=*; RSOBJNMSRC=0D_DECU; RSTLOGOTGT=DEST; RSSTTRTGT=' '; RSOBJNMTG=*; ACTVT=16\nS_RS_AUTH  BIAUTH=0BI_ALL\nS_ADMI_FCD S_ADMI_FCD=ST0R\n</code></pre> <p> Download SAP profile for OHS</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#query","title":"Query","text":"Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUGR; RFC_NAME=AQRC; ACTVT=16 \n</code></pre> <p> Download SAP profile for SAP Query</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#report","title":"Report","text":"Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUGR; RFC_NAME=ZXTRACTABAP; ACTVT=16\nS_TABU_NAM       ACTVT=03; TABLE=TRDIR, TRDIRT, TSTC, VARID\nS_GUI            ACTVT=61 \nS_TABU_DIS       ACTVT=03; DICBERCLS=&amp;NC&amp; \nS_TABU_DIS       ACTVT=03; DICBERCLS=SS\nS_BTCH_ADM       BTCADMIN=Y\nS_BTCH_JOB       JOBGROUP=*; JOBACTION=RELE\n</code></pre> <p>Note</p> <p>The necessary transport request for function group ZXTRACTABAP is located in the following path: <code>C:\\Program Files\\[XtractProduct]\\ABAP\\Report\\Z_XTRACT_IS_REMOTE_REPORT-transport.zip</code> of the default installation.</p> <p> Download SAP profile for Report</p> <p>To execute a report with Xtract IS, the SAP connection user needs explicit authorization to execute the report. Authorization can be granted using one of the following methods:</p> <ul> <li>Assign the authorization object Z_TS_PROG </li> <li>Assign an authorization group</li> </ul>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#table","title":"Table","text":"Necessary SAP authorizations<pre><code>S_RFC            ACTVT=16; RFC_TYPE=FUGR; RFC_NAME=SDTX, SDIFRUNTIME, /THEO/READ_TABLE                   \nS_TABU_DIS       ACTVT=03; DICBERCLS=XXXX\nS_TABU_NAM       ACTVT=03; TABLE=DD02V, DD17S, DD27S, ENLFDIR\nS_DSAUTH         ACTVT=16;    \n</code></pre> <p>XXXX (stands for a placeholder) is the authorization group for the table. To determine, which authorization group belongs to which table, check the table TDDAT - Maintenance Areas for Tables.  If the table is not listed, the authorization group is &amp;NC&amp;. For authorizing specific tables use authorization object S_TABU_NAM instead of S_TABU_DIS.</p> <p>Note</p> <p>The transport request for function group /THEO/READ_TABLE and Z_THEO_READ_TABLE is located in the following path: <code>C:\\Program Files\\[XtractProduct]\\ABAP\\Table</code> of the default installation. </p> <p>Additional options:</p> Run Z_THEO_READ_TABLE in the backgroundCount Rows buttonAdjust currency decimals setting Necessary SAP authorizations<pre><code>S_BTCH_ADM       BTCADMIN=Y\nS_BTCH_JOB       JOBGROUP=*; JOBACTION=RELE\n</code></pre> Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUNC; RFC_NAME=EM_GET_NUMBER_OF_ENTRIES; ACTVT=16  \n</code></pre> Necessary SAP authorizations<pre><code>S_TABU_NAM       ACTVT=03; TABLE=TCURX\n</code></pre> <p> Download SAP profile for Table</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#table-cdc","title":"Table CDC","text":"Necessary SAP authorizations<pre><code>S_RFC            ACTVT=16; RFC_TYPE=FUGR, FUNC; RFC_NAME=SDTX, SDIFRUNTIME, /THEO/CDC_*, /THEO/READ_TABLE            \nS_TABU_DIS       ACTVT=02, 03; DICBERCLS=*\nS_TABU_CLI       CLIIDMAINT=X \nS_TABU_NAM       ACTVT=03; TABLE=DD02V, D17S, D27S, ENLFDIR\nS_DEVELOP        ACTVT=02; DEVCLASS=$TMP; OBJNAME=ZTSCDC_*; OBJTYPE=*; P_GROUP=*\n</code></pre> <p>XXXX (stands for a placeholder) is the authorization group for the source table. To determine, which authorization group belongs to which table, check the table TDDAT - Maintenance Areas for Tables. If the table is not listed, the authorization group is &amp;NC&amp;. For authorizing specific tables use authorization object S_TABU_NAM instead of S_TABU_DIS.</p> <p>Note</p> <p>The transport requests for the required function groups /THEO/READ_TABLE are located in <code>C:\\Program Files\\[XtractProduct]\\ABAP\\TableCDC</code> and <code>C:\\Program Files\\[XtractProduct]\\ABAP\\Table</code>. </p> <p> Download SAP profile for Table CDC</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#deltaq","title":"DeltaQ","text":"Customizing checkInitial DataSource activationRe-activating a DataSourceProcessing Necessary SAP authorizations<pre><code>S_RFC           RFC_TYPE=FUGR; RFC_NAME=SUSR; ACTVT=16  \nS_RFC           RFC_TYPE=FUNC; RFC_NAME=RFC_GET_SYSTEM_INFO; ACTVT= 16 \nS_ADMI_FCD      S_ADMI_FCD=NADM\nS_TABU_DIS      ACTVT = 02; DICBERCLS=SA\nS_TABU_DIS      ACTVT = 03; DICBERCLS=SA\nS_TABU_NAM      ACTVT = 02; TABLE=EDIPOA\nS_TABU_NAM      ACTVT = 03; TABLE=EDIPOA\n</code></pre> Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUGR; RFC_NAME=SDIFRUNTIME; ACTVT=16 \nS_RFC            RFC_TYPE=FUGR; RFC_NAME=RSAG; ACTVT=16 \nS_TABU_DIS       ACTVT=03; DICBERCLS=SS                                                \nS_TABU_DIS       ACTVT=03; DICBERCLS=SC                                               \nS_IDOCDEFT       EDI_TCD=WE30; ACTVT=01; EDI_CIM=*; EDI_DOC=*                            \nS_IDOCDEFT       EDI_TCD=WE30; ACTVT=03; EDI_CIM=*; EDI_DOC=*   \n</code></pre> Necessary SAP authorizations<pre><code>S_RFC           RFC_TYPE=FUGR; RFC_NAME=SDIFRUNTIME; ACTVT=16\nS_TABU_DIS      ACTVT=03; DICBERCLS=SS                                 \nS_TABU_DIS      ACTVT=03; DICBERCLS=SC                                               \nS_IDOCDEFT      EDI_TCD=WE30; ACTVT=02; EDI_CIM=*; EDI_DOC=*\n</code></pre> Necessary SAP authorizations<pre><code>S_RFC            RFC_TYPE=FUGR; RFC_NAME=EDI1; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=BATG; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=EDIMEXT; ACTVT=16 \nS_RFC            RFC_TYPE=FUGR; RFC_NAME=ARFC; ACTVT=16 \nS_RFC            RFC_TYPE=FUGR; RFC_NAME=ERFC; ACTVT=16 \nS_RFC            RFC_TYPE=FUGR; RFC_NAME=EDIN; ACTVT=16 \nS_RFC            RFC_TYPE=FUGR; RFC_NAME=/BIC/*; ACTVT=16 \nS_RFC            RFC_TYPE=FUGR; RFC_NAME=/BI0/*; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=RSAK; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=EDIW; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=SDTX; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=EDIMEXT; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=SYSU; ACTVT=16\nS_RFC            RFC_TYPE=FUGR; RFC_NAME=RSC1; ACTVT=16\nS_RFC            RFC_TYPE=FUNC; RFC_NAME=RSAP_REMOTE_HIERARCHY_CATALOG;  ACTVT=16\nS_RFC            RFC_TYPE=FUNC; RFC_NAME=RSA1_OLTPSOURCE_GET_ALL;  ACTVT=16\nS_RFC            RFC_TYPE=FUNC; RFC_NAME=RSA1_OLTPSOURCE_GET_SELECTIONS;  ACTVT=16\nS_RFC_ADM        ACTVT=03; RFCDEST=XTRACT*; RFCTYPE = T; ICF_VALUE=* \nB_ALE_RECV       EDIMES=RSRQST\nS_IDOCMONI       ACTVT=03; EDI_DIR=*; EDI_MES=*; EDI_PRN=*; EDI_PRT=*; EDI_TCD=WE*\nS_IDOCDEFT       EDI_TCD=WE30; ACTVT=02; EDI_CIM=*; EDI_DOC=*\nS_IDOCDEFT       EDI_TCD=WE30; ACTVT=03; EDI_CIM=*; EDI_DOC=*\nS_TABU_DIS       ACTVT=03; DICBERCLS=SS                                   \nS_TABU_DIS       ACTVT=03; DICBERCLS=SC\nS_TABU_DIS       ACTVT=03; DICBERCLS=&amp;NC&amp;  \nS_BTCH_ADM       BTCADMIN=Y          \nS_BTCH_JOB       JOBGROUP=*; JOBACTION=RELE\nS_SPO_DEV        SPODEVICE=*\nS_RO_OSOA        OLTPSOURCE=*; OSOAAPCO=*; OSOAPART=DATA; ACTVT=03;  | Only in SAP Releases  7.0 and higher\n</code></pre> <p> Download SAP profile for DeltaQ</p> <p> Download SAP profile for DeltaQ Customizing Check</p>","tags":["permissions"]},{"location":"documentation/setup-in-sap/sap-authority-objects/#related-links","title":"Related Links","text":"<ul> <li>SAP Help: Role Administration</li> <li>SAP ONE Support Launchpad</li> </ul>","tags":["permissions"]},{"location":"documentation/table/","title":"Xtract Table","text":"<p>This page shows how to use the Xtract Table component. The Xtract Table component can be used to extract data from SAP Tables and Views.</p>"},{"location":"documentation/table/#supported-sap-objects","title":"Supported SAP Objects","text":"<ul> <li>Transparent tables</li> <li>Views</li> <li>ABAP CDS Views (without parameters)</li> <li>HANA CDS Views</li> <li>Pool tables (joining not possible)</li> <li>Cluster tables (joining not possible)</li> </ul>"},{"location":"documentation/table/#rfc_read_table-restrictions","title":"RFC_READ_TABLE Restrictions","text":"<p>Especially with older SAP releases you may encounter a few restrictions when using the SAP standard function module (RFC_READ_TABLE) for table extraction:</p> <ul> <li>The overall width of all columns to be extracted must not exceed 512 bytes.</li> <li>It is not possible to extract data from tables that contain one or more columns of the data type f (FLTP, floating point), DEC (decimal, e.g. for percentage) or x (RAW, LRAW).</li> <li>Poor extraction performance with larger tables.  Can cause also duplicates.</li> <li>Depending on the SAP version there may be other restrictions. </li> </ul> <p>When facing restrictions, install the Theobald Software custom function module /THEO/READ_TABLE on your SAP system. </p> <p>Warning</p> <p>Converting issues Error while converting value '*.0' of row 1530, column 3. The SAP standard module RFC_READ_TABLE for table extraction can only extract the ABAP data type DEC to a limited extent. This leads to the mentioned example error during extraction. Use the function module /THEO/READ_TABLE.</p>"},{"location":"documentation/table/#prerequisites","title":"Prerequisites","text":"<ul> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> </ul> <p>Warning</p> <p>Missing Authorization. To use the Xtract Table component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects accordingly.</p>"},{"location":"documentation/table/#add-an-xtract-table-component","title":"Add an Xtract Table Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract Table component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/table/#look-up-an-sap-table","title":"Look up an SAP Table","text":"<ol> <li>In the main window of the component, click [Add] to add a table. The window \"Table Lookup\" opens. </li> <li>In the field Table Name, enter the name of the table to extract  . Use wildcards (*) if needed. </li> <li>Click [ ] . Search results are displayed.</li> <li>Select a table   and click [OK]. </li> </ol> <p>All relevant metadata information of the table is retrieved from SAP. The application returns to the main window of the component.</p>"},{"location":"documentation/table/#define-the-xtract-table-component","title":"Define the Xtract Table Component","text":"<p>The Xtract Table component offers the following options for table extractions:</p> <ol> <li>Select the columns you want to extract. By default all columns are selected. Deselect the columns you do not want to extract. </li> <li>Optional: Define a WHERE clause or a HAVING clause to filter table records. By default all data is extracted.</li> <li>Optional: Join two or more tables and extract the result of the join. For more information, see Table Joins.</li> <li>Click [Load live preview] to display a live preview of the first 100 records. </li> <li>Check the Settings before running the SSIS package.</li> <li>Click [OK] to save the component.</li> </ol> <p>You can now run the SSIS package.</p>"},{"location":"documentation/table/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base Article: Delta Table Extraction</li> <li>Knowledge Base Article: Read data from Cluster Fields in Tables PCL1 and PCL2 (Payroll)</li> </ul>"},{"location":"documentation/table/having-clause/","title":"HAVING Clause","text":"<p>The HAVING clause can be used to filter groups of rows, see SAP ABAP Documentation: SELECT-HAVING.</p>"},{"location":"documentation/table/having-clause/#create-a-having-clause","title":"Create a HAVING Clause","text":"<p>The following example shows how many materials are assigned to a material type (MTART).  After applying the HAVING Clause, the preview shows only the material types with more than 10 materials assigned.</p> <ol> <li> <p>Select an aggregate function   for a field you want to use in the HAVING-clause. </p> <p>Note</p> <p>Aggregate functions are only supported for numeric field types, which is why the field BRGEW (Gross Weight) is used in the example.</p> <p></p> </li> <li> <p>Navigate to tab HAVING Clause .</p> </li> <li>Enter a HAVING Clause using the syntax in accordance to your SAP Release, e.g., <code>COUNT(BRGEW) &gt; 10</code>. </li> <li>Click [Load live preview] to display the results in the Preview section.</li> </ol> <p>Note</p> <p>When fields with the same name exist in different tables, the field names must be formatted as [Table]~[Column], e.g., MAKT~MATNR.  This can be the case with table joins.</p>"},{"location":"documentation/table/having-clause/#having-clause-syntax","title":"HAVING Clause Syntax","text":"<p>With regard to syntax and formulas, the same rules apply as for the WHERE Clause.  Depending on your SAP release the syntax may varry, see SAP Help - ABAP SQL - SQL Expressions sql_exp .</p>"},{"location":"documentation/table/main-window/","title":"Main Window","text":"<p>This section contains an overview and description of the Tables and Fields tab in the main window of the Xtract Table component. </p>"},{"location":"documentation/table/main-window/#tables","title":"Tables","text":"<p>The subsection Tables lists all SAP Tables and Views that were added to the component.</p> <ul> <li>Click [Add] to add an SAP Table or View to the component.</li> <li>Click [Remove] to remove an SAP Table or View  from the component. </li> </ul> <p>Tip</p> <p>Select an SAP Table to define the corresponding settings, e.g, output columns, WHERE clause, etc. You can switch between the SAP Tables.</p> <p></p>"},{"location":"documentation/table/main-window/#fields","title":"Fields","text":"<p>The subsection Fields displays all columns in the selected SAP Table or View.</p> <p></p> <p>The Xtract Table component imports and highlights the dedicated indexes of an SAP Table, such as primary key and/or sorting options. </p> <p>Note</p> <p>Use the indicated fields for filtering increases performance when applying WHERE-clause.</p> Columns Description  /  Defines whether or not a table column is added to the output of the component. By default, all table columns are extracted. Name Name of a column in the SAP Table. The column name can be filtered. Description Description of the column. The column description can be filtered. Aggregate Function Applies aggregate functions to numeric fields. Conv. Activates SAP conversion routines."},{"location":"documentation/table/main-window/#aggregate-functions","title":"Aggregate Functions","text":"<p>Aggregate functions are only available for numeric field data types, e.g., INT, FLOAT, DECIMAL.  The following aggregation functions are available: </p> <ul> <li>None: No aggregation </li> <li>MEAN: Average</li> <li>COUNT: Number </li> <li>MAX: Maximum</li> <li>MIN: Minimum </li> <li>SUM: Total</li> </ul>"},{"location":"documentation/table/main-window/#conversion-routines","title":"Conversion Routines","text":"<p>Conversion routines are stored in the Data Dictionary that is used for the respective fields.  Activating the conversion routines in SAP leads to significant performance decrease.  After the conversion, the value is displayed as it appears in the transaction SE16N in the SAP GUI. </p> <p>Examples: </p> <ul> <li>Language keys, e.g., <code>D</code> in the database becomes <code>DE</code> after conversion</li> <li>Project numbers, e.g., <code>T000012738GT</code> becomes <code>T/12738/GT</code> after conversion.</li> </ul> <p></p> State Description Safety no conversion routines selected - conversion routines enabled requires the function module Z_XTRACT_IS_TABLE_COMPRESSION no data type safety conversion routines enabled requires the function module /THEO/READ_TABLE assured data type safety"},{"location":"documentation/table/main-window/#preview","title":"Preview","text":"<p>The subsection Preview displays a real-time preview of the first 100 fields of the SAP table when clicking the button [Load live preview].</p> <p>Note</p> <p>The use non-indexed fields in the WHERE-clause can lead to timeouts during the preview of large tables.</p> <p></p>"},{"location":"documentation/table/main-window/#buttons","title":"Buttons","text":"<p>[Load live preview]  Allows a real-time preview of the extraction data without executing the extraction.  You can also preview the data with aggregation functions. </p> <p>[Count rows]  Returns the number of rows/data records of an extraction, considering the WHERE and HAVING clauses stored. </p> <p>[Refresh metadata] A new lookup is performed on the selected table(s). Existing mappings and field selections are retained, which is not the case when the table is added again.  It can be necessary to refresh the metadata when a table has been adjusted in SAP, when another source system is assigned to the component, or when the source system was updated.  In such cases, data inconsistencies can occur that are resolved by this function.   </p>"},{"location":"documentation/table/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract Table component using SSIS variables directly in the component and by using SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/table/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables can be used to parameterize the WHERE Clause in the Xtract Table component, see Dynamic WHERE Clause with SSIS Variables.</p>"},{"location":"documentation/table/parameterization/#parameterization-using-expression-properties","title":"Parameterization using Expression Properties","text":"<p>The recommended way of parameterization is to use SSIS expressions to set Data Flow Properties.  Data Flow Properties are displayed in the \"Properties\" window of the Data Flow Task. </p> <p>Note</p> <p>Data Flow Properties are not to be confused with Custom Properties that are displayed in the \"Properties\" window of the component.  When parameterizing the Data Flow Properties, the Custom Properties are overwritten.</p> <p>For more information on property expressions, see Microsoft Documentation: Use Property Expressions in Packages.</p> <ol> <li>Right-click the Data Flow canvas and select Properties. The window \"Properties\" opens.</li> <li>Add an Expression by clicking using [\u2026]. The window \"Property Expression Editor\" opens. </li> <li>Select a property from the drop-down list under Property.</li> <li>Open the \"Expression Builder\" using the [\u2026] button under Expression.</li> <li>Build your Expression and click [Evaluate Expression] to check for correct syntax.</li> <li>Confirm your input with [OK].</li> </ol>"},{"location":"documentation/table/parameterization/#data-flow-properties-of-xtract-table","title":"Data Flow Properties of Xtract Table","text":"<p>List of Data Flow Properties that can be parameterized:</p> Property Name Description [Xtract Table].[WhereClause] Corresponds to the tab WHERE clause in the Table component. Allows parameterization of the complete WHERE clause, see Knowledge Base Article: Dynamization of WHERE Conditions. [Xtract Table].[ConvertsDates] Enable or disable conversion of SAP dates, see ConvertsDates. [Xtract Table].[CustomFunctionName] Corresponds to the setting Function Module in the Xtract Table component. [Xtract Table].[MaxRows] Corresponds to the setting Row Limit in the Xtract Table component. [Xtract Table].[MinDateReplacement] Converts the SAP date 00000000 to the entered value, see MinDateReplacement. [Xtract Table].[MaxDateReplacement] Converts the SAP date 9999XXXX to the entered value, see MaxDateReplacement. [Xtract Table].[InvalidDateReplacement] Every invalid value will be converted into the entered value, see InvalidDateReplacement. [Xtract Table].[PackageSize] Corresponds to the setting Package Size in the Xtract Table component."},{"location":"documentation/table/parameterization/#custom-properties-of-xtract-table","title":"Custom Properties of Xtract Table","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract Table component are displayed in the \"Properties\" window. </p> <p></p>"},{"location":"documentation/table/parameterization/#columnnamestyle","title":"ColumnNameStyle","text":"<ul> <li>Code: the SAP technical column name is used as column name in the output, e.g., MAKTX.</li> <li>PrefixedCode: the SAP technical column name is prefixed by SAP object name and the tilde character, e.g., MAKT~MAKTX.</li> <li>CodeAndText: the SAP technical column name and the SAP description separated by an underscore are used as column name in the output, e.g., MAKTX_Material Description (Short Text).</li> <li>TextAndCode: the SAP description and the SAP technical column name description separated by an underscore are used as column name in the destination e.g., Material Description (Short Text)_MAKTX.</li> </ul>"},{"location":"documentation/table/parameterization/#convertsdates","title":"ConvertsDates","text":"<p>When this property is set to True (default) SAP date fields (YYYYMMDD) assume the SSIS pipeline type DT_DBDATE instead of DT_WSTR.  For the date conversions to apply, set the property UseLegacyDateConversion to False.  In case of invalid data in SAP date fields, the following date conversions are applied: </p> <ul> <li>InvalidDateReplacement </li> <li>MaxDateReplacement</li> <li>MinDateReplacement </li> </ul>"},{"location":"documentation/table/parameterization/#customfunctionname","title":"CustomFunctionName","text":"<p>Corresponds to the setting Function Module in the Xtract Table component.</p>"},{"location":"documentation/table/parameterization/#extractinbackgroundjob","title":"ExtractInBackgroundJob","text":"<p>Corresponds to the setting Extract data in background job.</p>"},{"location":"documentation/table/parameterization/#invaliddatereplacement","title":"InvalidDateReplacement","text":"<p>Replaces an invalid date format.  The default value is 1970-01-02.  To use the property enter a replacement value for invalid SAP dates, such as '20190132' (January 32nd  2019) in the format yyyy-mm-dd.  The value NULL is supported.</p>"},{"location":"documentation/table/parameterization/#maxdatereplacement","title":"MaxDateReplacement","text":"<p>Replaces SAP dates with the year 9999.  The default value is 2099-12-31.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year \u20189999\u2019.  Example: \u201899990101\u2019 (January 1st 9999). The value NULL is supported.</p>"},{"location":"documentation/table/parameterization/#mindatereplacement","title":"MinDateReplacement","text":"<p>Replaces SAP dates with the year 0000.  The default value is 1970-01-01.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year '0000'.  Example: '00000000'. The value NULL is supported.</p>"},{"location":"documentation/table/parameterization/#maxrows","title":"MaxRows","text":"<p>Corresponds to the setting Row Limit in the Xtract Table component. </p>"},{"location":"documentation/table/parameterization/#orderby","title":"OrderBy","text":"<p>Defines the table field that is used as the sort criterion for the result. </p>"},{"location":"documentation/table/parameterization/#packagesize","title":"PackageSize","text":"<p>Corresponds to the setting Package Size in the Xtract Table component. </p>"},{"location":"documentation/table/parameterization/#usewidestrings","title":"UseWideStrings","text":"<p>Defines whether DT_WSTR / DT_NTEXT (true) or DT_STR / DT_TEXT (false) is used as the data type for string columns. </p>"},{"location":"documentation/table/parameterization/#uselegacydateconversion","title":"UseLegacyDateConversion","text":"<p>The property UseLegacyDateConversion is used for migration of table extractions from Xtract IS versions &lt; 5.0.0.  The default value of this property is False.  As a prerequisite for using UseLegacyDateConversion property, the ConvertsDates property must be set to True.  Setting UseLegacyDateConversion to true does the following:</p> <ul> <li>Invalid SAP date values are replaced with the value entered in the InvalidDateReplacement property.</li> <li>There is no replacement for SAP dates that contain the year '9999'.  The value entered in the MaxDateReplacement property is not considered.</li> <li>SAP dates that contain the year '0000' are replaced with NULL.  The value entered in the MinDateReplacement property is not considered. </li> </ul>"},{"location":"documentation/table/parameterization/#whereclause","title":"WhereClause","text":"<p>Corresponds to the tab WHERE clause in the Xtract Table component.  This property allows parameterization of the complete WHERE clause, see Knowledge Base Article: Dynamization of WHERE Conditions.|</p>"},{"location":"documentation/table/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Xtract Table Settings </li> <li>Knowledge Base Article: Dynamization of WHERE Conditions</li> </ul>"},{"location":"documentation/table/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract Table component. The settings are located in the tab Extraction Settings.</p> <p></p> <p>Warning</p> <p>Could not load list of available function modules because permission for table ENLFDIR is missing This warning appears if a technical SAP user does not have authorization rights to access the SAP table ENLFDIR. Confirm the warning as the user can still adjust the extraction settings.</p>"},{"location":"documentation/table/settings/#extraction-settings","title":"Extraction Settings","text":""},{"location":"documentation/table/settings/#package-size","title":"Package Size","text":"<p>The extracted data is split into packages of the defined size. The default value is 50000 lines. A package size between 20000 and 50000 is advisable for large amounts of data. 0 means no packaging.  Not using packaging can lead to an RFC timeout for large data extractions.</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - No more storage space available for extending an internal table To avoid a memory overflow on the SAP source system and to avoid huge overheads, choose a package size that suits your memory capacity.</p>"},{"location":"documentation/table/settings/#row-limit","title":"Row Limit","text":"<p>Specifies the maximum number of extracted records. 0 extracts all data. You can use this option to perform tests with a small amount of data by entering a row limit of e.g., 1000.</p>"},{"location":"documentation/table/settings/#function-module","title":"Function Module","text":"<p>Specifies the name of the function module used for data extraction.  This field is filled automatically depending on what function modules are installed on your SAP system. Custom function modules are supported.</p> <p>The following function modules can be used to extract tables:</p> <ul> <li>RFC_READ_TABLE (TAB512)</li> <li>/BODS/RFC_READ_TABLE (TAB2048)</li> <li>/SAPDS/RFC_READ_TABLE (TAB2048)</li> <li>/BODS/RFC_READ_TABLE2</li> <li>/SAPDS/RFC_READ_TABLE2</li> <li>Z_THEO_READ_TABLE</li> <li>/THEO/READ_TABLE (recommended)</li> </ul> <p>Warning</p> <p>Duplicates in the target environment. The SAP standard modules for table extraction do not have pointers for table fields. In larger tables this may cause low performance and duplicates in the target environment. Use the function module THEO/READ_TABLE from Theobald Software to ensure smooth extractions.</p> <p>Note the necessary SAP Authority Objects:</p> <pre><code>S_TABU_NAM ACTVT=03; TABLE=ENLFDIR\n</code></pre>"},{"location":"documentation/table/settings/#extract-data-in-background-job","title":"Extract Data in Background Job","text":"<p>If Background job timeout (seconds) checkbox is activated, the table extraction is executed as a background job in SAP.  This setting is optional and is supported in combination with function module THEO/READ_TABLE or Z_THEO_READ_TABLE version 2.0.  Activate the setting Background job timeout (seconds) for long-running extractions with a large amounts of data that may run into a timeout error (\u201cTime limit exceeded\u201d), when using the foreground mode.</p> <p>Tip</p> <p>The extraction jobs can be found in the SAP JobLog (SM37) under the JobName theo_read_table.</p> <p>Warning</p> <p>Shared Memory ran out of memory!  If this error message pops up when running an extraction in the background, adjust the size of the Shared Memory. SAP recommends a Shared Memory size of 800MB~1.5GB for a production/test system or 2GB~4GB for S/4 systems, see SAP Support: How to solve SYSTEM_NO_SHM_MEMORY runtime error.</p>"},{"location":"documentation/table/settings/#advanced-settings","title":"Advanced Settings","text":""},{"location":"documentation/table/settings/#background-job-timeout-seconds","title":"Background Job Timeout (seconds)","text":"<p>Sets a timeout period for extractions that run in background mode. The default value is 180 seconds. The maximum timeout value is 3600 seconds. </p> <p>Note</p> <p>The background job timeout setting only takes effect if the extractions run in background mode using /THEO/READ_TABLE.</p>"},{"location":"documentation/table/settings/#adjust-currency-decimals","title":"Adjust Currency Decimals","text":"<p>The default number of decimal places for a currency in the SAP database is 2 decimals. Currencies that do not have decimals are also stored in this format, e.g. JPY, VND, KRW, etc.</p> <p>Example:</p> Currency Actual Amount Amount stored in SAP database JPY 100 1.00 KRW 10000 100.00 <p>When extracting currencies with no decimals, the amount stored in SAP is returned e.g., 100 JPY are extracted as 1.00. To correct the decimal placement of the extracted data, activate Adjust Currency Decimals. If Adjust Currency Decimals is active, currencies without decimals are multiplied by a factor that balances out the decimals.</p> <p>Adjust Currency Decimals also requires the extraction of the corresponding CURRENCY field that can be used as a reference for the multiplication factor. Use the [Load live preview] function to find the correct currency field/s. </p> <ul> <li>If the currency field is part of the table, add it to the output.</li> <li>If the currency field is in another table, join the tables. </li> <li>If the reference is not part of a table, Adjust Currency Decimals cannot be used.</li> </ul> <p>Note</p> <p>The multiplication factor used in Adjust Currency Decimals is determined by the SAP currency table TCURX.  To access the table, the following SAP Authority objects must be set in SAP: S_TABU_NAM    ACTVT=03; TABLE=TCURX.</p>"},{"location":"documentation/table/table-join/","title":"Table Joins","text":"<p>The Join functionality allows joining two or more tables and extract the result of the join.  To perform the extraction the corresponding SQL command is generated dynamically and the join is executed on the SAP server. </p> <p>Possible scenarios can be joining tables for header and item data or tables for master data and texts. </p>"},{"location":"documentation/table/table-join/#supported-join-types","title":"Supported Join Types","text":"<p>The following join types are supported:</p> <ul> <li>Inner Join</li> <li>Left Outer Join, also referred to as Left Join.</li> </ul> <p>For more information on join types see SAP Help: Inner Join and Outer Join. </p> <p>Note</p> <p>Joining of cluster or pool tables is not supported. Cluster or pool tables need to be extracted individually and joined in the destination.</p>"},{"location":"documentation/table/table-join/#prerequisites","title":"Prerequisites","text":"<p>To use table join, the function module /THEO/READ_TABLE needs to be available in SAP. </p>"},{"location":"documentation/table/table-join/#join-tables","title":"Join Tables","text":"<p>The following example shows how to join the tables KNA1 and KNVV.</p> <ol> <li>In the tab Tables and Fields, click [Add] to add two tables (e.g., KNA1 and KNVV). </li> <li>Select both tables on the left and check the fields you want to extract  . </li> <li>Optional: Switch to the WHERE clause tab and specify a WHERE clause.</li> <li>Switch to the Joins tab  . A Join condition with default values is automatically available.  The join condition is based on the foreign key relationship of the joined tables.</li> <li>Click [ ] to edit the join condition. The window \"Join\" opens.  </li> <li> <p>Select a table column in the Left Table field and in the Right Table field to map the table contents.  In the depicted example a left outer join on tables KNA1 (left table) and KNVV (right table) on the field KUNNR is performed. It is possible to add multiple join conditions.</p> <ul> <li>Click [Add] to extend the join condition to more fields.</li> <li>Click [ ] to delete existing joins.</li> </ul> <p>Tip</p> <p>Different tables can have identical field / column names.  Defining a join condition based on the identical field names not always delivers the expected result, e.g., VBAK~VBELN &lt;&gt; LIPS~VBELN. Make sure the fields you use in a join condition contain the same content/data.</p> </li> <li> <p>Click [OK] to save the join.</p> </li> </ol> <p>You can join additional tables by adding tables more in the tab Tables and Fields.</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - Illegal access to the right table of a LEFT OUTER JOIN. Using a WHERE clause on the right table of a LEFT OUTER JOIN is only possible as of SAP Release 7.40, SP05. </p>"},{"location":"documentation/table/table-join/#auto-mapping","title":"Auto Mapping","text":"<p>The [Auto-map] button deletes existing join conditions and performs a new field mapping based on the foreign key relationship of the joined tables. </p> <p></p> <p>Recommendation</p> <p>To avoid poor extraction performance, do not join more than five tables.</p>"},{"location":"documentation/table/where-clause/","title":"WHERE Clause","text":"<p>A WHERE clause can be used to filter table records, see SAP ABAP Documentation: SELECT-WHERE. Enter WHERE clauses manually in Text mode or use the WHERE Clause Editor in Editor Mode.</p>"},{"location":"documentation/table/where-clause/#create-a-where-clause","title":"Create a WHERE Clause","text":"<ol> <li>Open a Xtract Table component. </li> <li>Navigate to the tab WHERE Clause. </li> <li>Enter a WHERE clause manually or use the WHERE Clause Editor.</li> <li>Click [Load live preview] to display the results in the Preview section.</li> </ol>"},{"location":"documentation/table/where-clause/#where-clause-text-mode","title":"WHERE Clause Text Mode","text":"<p>The WHERE clause text mode allows you to directly enter a WHERE clauses. The text mode of the WHERE clause supports script expressions.</p> <p>Warning</p> <p>Extraction fails due to incorrect syntax.  The extractions fail, if incorrect syntax is used in the WHERE clause.  Make sure to use correct SAP OpenSQL syntax. Several important syntax rules are listed in this help section.</p> <p>Tip</p> <p>To check the syntax of the WHERE clause, click [Load live preview]. This way there is no need to run an extraction to see, if the syntax is correct.</p>"},{"location":"documentation/table/where-clause/#where-clause-syntax","title":"WHERE Clause Syntax","text":"<p>The WHERE Clause syntax generally uses the following structure:</p> <pre><code>[Table]~[Column][Space][Operator][Space][Filter-Value]\n</code></pre> <p>Example: </p> <pre><code>KNA1~LAND1 = 'US'\n</code></pre> <p>The following rules apply to filter values:</p> Rule Correct Wrong Enter a space before and after the equal sign YEAR = '1999' YEAR= '1999 ', YEAR ='1999' or YEAR='1999' Set floating point numbers in single quotation mark KMENG &gt; '10.3' KMENG &gt; 10.3 Values must use the internal SAP representation:  Date: YYYYMMDD   Year Period: YYYYPPP   Numbers with leading zeroes, e.g., customer numbers  19990101   1999001   0000001000  01.01.1999   001.1999   1000 <p>The following operations are supported in the WHERE clause:</p> Operator Description =, EQ True if the content of operand1 is equal to the content of operand2. &lt;&gt;, NE True if the content of operand1 is not equal to the content of operand2. &lt;, LT True if the content of operand1 is less than the content of operand2. &gt;, GT True if the content of operand1 is greater than the content of operand2. &lt;=, LE True if the content of operand1 is less than or equal to the content of operand2. &gt;=, GE True if the content of operand1 is greater than or equal to the content of operand2. (NOT) LIKE True if the value of operand1 matches (does not match) the pattern in operand2. (NOT) IN True if the content of operand1 is (not) part of the content of operand2. Operand2 must be of type LIST or SQL. <p>For more details on the OpenSQL syntax, see SAP Help: Select WHERE </p> <p>Tip</p> <p>To increase extracting performance, make sure to place the indexed fields as the first selection filter operation in the WHERE clause.</p> <p>Note</p> <p>When fields with the same name exist in different tables, the field names must be formatted as [table name]~[field name], e.g., MARC~MATNR.  This can be the case when extracting multiple tables.</p>"},{"location":"documentation/table/where-clause/#subqueries","title":"Subqueries","text":"<p>Note</p> <p>The usage of subqueries is only possible as of SAP Release 7.40, SP05.</p> <p>A subquery is an SQL query nested inside a larger query.  Subqueries are nested queries that provide data to the enclosing query. Subqueries need be enclosed with parenthesis and can return individual values or a list of records. Get more details about subqueries on the SAP Help: Conditions.</p> <p>Example:</p> <p>In the following example a subquery is used with the IN operator.  The following statement returns all the active customers (rows in the table KNA1) that have i.e. a sales document in the table VBAK for sales document header data.</p> <pre><code>KUNNR IN ( SELECT KUNNR FROM VBAK )\n</code></pre>"},{"location":"documentation/table/where-clause/#where-clause-editor","title":"WHERE Clause Editor","text":"<p>The WHERE clause editor offers a toolkit for those who are not familiar with the syntax of the WHERE clause. Click [Editor mode] to open the editor.  </p> <p>There are 2 options for adding criteria to the WHERE clause:</p> <ul> <li>[Add Criteria] adds single criteria. <ul> <li>The default structure for a single criteria with static values is <code>[Table~Column][Operator][Filer-Value]</code> e.g., MARC~WERKS = 1000.</li> <li>The default structure for a single criteria with parameters is <code>[Column][Operator][Parameter]</code> e.g., MARC~WERKS = [p_WERKS].</li> </ul> </li> <li>[Add Criteria Group] adds a group of criteria.<ul> <li>The default structure for a criteria group is <code>([Table~Column1][Operator1][Filter-Value1][Boolean][Table~Column2][Operator2][Filter-Value2])</code> e.g., (MARC~PSTAT = 'L' OR MARC~PSTAT = 'LB').</li> </ul> </li> </ul> <p>Tip</p> <p>Combine multiple criteria and criteria groups to create complex filters e.g.,  MARC~WERKS = 1000 AND (MARC~PSTAT = 'L' OR MARC~PSTAT = 'LB') extracts only data where the column WERKS equals 1000 and the column PSTAT equals either 'L' or 'LB'.</p>"},{"location":"documentation/table/where-clause/#components-of-the-where-clause-editor","title":"Components of the WHERE Clause Editor","text":"<p>The following buttons and options are available in the WHERE Clause Editor:</p> Icon Component Function Delete row deletes a criteria. Move row up changes the sequence of the criteria. The selected criteria moves up. The sequence of criteria can also be changed with Drag and drop. Move row down changes the sequence of the criteria. The selected criteria moves down. The sequence of criteria can also be changed with Drag and drop. Column adds a column. Click on the component to select a column from the available tables. SQL adds an Open SQL statement, see SAP Help: Open SQL. Operator adds an operator e.g., =, &lt;, &gt;, etc. Value adds a static value of type String, Number, Flag or List. List offers a separate editor to create lists of type String, Number or Select. Select enables usage of SELECT statements. For more information, see Working with Lists in the WHERE-Clause Editor. Criteria adds a new criteria after the selected criteria. Group adds a new group of criteria the selected criteria. Parameter adds a previously defined SSIS variable, see Parameterization using SSIS Variables. <p>Note</p> <p>When adding or editing a criteria only the relevant components are displayed e.g., Add Operator is only available if there is a column or SQL statement to use an operator on.</p>"},{"location":"documentation/table/where-clause/#edit-and-delete-components","title":"Edit and Delete Components","text":"<ul> <li>Click on a component to edit it. All areas that are marked green can be edited.</li> <li>To delete a component, click the (x) icon above the component.</li> </ul>"},{"location":"documentation/table/where-clause/#sap-system-fields","title":"SAP System Fields","text":"<p>You can use SAP system fields for date and time in a WHERE clause.  The usage of SAP system fields requires SAP NW 7.4 SP5 or higher and the custom function module /THEO/READ_TABLE.</p> <p>Example:</p> <ol> <li>Navigate to WHERE Clause Editor and select a column of the type Date here: BUDAT .  </li> <li>Delete the criterion \"Value\" and use the criterion \"SQL\"  .  </li> <li>Within the \"SQL\" criterion, use the supported system fields for date and time with a preceding \"@\" character, here: @sy-datum .  </li> <li>Click [Load live preview] to check the result. </li> </ol>"},{"location":"documentation/table/where-clause/#dynamic-where-clause-with-ssis-variables","title":"Dynamic WHERE Clause with SSIS Variables","text":"<p>You can use SSIS variables and parameters as placeholders for filter values in the WHERE Clause. To parameterize the whole WHERE Clause, see Parameterization using Expression Properties.</p> <ol> <li>Define an SSIS variable / parameter. Make sure the data type of the variable matches the data type of the table records you want to filter.</li> <li>Open the Xtract Table component and navigate to the WHERE Clause tab.</li> <li>Click [Editor mode] to open the WHERE Clause Editor.</li> <li>Add a new filter criteria and use the [Default with Parameter] template. </li> <li>Click inside the Parameter component. A drop-down-list that displays all available SSIS variables and parameters opens. Select your SSIS variable / parameter from the list.</li> <li>To test the WHERE clause, assign a default value for the SSIS variable and click [Load live preview].</li> <li>Click [OK] to save the component.</li> </ol> <p></p>"},{"location":"documentation/table/where-clause/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base Article: Delta Table Extraction</li> <li>Knowledge Base Article: Working with Lists in the WHERE-Clause Editor</li> <li>Knowledge Base Article: LIKE Operand in WHERE Clauses</li> </ul>"},{"location":"documentation/table-cdc/","title":"Xtract Table CDC","text":"<p>This page shows how to use the Xtract TableCDC component. The Xtract TableCDC component can be used to map data from SAP Tables to various target environments. Unlike a full data load, where all records in a table are transferred from the source to the target environment, Table CDC captures only the data changes since the last load. </p> <p>Note</p> <p>Table CDC is an Add-On that requires a separate license.  For more information, contact Theobald Software's sales team at sales@theobald-software.com.</p>"},{"location":"documentation/table-cdc/#about-table-cdc","title":"About Table CDC","text":"<p>Change Data Capture (CDC) is a method to keep track of data changes such as insert, update and delete in SAP tables. The Table CDC component creates a log table in SAP that records any changes made to a selected table.  The content of the log table is cleared after every successful run of the extraction. Data that was not extracted is not cleared from the log table.</p> <p>For a detailed overview of this process, refer to the Knowledge Base article Delta Mechanism of TableCDC.</p> <p>Note</p> <p>Clusters, pool tables and views are not supported by the Xtract TableCDC component. </p>"},{"location":"documentation/table-cdc/#system-requirements","title":"System Requirements","text":"<ul> <li>The Xtract TableCDC component is compatible with SAP ECC 5.0 and higher</li> <li>Supported databases:<ul> <li>HANA</li> <li>SQL Server</li> <li>Oracle</li> <li>IBM Db2</li> <li>IBM for i (Db4)</li> <li>IBM for z/os (Db6)</li> <li>MaxDB</li> </ul> </li> </ul>"},{"location":"documentation/table-cdc/#prerequisites","title":"Prerequisites","text":"<ul> <li>SAP custom function module /THEO/CDC_ECC or /THEO/CDC_S4 is installed in SAP.</li> <li>SAP custom function module /THEO/READ_TABLE or Z_THEO_READ_TABLE version 2.10 or higher is installed in SAP.</li> <li>A connection to an SAP system is available, see SAP Connection.</li> <li>The SAP user has sufficient user rights, see SAP Authority Objects.</li> </ul> <p>The SAP transport requests for the function modules are provided in the installation directory: <code>C:\\Program Files\\XtracIS\\ABAP\\</code>, see Custom function module for TableCDC.</p> <p>Warning</p> <p>Missing Authorization. To use the Xtract Table CDC component, access to the designated authority objects (RFC) in SAP must be available. Adjust SAP Authority Objects accordingly.</p>"},{"location":"documentation/table-cdc/#add-an-xtract-table-cdc-component","title":"Add an Xtract Table CDC Component","text":"<p>Follow the steps below to add an Xtract Table component to your SSIS package:</p> <ol> <li>Drag&amp;drop the Xtract Table CDC component from the SSIS toolbox into your data flow task. </li> <li> <p>Double-click the component. A connection manager is automatically assigned to the component and the main window of the component opens.</p> <p>Note</p> <p>If there are multiple connection managers, the window \"Select Connection Manager\" opens, see SAP Connection. Once a connection manager is selected, the main window of the component opens.</p> </li> </ol> <p>The majority of the functions of the component can be accessed in the main window.</p>"},{"location":"documentation/table-cdc/#look-up-a-table","title":"Look Up a Table","text":"<ol> <li>In the main window of the component, click [ ]. The window \u201cTable Lookup\u201d opens. </li> <li>In the field Table Name, enter the name of the table to track and extract  . Use wildcards (*) if needed. </li> <li>Click [ ] . Search results are displayed.</li> <li>Select a table   and click [OK]. </li> </ol> <p>All relevant metadata information of the table is retrieved from SAP. The application returns to the main window of the component.</p>"},{"location":"documentation/table-cdc/#define-the-xtract-tablecdc-component","title":"Define the Xtract TableCDC Component","text":"<p>The Xtract TableCDC component offers the following options for tracking SAP tables:</p> <ol> <li>Select the table columns you want to track and extract. By default all columns are selected.  Deselect the columns you do not want to extract. </li> <li>If you want to extract the table when first running the extraction, activate [Extract table on first run].</li> <li> <p>Optional: You can set a maximum number of rows that the log table can contain. The default is disabled (Value 0). If the row limit is reached, the extraction fails with an exception. The maximum row limit of a log table is 500.000.</p> <p>Note</p> <p>Once a log table is initialized, you cannot change the size limit anymore.</p> </li> <li> <p>Optional: Define a WHERE Clause to filter table records. By default all data is extracted.</p> </li> <li>Click [Load live preview] to display a live preview of the first 1000 records.<ul> <li>The column TS_TIMESTAMP contains a timestamp of when the data was last changed. </li> <li>The column TS_OPERATION indicates if a row was inserted (I), updated (U) or deleted (D).</li> </ul> </li> <li>Check the Settings before running the SSIS package.</li> <li>Click [OK] to confirm your settings.</li> </ol> <p>To initialize the tracking of the selected SAP table, run the SSIS package once. </p>"},{"location":"documentation/table-cdc/#run-the-extraction-for-the-first-time","title":"Run the Extraction for the First Time","text":"<p>Run the extraction for the first time to create a log table in SAP that records any changes made to a selected table or view.</p> <ul> <li>If the option [Extract table on first run] in the Xtract TableCDC component is active, the extracted table contains the original SAP table.</li> <li>If the option [Extract table on first run] in the Xtract TableCDC component is not active, the extracted table is empty.</li> </ul> <p>The log table in SAP is now available for the Table CDC component. The extracted SAP table is now available in your destination.</p> <p>Note</p> <p>When running the extraction regularly the content of the log table in SAP is extracted and written to the destination. The content of the log table in SAP is cleared after every successful run of the extraction. Data that was not extracted is not cleared.</p>"},{"location":"documentation/table-cdc/#delete-log-table-and-triggers","title":"Delete Log Table and Triggers","text":"<p>When a Table CDC extraction is no longer in use or if you need to change the structure of the source table, simply deleting the extraction is not enough. To delete the log table and all associated triggers from your SAP system, open the Table CDC extraction and click [Delete CDC resources]. </p> <p>To delete the SAP resources of multiple extractions or extractions that are already deleted, see Active CDC Watches.</p> <p>Warning</p> <p>Table change not possible  The source table cannot be changed, if any CDC-related resources connected to the source table in SAP exist.  Clear the CDC-related resources connected to the source table in SAP, see SAP Note 2284776. </p>"},{"location":"documentation/table-cdc/active-cdc-watches/","title":"Active CDC Watches","text":"<p>This page shows how to keep track of Xtract TableCDC log tables and triggers in your SAP system. The Active CDC Watches menu lists all active log tables and their DB triggers in the SAP source system. All listed Xtract TableCDC resources can be deleted from the SAP source system.</p> <p>To open the Active CDC Watches menu, click Show Active CDC Watches in the main window of the extraction type. </p>"},{"location":"documentation/table-cdc/active-cdc-watches/#active-cdc-watches","title":"Active CDC Watches","text":""},{"location":"documentation/table-cdc/active-cdc-watches/#source-table","title":"Source Table","text":"<p>Name of the source table that is tracked by the Xtract TableCDC component.</p>"},{"location":"documentation/table-cdc/active-cdc-watches/#log-table","title":"Log Table","text":"<p>Name of the log table that tracks changes in the source table.</p>"},{"location":"documentation/table-cdc/active-cdc-watches/#created-on","title":"Created on","text":"<p>Timestamp when the log table was created.</p>"},{"location":"documentation/table-cdc/active-cdc-watches/#created-by","title":"Created by","text":"<p>SAP username that was used to create the initial log table.</p>"},{"location":"documentation/table-cdc/active-cdc-watches/#rows","title":"Rows","text":"<p>Number of rows in the log table. </p>"},{"location":"documentation/table-cdc/active-cdc-watches/#show-details","title":"Show Details","text":"<p>Click [] to display more information about the DB triggers in the \"CDC watch details\" window.</p> <p></p>"},{"location":"documentation/table-cdc/active-cdc-watches/#delete-cdc-resources","title":"Delete CDC resources","text":"<p>Click [ ] to delete the log table and all associated triggers from your SAP system. It is not possible to delete the log table and the triggers of the current extraction, see Delete Log Table and DB Triggers.</p>"},{"location":"documentation/table-cdc/parameterization/","title":"Parameterization","text":"<p>This page shows how to parameterize the Xtract TableCDC component using SSIS variables directly in the component and by using SSIS expressions to set Data Flow Properties.</p>"},{"location":"documentation/table-cdc/parameterization/#parameterization-using-ssis-variables","title":"Parameterization using SSIS Variables","text":"<p>SSIS variables can be used to parameterize the WHERE Clause in the Xtract Table component, see Dynamic WHERE Clause with SSIS Variables.</p>"},{"location":"documentation/table-cdc/parameterization/#parameterization-using-expression-properties","title":"Parameterization using Expression Properties","text":"<p>The recommended way of parameterization is to use SSIS expressions to set Data Flow Properties.  Data Flow Properties are displayed in the \"Properties\" window of the Data Flow Task. </p> <p>Note</p> <p>Data Flow Properties are not to be confused with Custom Properties that are displayed in the \"Properties\" window of the component.  When parameterizing the Data Flow Properties, the Custom Properties are overwritten.</p> <p>For more information on property expressions, see Microsoft Documentation: Use Property Expressions in Packages.</p> <ol> <li>Right-click the Data Flow canvas and select Properties. The window \"Properties\" opens.</li> <li>Add an Expression by clicking using [\u2026]. The window \"Property Expression Editor\" opens. </li> <li>Select a property from the drop-down list under Property.</li> <li>Open the \"Expression Builder\" using the [\u2026] button under Expression.</li> <li>Build your Expression and click [Evaluate Expression] to check for correct syntax.</li> <li>Confirm your input with [OK].</li> </ol>"},{"location":"documentation/table-cdc/parameterization/#data-flow-properties-of-xtract-tablecdc","title":"Data Flow Properties of Xtract TableCDC","text":"<p>List of Data Flow Properties that can be parameterized:</p> Property Name Description [Xtract Table CDC].[ConvertsDates] Enable or disable conversion of SAP dates, see ColumnNameStyle. [Xtract Table CDC].[InvalidDateReplacement] Every invalid value will be converted into the entered value, see InvalidDateReplacement. [Xtract Table CDC].[MinDateReplacement] Converts the SAP date 00000000 to the entered value, see MinDateReplacement. [Xtract Table CDC].[MaxDateReplacement] Converts the SAP date 9999XXXX to the entered value, see MaxDateReplacement."},{"location":"documentation/table-cdc/parameterization/#custom-properties-of-xtract-tablecdc","title":"Custom Properties of Xtract TableCDC","text":"<p>The Custom Properties are properties that are unique to the component. When parameterizing the component using SSIS variables, the Custom Properties are overwritten.</p> <p>The Custom Properties of the Xtract TableCDC component are displayed in the \"Properties\" window. </p> <p></p>"},{"location":"documentation/table-cdc/parameterization/#columnnamestyle","title":"ColumnNameStyle","text":"<ul> <li>Code: the SAP technical column name is used as column name in the output, e.g., MAKTX.</li> <li>PrefixedCode: the SAP technical column name is prefixed by SAP object name and the tilde character, e.g., MAKT~MAKTX.</li> <li>CodeAndText: the SAP technical column name and the SAP description separated by an underscore are used as column name in the output, e.g., MAKTX_Material Description (Short Text).</li> <li>TextAndCode: the SAP description and the SAP technical column name description separated by an underscore are used as column name in the destination e.g., Material Description (Short Text)_MAKTX.</li> </ul>"},{"location":"documentation/table-cdc/parameterization/#convertsdates","title":"ConvertsDates","text":"<p>When this property is set to True (default) SAP date fields (YYYYMMDD) assume the SSIS pipeline type DT_DBDATE instead of DT_WSTR.  For the date conversions to apply, set the property UseLegacyDateConversion to False.  In case of invalid data in SAP date fields, the following date conversions are applied: </p> <ul> <li>InvalidDateReplacement </li> <li>MaxDateReplacement</li> <li>MinDateReplacement </li> </ul>"},{"location":"documentation/table-cdc/parameterization/#invaliddatereplacement","title":"InvalidDateReplacement","text":"<p>Replaces an invalid date format.  The default value is 1970-01-02.  To use the property enter a replacement value for invalid SAP dates, such as '20190132' (January 32nd  2019) in the format yyyy-mm-dd.  The value NULL is supported.</p>"},{"location":"documentation/table-cdc/parameterization/#maxdatereplacement","title":"MaxDateReplacement","text":"<p>Replaces SAP dates with the year 9999.  The default value is 2099-12-31.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year \u20189999\u2019.  Example: \u201899990101\u2019 (January 1st 9999). The value NULL is supported.</p>"},{"location":"documentation/table-cdc/parameterization/#mindatereplacement","title":"MinDateReplacement","text":"<p>Replaces SAP dates with the year 0000.  The default value is 1970-01-01.  To use the property enter a replacement value in the format yyyy-mm-dd that contains the year '0000'.  Example: '00000000'. The value NULL is supported.</p>"},{"location":"documentation/table-cdc/parameterization/#related-links","title":"Related Links","text":"<ul> <li>Xtract TableCDC Settings </li> <li>Knowledge Base Article: Dynamization of WHERE Conditions</li> </ul>"},{"location":"documentation/table-cdc/settings/","title":"Settings","text":"<p>This page contains an overview of the settings in the Xtract Table CDC component.  To open the settings, click Settings in the main window of the component. </p> <p></p>"},{"location":"documentation/table-cdc/settings/#initial-load","title":"Initial Load","text":""},{"location":"documentation/table-cdc/settings/#package-size","title":"Package size","text":"<p>The extracted data is split into packages of the defined size. The default value is 50000 lines. A package size between 20000 and 50000 is advisable for large amounts of data. 0 means no packaging.  Not using packaging can lead to an RFC timeout for large data extractions.</p> <p>Warning</p> <p>RFC_ERROR_SYSTEM_FAILURE - No more storage space available for extending an internal table To avoid a memory overflow on the SAP source system and to avoid huge overheads, choose a package size that suits your memory capacity.</p>"},{"location":"documentation/table-cdc/settings/#extract-data-in-background-job","title":"Extract data in background job","text":"<p>If Background job timeout (seconds) checkbox is activated, the table extraction is executed as a background job in SAP.  This setting is optional and is supported in combination with function module THEO/READ_TABLE or Z_THEO_READ_TABLE version 2.0.  Activate the setting Background job timeout (seconds) for long-running extractions with a large amounts of data that may run into a timeout error (\u201cTime limit exceeded\u201d), when using the foreground mode.</p> <p>Tip</p> <p>The extraction jobs can be found in the SAP JobLog (SM37) under the JobName theo_read_table.</p> <p>Warning</p> <p>Shared Memory ran out of memory!  If this error message pops up when running an extraction in the background, adjust the size of the Shared Memory. SAP recommends a Shared Memory size of 800MB~1.5GB for a production/test system or 2GB~4GB for S/4 systems, see SAP Support: How to solve SYSTEM_NO_SHM_MEMORY runtime error.</p>"},{"location":"documentation/table-cdc/settings/#background-job-timeout-seconds","title":"Background job timeout (seconds)","text":"<p>Sets a timeout period for extractions that run in background mode. The default value is 180 seconds. The maximum timeout value is 3600 seconds. </p> <p>Note</p> <p>The background job timeout setting only takes effect if the extractions run in background mode using /THEO/READ_TABLE.</p>"},{"location":"documentation/table-cdc/where-clause/","title":"WHERE Clause","text":"<p>A WHERE clause can be used to filter table records, see SAP ABAP Documentation: SELECT-WHERE. Enter WHERE clauses manually in Text mode or use the WHERE Clause Editor in Editor Mode.</p>"},{"location":"documentation/table-cdc/where-clause/#create-a-where-clause","title":"Create a WHERE Clause","text":"<ol> <li>Open a Xtract Table CDC component. </li> <li>Navigate to the tab WHERE Clause. </li> <li>Enter a WHERE clause using the WHERE Clause Editor. </li> <li>Click [Load live preview] to display the results in the Preview section.</li> </ol>"},{"location":"documentation/table-cdc/where-clause/#where-clause-syntax","title":"WHERE Clause Syntax","text":"<p>The WHERE Clause syntax generally uses the following structure:</p> <pre><code>[Table~Column][Operator][Filter-Value]\n</code></pre> <p>Filter values in the WHERE clause must use the internal SAP representation:</p> Examples Correct Wrong Date: YYYYMMDD  19990101  01.01.1999 Year Period: YYYYPPP  1999001  001.1999 Numbers with leading zeroes, e.g., customer numbers  0000001000  1000 <p>The following operations are supported in the WHERE clause:</p> Operator Description =, EQ True if the content of operand1 is equal to the content of operand2. &lt;&gt;, NE True if the content of operand1 is not equal to the content of operand2. &lt;, LT True if the content of operand1 is less than the content of operand2. &gt;, GT True if the content of operand1 is greater than the content of operand2. &lt;=, LE True if the content of operand1 is less than or equal to the content of operand2. &gt;=, GE True if the content of operand1 is greater than or equal to the content of operand2. (NOT) LIKE True if the value of operand1 matches (does not match) the pattern in operand2. (NOT) IN True if the content of operand1 is (not) part of the content of operand2. Operand2 must be of type LIST or SQL. <p>For more details on the OpenSQL syntax, see SAP Help: Select WHERE </p> <p>Tip</p> <p>To increase extracting performance, make sure to place the indexed fields as the first selection filter operation in the WHERE clause.</p>"},{"location":"documentation/table-cdc/where-clause/#where-clause-editor","title":"WHERE Clause Editor","text":"<p>There are 2 options for adding criteria to the WHERE clause:</p> <ul> <li> <p>[Add Criteria] adds single criteria. </p> <ul> <li>The default structure for a single criteria with static values is <code>[Table~Column][Operator][Filer-Value]</code> e.g., MARC~WERKS = 1000.</li> </ul> </li> <li> <p>[Add Criteria Group] adds a group of criteria.</p> <ul> <li>The default structure for a criteria group is <code>([Table~Column1][Operator1][Filter-Value1][Boolean][Table~Column2][Operator2][Filter-Value2])</code> e.g., (MARC~PSTAT = 'L' OR MARC~PSTAT = 'LB').</li> </ul> </li> </ul> <p>Tip</p> <p>Combine multiple criteria and criteria groups to create complex filters e.g.,  MARC~WERKS = 1000 AND (MARC~PSTAT = 'L' OR MARC~PSTAT = 'LB') extracts only data where the column WERKS equals 1000 and the column PSTAT equals either 'L' or 'LB'.</p>"},{"location":"documentation/table-cdc/where-clause/#components-of-the-where-clause-editor","title":"Components of the WHERE Clause Editor","text":"<p>The following buttons and options are available in the WHERE Clause Editor:</p> Icon Component Function Delete row deletes a criteria. Move row up changes the sequence of the criteria. The selected criteria moves up. The sequence of criteria can also be changed with Drag and drop. Move row down changes the sequence of the criteria. The selected criteria moves down. The sequence of criteria can also be changed with Drag and drop. Column adds a column. Click on the component to select a column from the available tables. SQL adds an Open SQL statement, see SAP Help: Open SQL. Operator adds an operator e.g., =, &lt;, &gt;, etc. Value adds a static value of type String, Number, Flag or List. List offers a separate editor to create lists of type String, Number or Select. Select enables usage of SELECT statements. For more information, see Working with Lists in the WHERE-Clause Editor. Criteria adds a new criteria after the selected criteria. Group adds a new group of criteria the selected criteria. <p>Note</p> <p>When adding or editing a criteria only the relevant components are displayed e.g., Add Operator is only available if there is a column or SQL statement to use an operator on.</p>"},{"location":"documentation/table-cdc/where-clause/#edit-and-delete-components","title":"Edit and Delete Components","text":"<ul> <li>Click on a component to edit it. All areas that are marked green can be edited.</li> <li>To delete a component, click the (x) icon above the component.</li> </ul>"},{"location":"documentation/table-cdc/where-clause/#sap-system-fields","title":"SAP System Fields","text":"<p>You can use SAP system fields for date and time in a WHERE clause.  The usage of SAP system fields requires SAP NW 7.4 SP5 or higher and the custom function module /THEO/READ_TABLE.</p> <p>Example:</p> <ol> <li>Navigate to WHERE Clause Editor and select a column of the type Date here: BUDAT .  </li> <li>Delete the criterion \"Value\" and use the criterion \"SQL\"  .  </li> <li>Within the \"SQL\" criterion, use the supported system fields for date and time with a preceding \"@\" character, here: @sy-datum .  </li> <li>Click [Load live preview] to check the result. </li> </ol>"},{"location":"documentation/table-cdc/where-clause/#dynamic-where-clause-with-ssis-variables","title":"Dynamic WHERE Clause with SSIS Variables","text":"<p>You can use SSIS variables and parameters as placeholders for filter values in the WHERE Clause. To parameterize the whole WHERE Clause, see Parameterization using Expression Properties.</p> <ol> <li>Define an SSIS variable / parameter. Make sure the data type of the variable matches the data type of the table records you want to filter.</li> <li>Open the Xtract Table component and navigate to the WHERE Clause tab.</li> <li>Click [Editor mode] to open the WHERE Clause Editor.</li> <li>Add a new filter criteria and use the [Default with Parameter] template. </li> <li>Click inside the Parameter component. A drop-down-list that displays all available SSIS variables and parameters opens. Select your SSIS variable / parameter from the list.</li> <li>To test the WHERE clause, assign a default value for the SSIS variable and click [Load live preview].</li> <li>Click [OK] to save the component.</li> </ol>"},{"location":"documentation/table-cdc/where-clause/#related-links","title":"Related Links","text":"<ul> <li>Knowledge Base Article: Working with Lists in the WHERE-Clause Editor</li> <li>Knowledge Base Article: LIKE Operand in WHERE Clauses</li> </ul>"},{"location":"knowledge-base/","title":"Knowledge Base","text":"<p> This section contains in-depth articles and sample use cases for Xtract IS.</p>"},{"location":"knowledge-base/#xtract-is","title":"Xtract IS","text":"<ul> <li>Determine the Azure SSIS-IR Cluster ID</li> <li>Execute SSIS Packages between Cloud Data Stores and a Private Network Data Storage</li> </ul>"},{"location":"knowledge-base/#sap","title":"SAP","text":"<ul> <li>Check the Accessibility to an SAP System</li> <li>Authorize Access to Reports via Authorization Groups</li> <li>Create the Custom Authorization Object Z_TS_PROG</li> <li>Enable Secure Network Communication (SNC) via X.509 certificate</li> <li>Import an SAP Transport Request</li> <li>Register an RFC Server in SAP with Kernel Release 720 and higher</li> <li>Supported SAP S/4HANA Versions</li> </ul>"},{"location":"knowledge-base/#xtract-bapi","title":"Xtract BAPI","text":"<ul> <li>Read Data from Cluster Fields in Tables PCL1 and PCL2 (Payroll)</li> <li>Write CATS Data to SAP</li> <li>Write Product Data to SAP</li> </ul>"},{"location":"knowledge-base/#xtract-deltaq","title":"Xtract DeltaQ","text":"<ul> <li>Create Generic DataSources</li> <li>Register an RFC Server in SAP with Kernel Release 720 and higher</li> <li>SNC Authentication for DeltaQ and OHS</li> </ul>"},{"location":"knowledge-base/#odp","title":"ODP","text":"<ul> <li>Alternatives for Xtract ODP</li> </ul>"},{"location":"knowledge-base/#xtract-report","title":"Xtract Report","text":"<ul> <li>Authorize Access to Reports via Authorization Groups</li> <li>Create the Custom Authorization Object Z_TS_PROG</li> <li>Parse Reports in Xtract IS </li> </ul>"},{"location":"knowledge-base/#xtract-table","title":"Xtract Table","text":"<ul> <li>Extraction Mechanism of Table</li> <li>Delta Table Extraction</li> <li>Dynamization of WHERE Conditions</li> <li>Read Data from Cluster Fields in Tables PCL1 and PCL2 (Payroll)</li> <li>Working with Lists in the WHERE-Clause Editor</li> <li>Working with LIKE operand in WHERE-Clauses</li> </ul>"},{"location":"knowledge-base/#xtract-table-cdc","title":"Xtract Table CDC","text":"<ul> <li>Delta Mechanism of Table CDC</li> <li>Initial Table Load in SAP Versions &lt; 7.10</li> </ul>"},{"location":"knowledge-base/alternatives-for-odp/","title":"Alternatives for Xtract ODP","text":"<p>The following article shows how to replace most Xtract ODP provider contexts with other components.</p> Provider Context Alternative ABAP Core Data Services [ABAP_CDS] Xtract Table HANA Information Views [HANA] Xtract Table Xtract BWCube SAP NetWeaver Business Warehouse or BW4/HANA [BW] Xtract BWCube Xtract Table Xtract TableCDC Xtract DeltaQ Xtract OHS Datasources/Extractors [SAPI] Xtract DeltaQ SAP LT Queue Alias [SLT~your_queue_alias] Xtract Table Xtract TableCDC"},{"location":"knowledge-base/alternatives-for-odp/#extract-data-from-cds-views","title":"Extract Data from CDS Views","text":"<p>Alternative for the ABAP Core Data Services [ABAP_CDS] provider context: To extract data from CDS Views, use the Xtract Table component.</p> <p>Note</p> <p>When looking up CDS Views in Xtract IS, make sure to look up the name of the DDL SQL View (CDS Database View) instead of the CDS View name.</p> CDS Views in Xtract ODPCDS Views in Xtract Table <p></p> <p></p>"},{"location":"knowledge-base/alternatives-for-odp/#extract-data-from-hana-views","title":"Extract Data from HANA Views","text":"<p>Alternative for the HANA Information Views [HANA] provider context: To extract data from HANA Views, use the Xtract BWCube component or the Xtract Table component.</p> <ul> <li> <p> Extraction via Xtract Table</p> <ul> <li>In SAP, expose the HANA View to ABAP CDS Views, see SAP Community: How to consume HANA Calculation views in S/4HANA CDS views.</li> <li>Extract the CDS View using the Xtract Table component.</li> </ul> </li> <li> <p> Extraction via Xtract BWCube</p> <ul> <li>In SAP, expose the HANA View to CompositeProviders, see SAP Learning: Consuming a Calculation View with SAP BW/4HANA</li> <li>Extract the CompositeProvider using the Xtract BWCube component.</li> </ul> </li> </ul>"},{"location":"knowledge-base/alternatives-for-odp/#extract-data-from-bw-systems-compositeproviders-cubes-infoobjects-etc","title":"Extract Data from BW Systems (CompositeProviders, Cubes, InfoObjects, etc.)","text":"<p>Alternative for the SAP NetWeaver Business Warehouse or BW4/HANA [BW] provider context:</p> <ul> <li>To extract data from CompositeProviders, InfoCubes, MultiProviders, aDSO/DSOs etc., use the Xtract BWCube component.</li> <li>To extract data from InfoObjects (Master data, Text data or Hierarchies), look up the respective tables (P, T, H) in the Xtract Table component.</li> <li>To extract data from Hierarchy InfoObjects, use the Xtract Hierarchy component.</li> <li>To extraxt data from Infocubes and DSOs, convert the Infocubes and DSOs to DataSources and extract the DataSources using the Xtract DeltaQ component. </li> <li>If you use Open Hub Service (OHS) destinations that can receive data from Cubes, DSOs, aDSOs etc., the data can be extracted using the Xtract OHS component.  You can also run the process chain that writes data to OHS within SAP BW.<ul> <li>To extract the data from OHS tables, use the Xtract Table component.</li> <li>To extract delta changes (Inserts, Updates, Deletes) from an OHS table, use the Xtract TableCDC component.</li> </ul> </li> </ul>"},{"location":"knowledge-base/alternatives-for-odp/#extract-data-from-extractors","title":"Extract Data from Extractors","text":"<p>Alternative for the Datasources/Extractors [SAPI] provider context: To extract data from Extractors, use the Xtract DeltaQ component.</p> Extractors in Xtract ODPExtractors in Xtract DeltaQ <p></p> <p></p>"},{"location":"knowledge-base/alternatives-for-odp/#extract-data-from-tables","title":"Extract Data from Tables","text":"<p>Alternative for the SAP LT Queue Alias [SLT~your_queue_alias] provider context:</p> <ul> <li>To extract data from regular (application) tables, cluster or pooled tables, use the Xtract Table component.</li> <li>To extract delta changes (Inserts, Updates, Deletes), use the Xtract TableCDC component.</li> </ul>"},{"location":"knowledge-base/alternatives-for-odp/#related-links","title":"Related Links","text":"<ul> <li>Guidance on SAP Note 3255746 for Theobald Software Xtract Products. </li> </ul>"},{"location":"knowledge-base/authorize-access-to-specific-reports/","title":"Authorize Access to Reports via Authorization Groups","text":"<p>The following article shows how to set up access to reports by assigning authorization groups to reports. Access is then granted through the S_PROGRAM authorization object, see SAP Note 338177.</p>"},{"location":"knowledge-base/authorize-access-to-specific-reports/#set-up-access-to-specific-reports","title":"Set Up Access to Specific Reports","text":"<ol> <li>Log into SAP and use transaction code SE38 to open the ABAP Editor.</li> <li>Enter the name of the report you want to access and select Attributes as the Subobjects.</li> <li>Click [Change]. A window that contains the program attributes opens.</li> <li>Assign an authorization group. </li> <li>Edit or create a user role you want to grant access to (transaction code PFCG).</li> <li>Manually assign the authorization object S_PROGRAM to the user role. </li> <li>Select the actions SUBMIT and BTCSUBMIT in the S_PROGRAM object field P_ACTION.</li> <li>Assign the same authorization group that is assigned to the report to the S_PROGRAM object field P_GROUP. </li> <li>Save and generate the authorization.</li> <li>Assign the user role to users.</li> </ol>"},{"location":"knowledge-base/authorize-access-to-specific-reports/#related-links","title":"Related Links","text":"<ul> <li>Create the Custom Authorization Object Z_TS_PROG</li> <li>SAP Authorization Objects for Reports</li> <li>Documentation: Report</li> </ul>"},{"location":"knowledge-base/check-the-accessibility-to-an-sap-system/","title":"Check the Accessibility to an SAP System","text":"<p>The following article shows how to check the accessibility of an SAP system using the paping.exe tool. Alternatively, you can also use the Microsoft telnet tool.</p> <p>Sometimes the firewall is blocking the traffic to the SAP System. This could be a local firewall, but also a firewall in the destination network. You can use the paping.exetool to ping the port and to check if the firewall is open.</p>"},{"location":"knowledge-base/check-the-accessibility-to-an-sap-system/#ping-the-sap-system","title":"Ping the SAP System","text":"<p>Use the following syntax with paping.exe:</p> General SyntaxExample <pre><code>paping.exe SAPServer -p port -c 3*\n</code></pre> <pre><code>paping.exe 192.168.0.9 -p 3305 -c 3\n</code></pre> <p></p>"},{"location":"knowledge-base/check-the-accessibility-to-an-sap-system/#port-numbers","title":"Port Numbers","text":"<p>If an SAP-Router is used, the ports are 3299 and 3399.  If not, the ports are 32XX and 33XX. XX is usually the system number, e.g., 00, or 05.</p> <p>Some important port numbers:</p> <pre><code>sapdp00 3200/tcp # SAP Dispatcher. 3200 + Instance-Number\nsapgw00 3300/tcp # SAP Gateway. 3300 + Instance-Number\nsapsp00 3400/tcp # 3400 + Instance-Number\nsapms00 3500/tcp # 3500 + Instance-Number\nsapmsSID 3600/tcp # SAP Message Server. 3600 + Instance-Number\nsapgw00s 4800/tcp # SAP Secure Gateway 4800 + Instance-Number\n</code></pre>"},{"location":"knowledge-base/create-generic-datasource-using-function-module-and-timestamps/","title":"Create Generic DataSources","text":"<p>This article shows how to create generic DataSources for delta extractions in SAP using a function module and timestamps.</p>"},{"location":"knowledge-base/create-generic-datasource-using-function-module-and-timestamps/#about-delta-functionality-with-delta-fields","title":"About Delta Functionality with Delta fields","text":"<p>To use the delta functionality, a delta field is required.  Certain tables like VBAK (Sales Document: Header Data) do not have a timestamp field for creation/change that can be uses as a unique delta field, but they have separate fields for creation date (ERDAT), creation time (ERZET) and change date (AEDAT).  To get the delta data of the VBAK table, we create a generic DataSource using a custom function module that implements the necessary logic.</p> <p>This article leads you through all necessary steps to create an extraction structure that has a timestamp field that can be used to implement the delta functionality. </p> <p>There are two template function modules that can be copied and used:</p> <ul> <li>RSAX_BIW_GET_DATA_SIMPLE: A function module with simple interface for Full Load with no support of delta loads.</li> <li>RSAX_BIW_GET_DATA: : A function module with complete interface that supports Delta Load. </li> </ul>"},{"location":"knowledge-base/create-generic-datasource-using-function-module-and-timestamps/#step-1-create-an-extract-structure","title":"Step 1: Create an Extract Structure","text":"<p>Follow the steps below to create the extract structure for the DataSource:</p> <ol> <li>Use SAP transaction SE11 to create a new structure ZZVBAK. </li> <li>Insert the table VBAK as an include into the structure. </li> <li>Add a field ZTMSTMP(Data element: TZNTSTMPS, it is of datatype DEC with Length 15).  This field holds the timestamp and allow us to use the extraction for delta purposes. </li> <li>Save and activate the structure. </li> </ol>"},{"location":"knowledge-base/create-generic-datasource-using-function-module-and-timestamps/#step-2-create-the-function-module","title":"Step 2: Create the Function Module","text":"<ol> <li>Use SAP transaction SE80 to copy the function group RSAX to the new function group Z_RSAX and to copy the function module RSAX_BIW_GET_DATA to Z_RSAX_BIW_GET_DATA_VBAK.  </li> <li>Be sure to copy and activate all the related objects (interfaces, datatypes etc.). </li> <li>Use SAP transaction SE37 to open and edit the function module Z_RSAX_BIW_GET_DATA_VBAK.  In the tab Tables, set the parameter E_T_DATA to associated type ZZVBAK. </li> <li> <p>Navigate to the tab source code and paste the following ABAP Code.</p> ABAP Code for the Custom Function Module<pre><code>FUNCTION Z_RSAX_BIW_GET_DATA_VBAK.\n*\"----------------------------------------------------------------------\n*\"*\"Local Interface:\n*\"  IMPORTING\n*\"     VALUE(I_REQUNR) TYPE  SBIWA_S_INTERFACE-REQUNR\n*\"     VALUE(I_ISOURCE) TYPE  SBIWA_S_INTERFACE-ISOURCE OPTIONAL\n*\"     VALUE(I_MAXSIZE) TYPE  SBIWA_S_INTERFACE-MAXSIZE OPTIONAL\n*\"     VALUE(I_INITFLAG) TYPE  SBIWA_S_INTERFACE-INITFLAG OPTIONAL\n*\"     VALUE(I_UPDMODE) TYPE  SBIWA_S_INTERFACE-UPDMODE OPTIONAL\n*\"     VALUE(I_DATAPAKID) TYPE  SBIWA_S_INTERFACE-DATAPAKID OPTIONAL\n*\"     VALUE(I_PRIVATE_MODE) OPTIONAL\n*\"     VALUE(I_CALLMODE) LIKE  ROARCHD200-CALLMODE OPTIONAL\n*\"     VALUE(I_REMOTE_CALL) TYPE  SBIWA_FLAG DEFAULT SBIWA_C_FLAG_OFF\n*\"  TABLES\n*\"      I_T_SELECT TYPE  SBIWA_T_SELECT OPTIONAL\n*\"      I_T_FIELDS TYPE  SBIWA_T_FIELDS OPTIONAL\n*\"      E_T_ZZVBAK STRUCTURE  ZZVBAK OPTIONAL\n*\"  EXCEPTIONS\n*\"      NO_MORE_DATA\n*\"      ERROR_PASSED_TO_MESS_HANDLER\n*\"----------------------------------------------------------------------\n\n\n* THE INPUT PARAMETER I_DATAPAKID IS NOT SUPPORTED YET !\n\n\n* EXAMPLE: INFOSOURCE CONTAINING TADIR OBJECTS\n*  TABLES: TADIR.\n\n\n* AUXILIARY SELECTION CRITERIA STRUCTURE\n  DATA: L_S_SELECT TYPE SBIWA_S_SELECT,\n        STARTDATE LIKE SY-DATUM,\n        STARTTIME LIKE SY-UZEIT,\n        ENDDATE LIKE SY-DATUM,\n        ENDTIME LIKE SY-UZEIT,\n        TSTAMP LIKE TZONREF-TSTAMPS.\n\n\n* MAXIMUM NUMBER OF LINES FOR DB TABLE\n  STATICS: L_MAXSIZE TYPE SBIWA_S_INTERFACE-MAXSIZE.\n\n\n* SELECT RANGES\n  RANGES:  L_R_TMPSTMP FOR ZZVBAK-ZTMSTMP.\n\n\n* PARAMETER I_PRIVATE_MODE:\n* SOME APPLICATIONS MIGHT WANT TO USE THIS FUNCTION MODULE FOR OTHER\n* PURPOSES AS WELL (E.G. DATA SUPPLY FOR OLTP REPORTING TOOLS). IF THE\n* PROCESSING LOGIC HAS TO BE DIFFERENT IN THIS CASE, USE THE OPTIONAL\n* PARAMETER I_PRIVATE_MODE (NOT SUPPLIED BY BIW !) TO DISTINGUISH\n* BETWEEN BIW CALLS (I_PRIVATE_MODE = SPACE) AND OTHER CALLS\n* (I_PRIVATE_MODE = X).\n* IF THE MESSAGE HANDLING HAS TO BE DIFFERENT AS WELL, DEFINE YOUR OWN\n* MESSAGING MACRO WHICH INTERPRETS PARAMETER I_PRIVATE_MODE. WHEN\n* CALLED BY BIW, IT SHOULD USE THE LOG_WRITE MACRO, OTHERWISE DO WHAT\n* YOU WANT.\n\n\n* INITIALIZATION MODE (FIRST CALL BY SAPI) OR DATA TRANSFER MODE\n* (FOLLOWING CALLS) ?\n  IF I_INITFLAG = SBIWA_C_FLAG_ON.\n\n************************************************************************\n\n* INITIALIZATION: CHECK INPUT PARAMETERS\n*                 BUFFER INPUT PARAMETERS\n*                 PREPARE DATA SELECTION\n************************************************************************\n\n\n* THE INPUT PARAMETER I_DATAPAKID IS NOT SUPPORTED YET !\n\n\n* INVALID SECOND INITIALIZATION CALL -&gt; ERROR EXIT\n    IF NOT G_FLAG_INTERFACE_INITIALIZED IS INITIAL.\n\n      IF 1 = 2. MESSAGE E008(R3). ENDIF.\n      LOG_WRITE 'E'                    \"MESSAGE TYPE\n                'R3'                   \"MESSAGE CLASS\n                '008'                  \"MESSAGE NUMBER\n                ' '                    \"MESSAGE VARIABLE 1\n                ' '.                   \"MESSAGE VARIABLE 2\n      RAISE ERROR_PASSED_TO_MESS_HANDLER.\n    ENDIF.\n\n\n* CHECK INFOSOURCE VALIDITY\n    CASE I_ISOURCE.\n      WHEN 'ZDSVBAK' OR ''.\n      WHEN OTHERS.\n        IF 1 = 2. MESSAGE E009(R3). ENDIF.\n        LOG_WRITE 'E'                  \"MESSAGE TYPE\n                  'R3'                 \"MESSAGE CLASS\n                  '009'                \"MESSAGE NUMBER\n                  I_ISOURCE            \"MESSAGE VARIABLE 1\n                  ' '.                 \"MESSAGE VARIABLE 2\n        RAISE ERROR_PASSED_TO_MESS_HANDLER.\n    ENDCASE.\n\n\n* CHECK FOR SUPPORTED UPDATE MODE\n    CASE I_UPDMODE.\n      WHEN 'F' OR ''.\n      WHEN 'C'.  \"\n      WHEN 'R'.  \"\n      WHEN 'S'.  \" DELTA INITIALIZATION\n      WHEN 'I'.    \" DELTA INIT FOR NON CUMMULATIVE\n      WHEN 'D'.   \" DELTA UPDATE\n      WHEN OTHERS.\n        IF 1 = 2. MESSAGE E011(R3). ENDIF.\n        LOG_WRITE 'E'                  \"MESSAGE TYPE\n                  'R3'                 \"MESSAGE CLASS\n                  '011'                \"MESSAGE NUMBER\n                  I_UPDMODE            \"MESSAGE VARIABLE 1\n                  ' '.                 \"MESSAGE VARIABLE 2\n        RAISE ERROR_PASSED_TO_MESS_HANDLER.\n    ENDCASE.\n\n\n* CHECK FOR OBLIGATORY SELECTION CRITERIA\n*    READ TABLE I_T_SELECT INTO L_S_SELECT WITH KEY FIELDNM = 'ZTMSTMP'.\n*    IF SY-SUBRC &lt;&gt; 0.\n*      IF 1 = 2. MESSAGE E010(R3). ENDIF.\n*      LOG_WRITE 'E'                    \"MESSAGE TYPE\n*                'R3'                   \"MESSAGE CLASS\n*                '010'                  \"MESSAGE NUMBER\n*                'PGMID'                \"MESSAGE VARIABLE 1\n*                ' '.                   \"MESSAGE VARIABLE 2\n*      RAISE ERROR_PASSED_TO_MESS_HANDLER.\n*    ENDIF.\n\n    APPEND LINES OF I_T_SELECT TO G_T_SELECT.\n\n\n* FILL PARAMETER BUFFER FOR DATA EXTRACTION CALLS\n    G_S_INTERFACE-REQUNR    = I_REQUNR.\n    G_S_INTERFACE-ISOURCE   = I_ISOURCE.\n    G_S_INTERFACE-MAXSIZE   = I_MAXSIZE.\n    G_S_INTERFACE-INITFLAG  = I_INITFLAG.\n    G_S_INTERFACE-UPDMODE   = I_UPDMODE.\n    G_S_INTERFACE-DATAPAKID = I_DATAPAKID.\n    G_FLAG_INTERFACE_INITIALIZED = SBIWA_C_FLAG_ON.\n\n\n* FILL FIELD LIST TABLE FOR AN OPTIMIZED SELECT STATEMENT\n* (IN CASE THAT THERE IS NO 1:1 RELATION BETWEEN INFOSOURCE FIELDS\n* AND DATABASE TABLE FIELDS THIS MAY BE FAR FROM BEEING TRIVIAL)\n    APPEND LINES OF I_T_FIELDS TO G_T_SEGFIELDS.\n\n  ELSE.                 \"INITIALIZATION MODE OR DATA EXTRACTION ?\n\n************************************************************************\n\n* DATA TRANSFER: FIRST CALL      OPEN CURSOR + FETCH\n*                FOLLOWING CALLS FETCH ONLY\n************************************************************************\n\n\n* FIRST DATA PACKAGE -&gt; OPEN CURSOR\n    IF G_COUNTER_DATAPAKID = 0.\n      \"LOOP AT I_T_SELECT INTO L_S_SELECT WHERE FIELDNM = 'ZTMSTMP'.\n       LOOP AT G_T_SELECT INTO L_S_SELECT WHERE FIELDNM = 'ZTMSTMP'.\n\n        TSTAMP = L_S_SELECT-LOW.\n        CONVERT TIME STAMP TSTAMP TIME ZONE SY-ZONLO INTO DATE STARTDATE TIME STARTTIME.\n        TSTAMP = L_S_SELECT-HIGH.\n        CONVERT TIME STAMP TSTAMP TIME ZONE SY-ZONLO INTO DATE ENDDATE TIME ENDTIME.\n      ENDLOOP.\n\n* FILL RANGE TABLES FOR FIXED INFOSOURCES. IN THE CASE OF GENERATED\n* INFOSOURCES, THE USAGE OF A DYNAMICAL SELECT STATEMENT MIGHT BE\n* MORE REASONABLE. BIW WILL ONLY PASS DOWN SIMPLE SELECTION CRITERIA\n* OF THE TYPE SIGN = 'I' AND OPTION = 'EQ' OR OPTION = 'BT'.\n*      LOOP AT G_T_SELECT INTO L_S_SELECT WHERE FIELDNM = 'PGMID'.\n*        MOVE-CORRESPONDING L_S_SELECT TO L_R_PGMID.\n*        APPEND L_R_PGMID.\n*      ENDLOOP.\n\n\n*      LOOP AT G_T_SELECT INTO L_S_SELECT WHERE FIELDNM = 'OBJECT'.\n*        MOVE-CORRESPONDING L_S_SELECT TO L_R_OBJECT.\n*        APPEND L_R_OBJECT.\n*      ENDLOOP.\n\n\n* DETERMINE NUMBER OF DATABASE RECORDS TO BE READ PER FETCH STATEMENT\n* FROM INPUT PARAMETER I_MAXSIZE. IF THERE IS A ONE TO ONE RELATION\n* BETWEEN INFOSOURCE TABLE LINES AND DATABASE ENTRIES, THIS IS TRIVIAL.\n* IN OTHER CASES, IT MAY BE IMPOSSIBLE AND SOME ESTIMATED VALUE HAS TO\n* BE DETERMINED.\n      L_MAXSIZE = G_S_INTERFACE-MAXSIZE.\n      IF ENDDATE &lt;&gt; '00000000' AND ENDTIME &lt;&gt; '000000'.\n        OPEN CURSOR WITH HOLD G_CURSOR FOR\n    SELECT * FROM VBAK\n      WHERE\n      (\n        ( ERDAT &gt;= STARTDATE AND ERZET &gt;= STARTTIME AND ERDAT &lt;= ENDDATE AND ERZET &lt;= ENDTIME )\n        OR ( AEDAT &gt;= STARTDATE AND  AEDAT &lt;= ENDDATE )\n      ).\n      ELSE.\n        OPEN CURSOR WITH HOLD G_CURSOR FOR\n         SELECT * FROM VBAK.\n      ENDIF.\n    ENDIF.                             \"FIRST DATA PACKAGE ?\n\n\n* FETCH RECORDS INTO INTERFACE TABLE. THERE ARE TWO DIFFERENT OPTIONS:\n* - FIXED INTERFACE TABLE STRUCTURE FOR FIXED INFOSOURCES HAVE TO BE\n*   NAMED E_T_'NAME OF ASSIGNED SOURCE STRUCTURE IN TABLE ROIS'.\n* - FOR GENERATING APPLICATIONS LIKE LIS AND CO-PA, THE GENERIC TABLE\n*   E_T_DATA HAS TO BE USED.\n* ONLY ONE OF THESE INTERFACE TYPES SHOULD BE IMPLEMENTED IN ONE API !\n    FETCH NEXT CURSOR G_CURSOR\n               APPENDING CORRESPONDING FIELDS\n               OF TABLE E_T_ZZVBAK\n               PACKAGE SIZE 1000.\n* PACKAGE SIZE L_MAXSIZE.\n\n    IF SY-SUBRC &lt;&gt; 0.\n      CLOSE CURSOR G_CURSOR.\n      RAISE NO_MORE_DATA.\n    ENDIF.\n\n    G_COUNTER_DATAPAKID = G_COUNTER_DATAPAKID + 1.\n\n  ENDIF.              \"INITIALIZATION MODE OR DATA EXTRACTION ?\n\nENDFUNCTION.\n</code></pre> </li> <li> <p>Save and activate the function module.</p> </li> </ol>"},{"location":"knowledge-base/create-generic-datasource-using-function-module-and-timestamps/#step-3-create-the-datasource","title":"Step 3: Create the DataSource","text":"<ol> <li>Use SAP transaction RSO2 to create a new DataSource for transaction data and name it to ZDSVBAK. </li> <li>Set the Application component and the description texts. </li> <li>Click [Extraction by FM]. Enter the name of the function module Z_RSAX_BIW_GET_DATA_VBAK and the extract structure ZZVBAK. </li> <li>Click [Generic Delta]. Select the timestamp field ZTMSTMP and activate the option [Time stamp]. </li> <li>Optional: set the Safety Interval Lower Limit.</li> <li>Click [Save] twice. In the following screen you can set the selection fields.  The timestamp field is disabled, because it is automatically populated as part of the delta process. </li> <li> <p>Use SAP transaction RSA2 to see the details of our DataSource ZDSVBAK.  The extraction method is set to F2 (Simple Interface).  Change it to F1 (Complete Interface)  by executing the following ABAP code. </p> <p>Tip</p> <p>Use SAP transaction SE38 to create a new report with this ABAP code. Unfortunately this is not possible in the GUI. </p> <pre><code>REPORT ZABAPDEMO\nUPDATE roosource\nSET delta = 'E'\nexmethod = 'F1'\ngenflag = 'X'\nWHERE oltpsource = 'ZDSVBAK'\n</code></pre> </li> <li> <p>Use SAP transaction RSA2 to display the status of the DataSource ZDSVBAK. Confirm that the Extraction Mode is set to F1. </p> </li> <li>Check for errors. </li> <li> <p>Optional: use SAP transaction SE37 and call it twice to test the function module. The first call is for the initialization and the second call reads the data.  Make sure that the table E_T_DATA contains the data.</p> Call Function ModuleResult <p></p> <p></p> </li> </ol>"},{"location":"knowledge-base/create-generic-datasource-using-function-module-and-timestamps/#step-4-test-the-datasource","title":"Step 4: Test the DataSource","text":"<p>Use SAP transaction RSA3 to test the datasource. </p> <p>Now the DataSource is created and you can use the Xtract DeltaQ component to read it.  Be sure to activate the DataSource using the [Activate] button in the main window of the component.</p>"},{"location":"knowledge-base/create-generic-datasource-using-function-module-and-timestamps/#result","title":"Result","text":"<p>The DataSource supports the Full and Update Delta mode.  To use theUpdate Delta mode, the first call must have the update type C (Delta Initialization).  All following calls must have the update type D (Delta Update). </p> <p>The delta process of the DataSource can be monitored and maintained in SAP transaction RSA7 (Delta Queue).</p> <p></p>"},{"location":"knowledge-base/create-the-custom-authority-object-z-ts-prog/","title":"Create the Custom Authorization Object Z_TS_PROG","text":"<p>The following article shows how to create the Z_TS_PROG authorization object for the custom function module Z_XTRACT_IS_REMOTE_REPORT.</p> <p>The Theobald Software custom function module Z_XTRACT_IS_REMOTE_REPORT enables the extractions of reports from SAP systems. If no authorization group is assigned to a report, Z_XTRACT_IS_REMOTE_REPORT uses a custom authorization object Z_TS_PROG to verify whether the SAP user is allowed to extract a report.  The access to reports is granted based on the name of the report.</p>"},{"location":"knowledge-base/create-the-custom-authority-object-z-ts-prog/#create-the-custom-authorization-object-z_ts_prog","title":"Create the Custom Authorization Object Z_TS_PROG","text":"<ol> <li>Use transaction SU21 to create a new authorization object.</li> <li>Expand the Create menu and click [Authorization Object]. The window \"Create Authorization Object\" opens. </li> <li>Enter the following values: Object: Z_TS_PROG Text: Theobald Software Report Authorization </li> <li>Click [Continue] to enable editing of the section Authorization fields.</li> <li>Manually enter S_NAME as the first entry in Authorization fields. </li> <li>Click [Save] to save the authorization object.</li> </ol>"},{"location":"knowledge-base/create-the-custom-authority-object-z-ts-prog/#related-links","title":"Related Links","text":"<ul> <li>Authorize Access to Reports via Authorization Groups</li> <li>SAP Authorization Objects for Reports</li> <li>Documentation: Report</li> </ul>"},{"location":"knowledge-base/delta-table-extraction/","title":"Delta Table Extraction","text":"<p>The following article shows how to load data incrementally (daily) from an SAP Table based on date fields. The depicted example scenarios use the table VBAK (SAP Sales Document Header), which has two date fields: </p> <ul> <li>ERDAT for creation date </li> <li>AEDAT for update date</li> </ul>"},{"location":"knowledge-base/delta-table-extraction/#extract-data-using-a-date-parameter","title":"Extract Data using a Date Parameter","text":"<p>The depicted example extracts data that was created or changed after a specific date. The date is provided as a parameter at runtime.</p> <ol> <li>Create a new Xtract Table extraction.</li> <li>Look up a table you want to extract data from, e.g., VBAK.  </li> <li> <p>Open the WHERE clause tab of theXtract Table component and enter the following criterion: </p> <pre><code>( VBAK~ERDAT GE @LastDate AND VBAK~AEDAT EQ '00000000' ) OR VBAK~AEDAT GE @LastDate\n</code></pre> <p>This criterion extracts data if one of the following conditions is true: </p> <ul> <li>The data was created (ERDAT) after the date provided by the parameter <code>@LastDate</code> and it has not been changed (AEDAT). </li> <li>The data has changed (ARDAT) after the date provided by the parameter <code>@LastDate</code>. </li> </ul> </li> <li> <p>Click [OK] to confirm your input.</p> </li> <li> <p>Create a SSIS variable <code>LastDate</code> of type string.</p> </li> <li>Enter a value for <code>LastDate</code> in the format <code>YYYYmmDD</code> when running the SSIS package.</li> <li>Check the results.</li> </ol>"},{"location":"knowledge-base/delta-table-extraction/#daily-data-extraction","title":"Daily Data Extraction","text":"<p>The depicted example extracts data that was created or changed the day before. The depicted example uses script expressions to query the current date.</p> <ol> <li>Create a new Table extraction.</li> <li>Look up a table you want to extract data from, e.g., VBAK.  </li> <li> <p>Open the WHERE clause tab of the Table component and enter the following criterion: </p> <pre><code>(ERDAT &gt;= '#{ DateTime.Now.AddDays(-1).ToString(\"yyyyMMdd\") }#' AND AEDAT = '00000000') OR AEDAT &gt;= '#{ DateTime.Now.AddDays(-1).ToString(\"yyyyMMdd\") }#'` &lt;br&gt;\n</code></pre> <p>This criterion extracts data if one of the following conditions is true:</p> <ul> <li>The data was created (ERDAT) the day before the current date and it has not been changed (AEDAT).</li> <li>The data has changed (ARDAT) the day before the current date. </li> </ul> </li> <li> <p>Click [OK] to confirm your input.</p> </li> <li>Run the SSIS package.</li> </ol> <p>The extraction can be scheduled every night at 1p.m. or later to extract all changes of the day before. Providing extraction dates is not necessary.</p>"},{"location":"knowledge-base/delta-table-extraction/#related-links","title":"Related Links","text":"<ul> <li>Xtract Table: WHERE Clause</li> </ul>"},{"location":"knowledge-base/determine-the-azure-cluster-ID/","title":"Determine the Azure SSIS-IR Cluster ID","text":"<p>The following article shows how to access the Azure SSIS-IR Cluster ID.  The Azure SSIS-IR ClusterID is needed to create a customer bound license.  </p>"},{"location":"knowledge-base/determine-the-azure-cluster-ID/#azure-ssis-ir-cluster-id-in-the-azure-portal","title":"Azure SSIS-IR Cluster ID in the Azure Portal","text":"<p>The Azure SSIS-IR Cluster ID is composed of the name of the Data Factory and the name of the Integration Runtime. Syntax example: <code>Microsoft.DataFactory/factories/[data factory name]/integrationruntimes/[integration runtime name]</code>.</p> <ol> <li>Login to your Azure Data Factory (ADF) account.</li> <li>Navigate to [Launch Studio] and select Configure SSIS. Data factory window opens  .  </li> <li>Select your Data Factory, e.g., Xtract-ADF in the depicted example. </li> <li>In the general menu, select Integration Runtimes &gt; [Name-of-the-IR], e.g., XTRACT-IR in the depicted example  .  The integration runtime window opens and all possible runtimes are displayed, including the type, the status and further information. </li> <li>The Azure SSIS-IR Cluster ID of the depicted example is:  <code>Microsoft.DataFactory/factories/Xtract-ADF/integrationruntimes/XTRACT-IR</code></li> </ol>"},{"location":"knowledge-base/determine-the-azure-cluster-ID/#related-links","title":"Related Links","text":"<ul> <li>SSIS Integration Runtime</li> </ul>"},{"location":"knowledge-base/dynamization-of-where-conditions/","title":"Dynamic WHERE Conditions","text":"<p>The following article shows how to define dynamic WHERE conditions for Table extractions.</p> <p>The dynamization of the Xtract Table components increases the maintainability of SSIS packages.  So-called SSIS expressions based on table properties are used for this functionality.  The following table lists all defined table properties that can be used dynamically at runtime of the SSIS package:</p> Property Description <code>[Xtract Table].[WhereClause]</code> Restricts the number of rows included in the results set by the statement SELECT of a query, by using a logical expression. <code>[Xtract Table].[ConvertsDates]</code> Converts the character-type SAP date to a special date format. <code>[Xtract Table].[CustomFunctionName]</code> Specifies the name of the function module used for data extraction. <code>[Xtract Table].[MaxRows]</code> Specifies the maximum number of extracted records. <code>[Xtract Table].[MinDateReplacement]</code> Date conversions are applied in case of invalid data in SAP date fields. <code>[Xtract Table].[MaxDateReplacement]</code> Date conversions are applied in case of invalid data in SAP date fields. <code>[Xtract Table].[PackageSize]</code> Specifies the number of records retrieved per data package."},{"location":"knowledge-base/dynamization-of-where-conditions/#how-to-use-xtract-tablewhereclause","title":"How to use [Xtract Table].[WhereClause]","text":"<p>In the depicted example, only results until 01.01 of the current fiscal year are extracted.  The SAP standard table BKPF - Accounting Document Header and the table field BUDAT - Posting Date in the Document are used. </p> <ol> <li>Create an SSIS package and add an Xtract Table component.</li> <li>Look up the table you want to extract, e.g., BKPF.</li> <li>Right-click on the Data Flow canvas and open Properties. </li> <li>Add an SSIS expression using the Expressions property. Click  [...] next to the Expressions property. The window \"Property Expressions Editor\" opens.</li> <li>Select the property <code>[Xtract Table].[WhereClause]</code>. </li> <li>Open the Expression Builder by clicking [...].</li> <li> <p>Copy &amp; paste following expression:</p> <pre><code>\"BUDAT &lt;= \" + \"'\" +  (DT_STR, 4, 1252) DATEPART(\"yy\" , GETDATE())  + \"0101'\"\n</code></pre> <p></p> </li> <li> <p>Click [Evaluate Expression] to check if the syntax is correct.</p> </li> <li>Click [OK] in the Expression Builder and the Property Expression Editor to confirm the input.</li> <li>Check the WHERE-Clause of the table extraction in tab WHERE Clause. </li> <li>Run the SSIS package.</li> </ol>"},{"location":"knowledge-base/dynamization-of-where-conditions/#ssis-expression-samples","title":"SSIS Expression Samples","text":"SSIS Expression Output Description <pre>\"BUDAT &gt;= \" + \"'\" + (DT_STR, 4, 1252) DATEPART( \"yy\", DATEADD( \"yy\", -1, GETDATE() ) ) + \"%'\" </pre> BUDAT &gt;= \u20182019%\u2019 All values of the last 2 years. <code>\"BUDAT = \" + \"'\" +(DT_STR, 4, 1252) DATEPART(\"yy\" , GETDATE()) + RIGHT(\"0\" + (DT_STR, 2, 1252) DATEPART(\"mm\" , GETDATE()), 2) +RIGHT(\"0\" + (DT_STR, 2, 1252) DATEPART(\"dd\" , GETDATE()), 2) + \"'\"</code> BUDAT = \u201820200726\u2019 All values of the current day. <code>\"BUDAT &gt;= \" + \"'\" + (DT_STR, 4, 1252) DATEPART( \"yy\", GETDATE() ) + \"01%'\" + \" AND BUDAT &lt; \" + \"'\" + (DT_STR, 4, 1252) DATEPART( \"yy\", GETDATE() ) + \"04%'\"</code> BUDAT &gt;= \u2018202001%\u2019 AND BUDAT &lt; \u2018202004%\u2019 All values in Q1 of the current year. <code>\"BUDAT LIKE \" + \"'\" + (DT_STR, 4, 1252) DATEPART(\"yy\" , GETDATE()) + RIGHT(\"0\" + (DT_STR, 2, 1252) DATEPART(\"mm\" , GETDATE()), 2) + \"%'\"</code> BUDAT LIKE \u2018202007%\u2019 All values of the current month. <code>\"BUDAT LIKE \" + \"'\" + (DT_STR, 4, 1252) DATEPART(\"yy\" , GETDATE()) + \"%'\"</code> BUDAT LIKE \u20182020%\u2019 All values of the current year. <code>(DT_WSTR, 4) YEAR( GETDATE() )</code> 2022 Current year value. <code>(DT_WSTR, 4) DATEPART( \"yy\", DATEADD( \"yy\", -9, GETDATE() ) )</code> 2013 Annual calculation based on the number parameter used."},{"location":"knowledge-base/enable-snc-using-pse-file/","title":"Enable Secure Network Communication (SNC) via X.509 certificate","text":"<p>The following article describes how to establish an SNC connection to an SAP source system. </p> <p>The depicted approach uses an X.509 certificate that provides the logon data of the Windows AD user.  The correctness of this X.509 certificate is ensured via the company's internal certification authority (ca).</p>"},{"location":"knowledge-base/enable-snc-using-pse-file/#workflow","title":"Workflow","text":"<ol> <li>Upon connection start, the Secure Login Client retrieves the SNC name from the SAP NetWeaver AS ABAP.</li> <li>The Secure Login Client uses the authentication profile for this SNC name.</li> <li>The user unlocks the security token, for example, by entering the PIN or password.</li> <li>The Secure Login Client receives the X.509 certificate from the user security token. </li> <li>The Secure Login Client provides the X.509 certificate for single sign-on and secure communication between SAP GUI or Web GUI and the AS ABAP.</li> <li>The user is authenticated and the communication is secured.</li> </ol> <p>Tip</p> <p>The configuration of the X.509 certificate should be implemented by the network &amp; SAP Basis team and requires basic knowledge in this area.</p>"},{"location":"knowledge-base/enable-snc-using-pse-file/#requirements","title":"Requirements","text":"<p>The following system settings are a prerequisite for using this SNC solution:</p> <ul> <li>Install the Secure Login Client.</li> <li>The SAP application server is configured and activated for Secure Network Communication (SNC).</li> <li>The SNC standard library sapcryptolib is used as the SNC solution.</li> <li>The following SNC parameters are configured:</li> </ul> SNC parameter Value Example snc/gssapi_lib Path and file name where the SAP Cryptographic Library is located. $(DIR_EXECUTABLE)\\sapcrypto.dll snc/identity/as Application server's SNC name Syntax: p:\\&lt;Distinguished_Name&gt;  The Distinguished Name part must match the Distinguished Name that you specify when creating the SNC PSE. p:CN=saperp.theobald.local"},{"location":"knowledge-base/enable-snc-using-pse-file/#step-by-step-guide","title":"Step-by-Step Guide","text":"<ol> <li> <p>Generate certificate for the application server and AD-user context from common Certificate Authority (ca). </p> <p>Note</p> <p>The X.509 certificate is available when placed in folder Certmgr &gt; Personal &gt; Certificates within Windows certificate store (user).</p> </li> <li> <p>Convert pfx file to SAP PSE format e.g., <code>sapgenpse.exe import_p12 -p cert.pse cert.pfx</code>.</p> </li> <li>Import the created PSE file via TA STRUST &gt; Edit mode &gt; PSE Import &gt; PSE Save as SNC Libcrypto.</li> <li>Edit the SNC configuration of the corresponding SAP user via transaction SU01  , SNC , SNC Name  = p:\\&lt;Full Distinguished_Name&gt;  e.g., <code>p:EMAIL=\"RandomUser@domain\",CN=\"Random User\",OU=\"Users\",OU=\"TheobaldSoftware\",DC=\"theobald\",DC=\"local\"</code>. </li> <li>Set up SNC authentication in the Xtract IS SAP connection settings.</li> </ol>"},{"location":"knowledge-base/enable-snc-using-pse-file/#releated-links","title":"Releated Links","text":"<ul> <li>SAP Help: Workflow with X.509 Certificate without Secure Login Server</li> <li>SAP Help: Secure Network Communications (SNC)</li> <li>SAP Help: Configuring SNC: External Programs AS ABAP Using RFC </li> <li>SAP Help: Setting the SNC Profile Parameters</li> <li>SAP Help: Configuring SAP GUI and SAP Logon for Single Sign-On</li> <li>SAP Help: Secure Login Client</li> <li>SAP Additional Content: List of SNC Error Codes</li> </ul>"},{"location":"knowledge-base/execute-ssis-packages-between-cloud-data-stores-and-a-private-network-data-storage/","title":"Execute SSIS Packages between Cloud Data Stores and a Private Network Data Storage","text":"<p>The following article describes a secure data integration approach to execute SSIS packages that access an SAP source system located in a private network (domain).</p> <p>To perform data integration securely in a private network environment without a direct line-of-sight from the public cloud environment, you can install a self-hosted IR in your on-premises environment behind a firewall, or inside a virtual private network.  The self-hosted integration runtime only makes outbound HTTP-based connections to the internet.  The Xtract Connection (SAP connection) with the property ConnectByProxy = True is used to implement access to the local network using the Self-Hosted Integration Runtime (SHIR).</p>"},{"location":"knowledge-base/execute-ssis-packages-between-cloud-data-stores-and-a-private-network-data-storage/#prerequisites","title":"Prerequisites","text":"<p>The following prerequisites are mostly based on the official Microsoft documentation for using Azure integration runtime (IR) as well as Self-Hosted Integration Runtime (SHIR). </p> <ul> <li>Download and install the latest version of self-hosted IR and the additional drivers and runtime on your on-premises machine or Azure virtual machine (VM).</li> <li>Create an SSIS package on a development environment (Visual Studio) and execute it successfully. </li> <li>Publish the SSIS project to an SSIS in Azure Data Factory (ADF).</li> </ul>"},{"location":"knowledge-base/execute-ssis-packages-between-cloud-data-stores-and-a-private-network-data-storage/#step-by-step-instructions","title":"Step-by-Step Instructions","text":"<ol> <li>Configure and start the Azure Data Factory IR with the necessary files to run the Xtract IS for Azure extension in ADF.</li> <li>Download and install the SHIR on the local Windows server (on-prem), see Microsoft Integration Runtime.</li> <li>Register the Integration Runtime (Self-hosted), see Configure a self-hosted IR via UI.</li> <li> <p>If applicable: Enable SSIS package execution on self-hosted IR node using the following cmd command: </p> <pre><code>C:\\Program Files\\Microsoft Integration Runtime\\5.0\\Shared&gt;dmgcmd -eesp\n</code></pre> </li> <li> <p>Execute the XtractISSetup.exe file to install Xtraxt IS and use Xtract IS Data Flow Tasks.</p> </li> <li>If your SSIS package uses one of the following components, download and install the relevant drivers:<ul> <li>Object Linking and Embedding Database (OLEDB), see OLE DB Driver 18 for SQL Server</li> <li>Open Database Connectivity (ODBC)</li> <li>ADO.NET connectors</li> <li>Azure Feature Pack, see SSIS 2017 Feature Pack for Azure</li> </ul> </li> </ol> <p>Note</p> <p>If the Integration Runtime (Self-hosted) node encouters errors during execution, error logs are provided using the Windows Event Viewer.</p>"},{"location":"knowledge-base/execute-ssis-packages-between-cloud-data-stores-and-a-private-network-data-storage/#related-links","title":"Related Links:","text":"<ul> <li>Microsoft Documentation: .NET Framework system requirements</li> <li>Microsoft Documentation: Integration runtime in Azure Data Factory</li> <li>Microsoft Documentation: Self-hosted integration runtime</li> <li>Microsoft Documentation: Troubleshoot self-hosted integration runtime</li> <li>Microsoft Documentation: Assess SSIS project\\packages for executions in Azure</li> </ul>"},{"location":"knowledge-base/import-an-sap-transport-request/","title":"Import an SAP Transport Request","text":"<p>The following article shows how to import transport requests for custom functions modules that are included in the installation directory of your product, e.g., <code>C:\\Program Files\\XtracIS\\ABAP</code>.</p>"},{"location":"knowledge-base/import-an-sap-transport-request/#upload-sap-transport-requests-to-sap","title":"Upload SAP Transport Requests to SAP","text":"<p>If you have access to the file system of SAP, you can copy and paste the files of your transport request directly into the <code>data</code> and <code>cofiles</code> folders of your SAP system. If you don't have access to the file system, follow the steps below to upload the files of your transport request using the SAP function module ARCHIVFILE_CLIENT_TO_SERVER:</p> <ol> <li>Unzip the transport request provided in the installation directory of your product, e.g., <code>C:\\Program Files\\XtracIS\\ABAP</code>.</li> <li>Open SAP and go to transaction AL11.</li> <li>Find the entry DIR_TRANS in the column Name of Directory Parameter. Note or copy the path shown in the column Directory. </li> <li>Go to SAP transaction SE37.</li> <li>Enter name of function module ARCHIVFILE_CLIENT_TO_SERVER and click [Test/Execute]. </li> <li>In the field PATH you select your request file from from step 1. The name of the file starts with an \"R\", e.g., R900472.</li> <li>In the field TARGET PATH you construct your target path using the following pattern: <code>{copied path from step 2}\\data\\{request file name}</code>.</li> <li>Enable case-sensitivity and click [Execute]. When prompted, confirm the upload.  </li> <li>In the field PATH you select your cofile from from step 1. The name of the file starts with a \"K\", e.g., K900472.</li> <li>In the field TARGET PATH you construct your target path using the following pattern: <code>{copied path from step 2}\\cofiles\\{cofile name}</code>.</li> <li>Enable case-sensitivity and click [Execute]. When prompted, confirm the upload. </li> </ol> <p>The files are now available in SAP.</p> <p>Note</p> <p>Another method for uploading files to SAP is the SAP transaction CG3Z. This transaction is only available on ERP systems. </p>"},{"location":"knowledge-base/import-an-sap-transport-request/#import-sap-transport-requests","title":"Import SAP Transport Requests","text":"<p>Follow the steps below to add the transport requests to the import queue and import them:</p> <ol> <li>Go to SAP transaction STMS to open the transport management system.</li> <li>Click [Import Overview] ( icon). </li> <li>Double click on the import queue in which you want to load the transport request into. </li> <li>Open the transport request selection dialog via More &gt; Extras &gt; Other Requests &gt; Add.</li> <li>Select the transport request and confirm. If prompted, confirm the import. </li> <li>Select your transport request from the list and click [Import Request] ( icon). The window \"Import Transport Request\" opens.</li> <li>Enter the target client.  If the version of the SAP system where the transport request was created differs from your SAP system version, select the option Ignore Invalid Component Version. </li> <li>Confirm your settings. </li> </ol> <p>The transport request is imported.</p>"},{"location":"knowledge-base/import-an-sap-transport-request/#check-the-status-of-transport-requests","title":"Check the Status of Transport Requests","text":"<p>The import overview of the transport management system (transaction STMS) lists all transport requests. The status of the transport requests is displayed in the column \"RC\".</p> <p>A green bar indicates that the import was successful. In case of warnings or errors, double click on the icon to view the error messages. </p>"},{"location":"knowledge-base/like-operand-where-clause/","title":"Working with LIKE operand in WHERE-Clauses","text":"<p>The following article shows how to use the LIKE operand in WHERE-Clauses of the Xtract Table component. The LIKE operand represents a pattern using the following wildcard characters:</p> <ul> <li>\"%\" is any character string (including an empty string)</li> <li>\"_\" is any character</li> </ul> <p>The pattern is case-sensitive. Trailing blanks in operands are ignored.  This also applies in particular to operands of the type string with trailing blanks that are otherwise respected in ABAP.</p>"},{"location":"knowledge-base/like-operand-where-clause/#examples","title":"Examples","text":"WHERE-Condition Description <code>MSEG~MJAHR LIKE '20__'</code> Filter back all fiscal years of the table column MSEG~MJAHR that start with 20. <code>MSEG~MBLNR LIKE '0049%'</code> Filters all records of the table column MSEG~MBLNR that return the Number of Material Document starting with the value 0049. <code>BKPF~BUKRS LIKE '__1_'</code> Filters all records that have a 1 in the third digit of the value for the company code (BKPF~BUKRS). <code>MSEG~MJAHR LIKE '00490002'</code><code>MSEG~MBLNR LIKE '0049%'</code><code>BKPF~BUKRS LIKE '__1_'</code>"},{"location":"knowledge-base/like-operand-where-clause/#related-links","title":"Related Links","text":"<ul> <li>SAP Help: Open SQL - Operands and Expressions - LIKE </li> </ul>"},{"location":"knowledge-base/parse-reports/","title":"Parse Reports in Xtract IS","text":"<p>This articles shows how to use Xtract IS to parse ABAP reports that contain groups of data sets and merge them into a single data set.  The depicted example uses the report FBL3N that contains multiple groups where each group has its own header and calculation rows.</p> <p>The article leads you through the following steps to merge all groups into a single data set:</p> <ul> <li>Remove rows that calculate the content of the rows before.</li> <li>Select a header for the report and remove duplicates.</li> <li>Parse rows that contain additional headers as columns.</li> </ul> Report in SAPExtracted Report without parsingExtracted Report with parsing <p></p> <p></p> <p></p>","tags":["RFITEMGL"]},{"location":"knowledge-base/parse-reports/#remove-rows","title":"Remove Rows","text":"<p>Follow the steps below to remove rows that calculate the content of the rows before.  Calculation rows are marked with an * symbol.</p> <ol> <li>Look up a report that contains groups of data.  The depicted example uses report FBL3N (RFITEMGL). </li> <li>If the report has variants, select a variant.</li> <li>Click [Load Preview] to load a preview of the first 100 rows.</li> <li>Click [Automatically detect columns] to define the columns of the report. </li> <li>Open the tab Skip and Parse Rows.</li> <li>Click [Add rows to skip].</li> <li>To remove calculation rows, enter the keyword *.  All rows that contain the keyword are displayed in a gray font in the preview section. </li> <li>To remove additional rows that separate calculation rows and headers, enter the keyword ---. </li> <li>Click [OK] to save the changes.</li> </ol> <p>The calculation rows are skipped during the report extraction. For more information on how to manipulate rows in report extractions, see Documentation: Define Rows.</p> Before: Original ReportAfter: Report without caluclation rows <p></p> <p></p>","tags":["RFITEMGL"]},{"location":"knowledge-base/parse-reports/#select-a-header","title":"Select a Header","text":"<p>Follow the steps below to select one of multiple available headers as the report header:</p> <ol> <li>Open the report extraction from Remove Rows or any other report that contains multiple headers.</li> <li>Click [Load Preview] to load a preview of the first 100 rows.</li> <li>Open the tab Skip and Parse Rows.</li> <li> <p>In the preview section, right-click the header row and select Select as header from the context menu. All rows that contain the header are displayed in a blue font in the preview section.</p> <p>Tip</p> <p>If the header is not part of the preview (first 100 rows of the report), enter a pattern in the field Header pattern to scan all report rows for the pattern.</p> <p></p> </li> <li> <p>Click [OK] to save the changes.</p> </li> </ol> <p>The report parses the selected header as the report header during report extraction. Any duplicates of the header are removed from the result set.</p> Before: Report with multiple headersAfter: Report without duplicate headers <p></p> <p></p>","tags":["RFITEMGL"]},{"location":"knowledge-base/parse-reports/#parse-rows-with-additional-headers-as-columns","title":"Parse Rows with Additional Headers as Columns","text":"<p>Follow the steps below to parse header rows that contain information about a data set as columns.  The depicted example parses the header rows containing the G/L Account number and the Company Code of a data set as columns.</p> <ol> <li>Open the report extraction from Select a Header or any other report that contains multiple headers.</li> <li>Click [Load Preview] to load a preview of the first 100 rows.</li> <li>Open the tab Skip and Parse Rows.</li> <li>Click [Add row to parse as column] to add a new column. </li> <li>Click []. The window \"Parse Helper\" opens and a new preview of the report data is fetched. This can take a while.</li> <li>Under Search keyword enter a unique keyword from the row you want to parse as a column. Matching rows are displayed in the preview section of the window.    </li> <li>Make sure only header rows are displayed in the preview section. If the preview includes regular rows, edit the keyword until only header rows remain.</li> <li>Under New Column Name enter a name for the new column. </li> <li>Mark the content of the column in the preview section by pressing and dragging the mouse pointer over the length of the content.  </li> <li>Click [OK] to save the column properties. All rows that will be parsed as a column are displayed in a blue font in the preview section.</li> <li> <p>Repeat steps 4 to 9 for the Company Code.</p> <p>Tip</p> <p>If the Company Code is not relevant for your report analysis, remove the corresponding header row from the result set, see Remove Rows.</p> </li> <li> <p>Click [OK] to save the changes. </p> </li> <li>Run the SSIS package and check if the rows are parsed correctly. </li> </ol> <p>The extracted report returns a single data set that includes the content of all original data set groups.</p> Before: Report with additional headersAfter: Report with rows for additional headers <p></p> <p></p>","tags":["RFITEMGL"]},{"location":"knowledge-base/parse-reports/#related-links","title":"Related Links","text":"<ul> <li>Xtract Report</li> <li>Skip Rows by Keyword</li> </ul>","tags":["RFITEMGL"]},{"location":"knowledge-base/read-data-from-cluster-fields-in-the-tables-pcl1-and-pcl2-payroll/","title":"Read Data from Cluster Fields in Tables PCL1 and PCL2 (Payroll)","text":"<p>The following article shows how to extract data from the SAP HCM tables PCL1 and PCL2. The data can only be extracted using a custom function module and the Xtract BAPI component.  Data extraction via Xtract Table component is not supported.</p>"},{"location":"knowledge-base/read-data-from-cluster-fields-in-the-tables-pcl1-and-pcl2-payroll/#custom-function-module-z_hr_cluster_read","title":"Custom Function Module Z_HR_CLUSTER_READ","text":"<p>Create the following custom function module in SAP:</p> <ol> <li>Use SAP transaction SE37 to create a remote enabled custom function module Z_HR_CLUSTER_READ.  </li> <li> <p>Create the following parameters:</p> Import ParametersTable Parameters <pre><code>PERNR            TYPE=PC2B0-PERNR;\nACTIONID         TYPE=CHAR2; DEFAULT = 'P1'\nSTARTDATE        TYPE=DATS;\nENDDATE          TYPE=DATS;\n</code></pre> <p></p> <pre><code>ERT        LIKE=PC2B8\nST         LIKE=PC2B5\nCRT        LIKE=PC208\n</code></pre> <p></p> </li> <li> <p>Copy and paste the following ABAP source code into the source code area of the function module.</p> ABAP source code<pre><code>     FUNCTION Z_HR_CLUSTER_READ.\n\n     *\"----------------------------------------------------------------------\n\n     *\"*\"Local Interface:\n     *\"  IMPORTING\n     \"     VALUE(PERNR) TYPE  PC2B0-PERNR OPTIONAL\n     *\"     VALUE(ACTIONID) TYPE  CHAR2 DEFAULT 'P1'\n     *\"     VALUE(STARTDATE) TYPE  DATS OPTIONAL\n     *\"     VALUE(ENDDATE) TYPE  DATS OPTIONAL\n     *\"  TABLES\n     *\"      ERT STRUCTURE  PC2B8 OPTIONAL\n     *\"      ST STRUCTURE  PC2B5 OPTIONAL\n     *\"      CRT STRUCTURE  PC208 OPTIONAL\n     *\"----------------------------------------------------------------------\n     DATA : BEGIN OF it_pcl1 OCCURS 0,\n     srtfd TYPE pcl1-srtfd,\n     END OF it_pcl1.\n\n     DATA BEGIN OF b1_key.\n          INCLUDE STRUCTURE pdc10.\n     DATA END OF b1_key.\n\n     IF actionid = 'P1'.\n\n     SELECT srtfd\n     FROM pcl1\n     INTO TABLE it_pcl1\n     WHERE relid EQ 'B1'\n     AND srtfd EQ pernr\n     AND srtf2 EQ 0.\n\n    LOOP AT it_pcl1.\n      MOVE it_pcl1-srtfd TO b1_key.\n      IMPORT st ert FROM DATABASE pcl1(b1) ID b1_key.\n      IF sy-subrc EQ 0.\n      ENDIF.\n    ENDLOOP.\n\n     ENDIF.\n\n     IF actionid = 'P2'.\n     DATA : it_rgdir TYPE TABLE OF pc261 INITIAL SIZE 0,\n           wa_rgdir LIKE LINE OF it_rgdir,\n           it_crt TYPE pay99_result-inter-crt,\n           wa_crt LIKE LINE OF it_crt,\n           wa_payrollresult TYPE pay99_result,\n           v_molga TYPE molga.\n\n    DATA : BEGIN OF wa_out,\n            pernr TYPE pernr-pernr,\n            gross TYPE pc207-betrg, \"Amount\n            net TYPE pc207-betrg,\n           END OF wa_out,\n           it_outtab LIKE TABLE OF wa_out.\n\n     wa_out-pernr = PERNR.\n     CALL FUNCTION 'CU_READ_RGDIR'\n     EXPORTING\n     persnr          = PERNR\n     IMPORTING\n     molga           = v_molga\n     TABLES\n     in_rgdir        = it_rgdir\n     EXCEPTIONS\n     no_record_found = 1\n     OTHERS          = 2.\n     IF sy-subrc = 0.\n\n\n\n    LOOP AT it_rgdir INTO wa_rgdir\n                       WHERE fpbeg GE startdate AND\n                             fpend LE enddate AND\n                             srtza EQ 'A'.  \"Current result\n        CALL FUNCTION 'PYXX_READ_PAYROLL_RESULT'\n          EXPORTING\n            clusterid                    = 'RD'\n            employeenumber               = PERNR\n            sequencenumber               = wa_rgdir-seqnr\n            READ_ONLY_INTERNATIONAL      = 'X'\n          CHANGING\n\n            payroll_result               = wa_payrollresult\n          EXCEPTIONS\n            illegal_isocode_or_clusterid = 1\n            error_generating_import      = 2\n            import_mismatch_error        = 3\n            subpool_dir_full             = 4\n            no_read_authority            = 5\n            no_record_found              = 6\n            versions_do_not_match        = 7\n            error_reading_archive        = 8\n            error_reading_relid          = 9\n            OTHERS                       = 10.\n\n        IF sy-subrc = 0.\n          LOOP AT wa_payrollresult-inter-crt INTO wa_crt.\n            CASE wa_crt-lgart.\n              WHEN '/101'.  \" Gross\n                APPEND wa_crt TO crt.\n            ENDCASE.\n            CLEAR wa_out.\n          ENDLOOP.\n        ENDIF.\n      ENDLOOP.\n    ENDIF.\n  ENDIF.\nENDFUNCTION.\n</code></pre> </li> <li> <p>Save the function module.</p> </li> </ol>"},{"location":"knowledge-base/read-data-from-cluster-fields-in-the-tables-pcl1-and-pcl2-payroll/#how-to-use-the-custom-function-module","title":"How to use the Custom Function Module","text":"<p>Depending on the table you want to access, define the following parameters:</p> Extract the payroll results of PCL1Extract the payroll results of PCL2 <ol> <li>Look up the function module using the Xtract BAPI component.</li> <li>Populate the import parameter ACTIONID with value P1.</li> <li>Populate the field PERNR with a value for Personnel Number. The personnel number has to be entered with leading zeroes.</li> <li>Run the SSIS package. The data is available in the table parameter ST.</li> </ol> <ol> <li>Look up the function module using the Xtract BAPI component.</li> <li>Populate the import parameter ACTIONID with value P2.</li> <li>Enter a start date and end date using the parameters STARTDATE and ENDDATE. The date fields have the format YYYYmmDD.</li> <li>Run the SSIS package. The data is available in the table parameter CRT.</li> </ol>"},{"location":"knowledge-base/register-rfc-server-in-sap-releases-in-kernel-release-720-and-higher/","title":"Register an RFC Server in SAP with Kernel Release 720 and higher","text":"<p>The following article shows how to register an RFC server in SAP releases with Kernel release 720 and higher.</p> <p>Warning</p> <p>RFC server is not working, please check gateway info. As of SAP Kernel Release 720, you can use the parameter gw/acl_mode to set an initial security environment to start and register external programs, e.g., RFC Server required for DeltaQ processing / customizing check.  If this value is set to 1, the DeltaQ component cannot register the RFC Server and the Customizing Check returns the an error. </p> <p>There are two options to avoid this error:</p> <ul> <li>Set the Profile Parameter gw/acl_mode to 0.</li> <li>Define a whitelist of programs that can register at the SAP Gateway.</li> </ul>"},{"location":"knowledge-base/register-rfc-server-in-sap-releases-in-kernel-release-720-and-higher/#change-the-profile-parameter-gwacl_mode","title":"Change the Profile Parameter gw/acl_mode","text":"<p>When setting the profile parameter gw/acl_mode to 0 (default is 1), all RFC destinations / RFC servers with different Program IDs can register.</p> <ol> <li>Use SAP transaction RZ10 to open the \"Edit Profile\" menu.</li> <li>Select the profile name Default and Extended Maintenance.</li> <li>Click [Change] and set the profile parameter gw/acl_mode value to 0 </li> </ol> <p>The Customizing Check now executes without error messages.</p>"},{"location":"knowledge-base/register-rfc-server-in-sap-releases-in-kernel-release-720-and-higher/#define-a-whitelist-of-programs-at-the-sap-gateway","title":"Define a Whitelist of Programs at the SAP Gateway","text":"<p>To define a whitelist of programs that can register at the SAP Gateway, create two files named secinfo and reginfo.  Both files don't exist per default, see the example below.</p> <ol> <li> <p>Create the files secinfo and reginfo. The files must have the following content:</p> Content of \"secinfo\"Content of \"reginfo\" <pre><code>#VERSION=2\nP TP=* HOST=internal,local CANCEL=internal,local ACCESS=internal,local\n# the following line should be the LAST line in the secinfo file\nP TP=XTRACT01 USER=* USER-HOST=* HOST=* \n</code></pre> <pre><code>#VERSION=2\n# the following line should be the LAST line in the reginfo file\nP TP=XTRACT01\n</code></pre> </li> <li> <p>Copy both files to the following directory (data path): <code>/usr/sap/&lt;SID&gt;/&lt;INSTANCE&gt;/data/</code></p> </li> <li>Extend the following two parameters to the Profile Parameter in the SAP transaction RZ10:<ul> <li>gw/reg_info = $(DIR_DATA)/reginfo</li> <li>gw/sec_info = $(DIR_DATA)/secinfo</li> </ul> </li> <li>Restart the gateway or re-read the security parameters using SAP transaction SMGW (navigate to Menu -&gt; Goto -&gt; Expert Functions -&gt; External Security -&gt; Reread). </li> </ol> <p>The Customizing Check now executes without error messages.</p> <p>Warning</p> <p>Registration of the RFC-server fails. The content of both files secinfo and reginfo override the parameter gw/acl_mode.  Make sure that both files secinfo and reginfo allow the registration of the RFC-server.  </p>"},{"location":"knowledge-base/register-rfc-server-in-sap-releases-in-kernel-release-720-and-higher/#related-links","title":"Related Links","text":"<ul> <li>SAP Help: Gateway Security Files secinfo and reginfo</li> <li>SAP Note 1850230</li> <li>SAP Community blog</li> </ul>"},{"location":"knowledge-base/snc-authentication-for-deltaq/","title":"SNC Authentication for DeltaQ and OHS","text":"<p>The following article is for users who want to run SSIS packages with SNC Authentication when Xtract DeltaQ or Xtract OHS components are used.\u00a0</p> <p>When using Secure Network Connection (SNC), the associated application server, RFC destination (SM59) and SAP user need to enable SNC via partner name.  This way, the communication between the application server and Xtract IS takes place via an RFC destination for Xtract DeltaQ or Xtract OHS components. </p>"},{"location":"knowledge-base/snc-authentication-for-deltaq/#user-configuration-in-sap","title":"User Configuration in SAP","text":"<p>Follow the steps below to enable SNC for the SAP user that is used in Xtract IS:</p> <ol> <li>Open SAP and run the SAP transaction SU01.</li> <li>Enter the name of the SAP user that is used in the XTRACT Connection Manager and click [Change]. </li> <li>Open the SNC tab and provide the SNC Name of the SAP user  . In the depicted example, MALAPATI is the user and THEOBALD.LOCAL is the domain. </li> <li>Click [Save]. </li> </ol>"},{"location":"knowledge-base/snc-authentication-for-deltaq/#sap-connection-settings-in-xtract-is","title":"SAP Connection Settings in Xtract IS","text":"<p>Follow the steps below to enable SNC in Xtract IS:</p> <ol> <li>Open the Connection Manager of the SAP connection.</li> <li>Provide details of an SAP user that has SNC enabled  . </li> <li>Click Additions. The window \"XTRACT Connection Manager Additions\" opens. <ol> <li>Check the box SNC  .</li> <li>Enter the complete path of the Kerberos library in the field SNC library 32 Bit .</li> <li>Enter the complete path of the Kerberos library in the field SNC library 64 Bit .</li> <li>Enter the SPN of the SAP service account in the field\u00a0Partner name . Use the following notation:\u00a0<code>p:[SPN]@[Domain-FQDN-Uppercase]</code>.</li> <li>Set the Quality of Protectio to 8 - Default .</li> <li>Click [OK]  to save your input.</li> </ol> </li> <li>Click [Test connection] . If the connection is successful, a confirmation window opens.</li> <li>Click [OK] to confirm.</li> </ol>"},{"location":"knowledge-base/snc-authentication-for-deltaq/#rfc-destination-configuration-in-sap","title":"RFC Destination Configuration in SAP","text":"<p>Follow the steps below to enable SNC for the corresponding RFC destination in regard to the Service Principal Name (SPN) of the SAP user account. </p> <ol> <li>Open SAP and run the SAP transaction SM59.</li> <li>Double-click on an existing TCP/IP RFC destination, see Create an RFC Destination.</li> <li>Navigate to Edit &gt; SNC Options. The window \"Change View \"SNC Extension\": Details\" opens. <ol> <li>Provide the SPN of the SAP user account in the field\u00a0Partners , e.g., p:RfcServer/Malapati@THEOBALD.LOCAL.</li> <li>Set the Quality of Protection to 8 - Default .</li> <li>Activate the checkbox SNC Active .</li> </ol> </li> <li>Open the Unicode tab and activate Unicode. </li> <li>Click [Save] to save your changes.</li> </ol>"},{"location":"knowledge-base/snc-authentication-for-deltaq/#related-links","title":"Related Links","text":"<ul> <li>Documentation: Create an RFC Destination</li> <li>Documentation: Connect to SAP</li> <li>Documentation: SAP Connection with SNC</li> <li>SAP Help: Maintaining RFC destinations and their SNC options</li> </ul>"},{"location":"knowledge-base/supported-sap-and-hana-versions/","title":"Supported SAP S/4HANA Versions","text":"<p>The following article gives an overview of all SAP S/4HANA systems supported by Xtract IS.</p>"},{"location":"knowledge-base/supported-sap-and-hana-versions/#supported-sap-s4hana-cloud-systems","title":"Supported SAP S/4HANA Cloud Systems","text":"<p>The following table lists all available SAP S/4HANA cloud systems and their compatibility with Xtract IS. SAP S/4HANA Cloud Edition (Cloud ERP):</p> S/4HANA Public Cloud S/4HANA Private Cloud Compatible with Xtract IS: Limitations: - -"},{"location":"knowledge-base/supported-sap-and-hana-versions/#sap-s4hana-on-premise-systems","title":"SAP S/4HANA On Premise Systems","text":"<p>The following table lists all available SAP S/4HANA on premise systems and their compatibility with Xtract IS. SAP S/4HANA AnyPremise (ERP in the Cloud):</p> S/4HANA Private Cloud Managed by SAP (HEC) SAP HEC Customer Edition S/4HANA AnyPremise S/4HANA AnyPremise Additional Information: On-Premises Edition Runs on Customer Data Center Public Cloud (AZURE/AWS/GCP) called ERP in DC (Customer Data Center) Compatible with Xtract IS:"},{"location":"knowledge-base/table-cdc-initial-table-load/","title":"Initial Table Load in SAP Versions < 7.10","text":"<p>The following article shows how to handle the initial table load for delta extractions using the Xtract TableCDC component. The article applies in the following situation:</p> <ul> <li>The Xtract TableCDC component is run on SAP releases &lt; 7.10</li> <li>The option Extract table on first run (Delta initialization) is activated.</li> <li>The delta initialization takes longer than the maximum processing time specified in the SAP profile parameter rdisp/max_wprun_time.</li> <li>The extraction aborts with an error message, e.g., <code>ERPConnect.ABAPRuntimeException: RfcInvoke failed(RFC_ABAP_RUNTIME_FAILURE): TIME_OUT - Time limit exceeded</code>.</li> </ul> <p>Note</p> <p>The custom function module /THEO/READ_TABLE used by the Table CDC component to extract the table does not support background mode on SAP releases &lt; 7.10. The background mode avoids the timeout mentioned above.</p>"},{"location":"knowledge-base/table-cdc-initial-table-load/#recommended-workflow","title":"Recommended Workflow","text":"<ol> <li>Create a Xtract TableCDC extraction. Make sure the option Extract table on first run is deactivated. </li> <li>Run the Xtract TableCDC extraction to initialize the delta extractions. This ensures that no data is missed between table extraction and delta initialization.</li> <li>Create a regular Xtract Table extraction using the Xtract Table component.  Make sure to select an SAP standard function module, e.g., RFC_READ_TABLE. </li> <li>Run the Xtract Table extraction.</li> </ol>"},{"location":"knowledge-base/table-cdc-initial-table-load/#related-links","title":"Related Links","text":"<ul> <li>Documentation: Define the Xtract TableCDC Component.</li> <li>Documentation: Define the Xtract Table Component.</li> <li>Documentation: Xtract Table Settings - Function modules and Background Jobs</li> </ul>"},{"location":"knowledge-base/table-cdc-mechanism/","title":"Delta Mechanism of Table CDC","text":"<p>The following article illustrates the process of delta table extractions using the Xtract TableCDC component.</p>"},{"location":"knowledge-base/table-cdc-mechanism/#table-cdc-process","title":"Table CDC Process","text":"<p>The delta mechanism of Table CDC includes the following processes:</p> <ul> <li>Lookup process to read SAP metadata for the definition of the Table CDC extraction.</li> <li>CDC watch process to create a database trigger on the source table and to create the corresponding log table in SAP.</li> <li>Synchronize data process to run Table CDC extractions regularly.</li> </ul> <p>The depicted graphic illustrates the processes in both Xtract IS and in SAP. Click the graphic to zoom in.</p> <p></p> <p>Tip</p> <p>Use the SAP transaction DB02 to view all triggers of Table CDC log tables in SAP. </p>"},{"location":"knowledge-base/table-extraction-mechanism/","title":"Extraction Mechanism of Table","text":"<p>The following article illustrates the extraction mechanism of the Xtract Table component.</p>"},{"location":"knowledge-base/table-extraction-mechanism/#table-extraction-process","title":"Table Extraction Process","text":"<p>The extraction mechanism of Table includes the following processes:</p> <ul> <li>Lookup process to read SAP metadata for the definition of the Table extraction.</li> <li>Configuration of the Xtract Table component definition.</li> <li>Execution of the asynchron data loading process.</li> </ul> <p>The depicted graphic illustrates the mechanism in both Xtract IS and in SAP. Click the graphic to zoom in.</p> <p></p>"},{"location":"knowledge-base/where-clause-editor-lists/","title":"Working with Lists in the WHERE-Clause Editor","text":"<p>The following article shows how to use lists and SELECT statements in the WHERE Clause Editor of the Xtract Table component. Lists can contain multiple values separated by commas e.g., <code>1,10</code> or <code>\u201c1\u201d, \u201c10\u201d</code>.</p>"},{"location":"knowledge-base/where-clause-editor-lists/#static-lists","title":"Static Lists","text":"<p>The depicted example statement returns all active customers (rows in the table KNA1) that have an address in one of the following cities: Berlin, Stuttgart, Paris, Seattle, Hong Kong or Dongguan.</p> <ol> <li>Create a Xtract Table extraction. </li> <li>Look up the table KNA1, see Documentation: Define the Xtract Table Component.</li> <li>Open the WHERE Clause tab and click [Editor Mode] to open the WHERE clause editor.  </li> <li>Click [Add criteria], then [Default with literal] to create an empty template in the WHERE clause editor.</li> <li>Select the column ORT01 from KNA1 as the data you want to filter.</li> <li>Select IN as the operator. IN is the only operator that can be used for lists.</li> <li>Select List as the type of the static filter value. </li> <li>Click [Press to Edit] in the static value component of the WHERE clause. The window \"Edit List\" opens.</li> <li>Select String as the Type of the list. When working with numbers, select Number.</li> <li>Click [Add] to add items to the list. You can edit items via double-click. </li> <li>Click [OK] to confirm your input.</li> <li>Click [Load live Preview] or run the SSIS package to check the output. When providing values for the list parameter, use multiple values separated by commas e.g., <code>1,10</code> or <code>\u201c1\u201d, \u201c10\u201d</code>.</li> </ol>"},{"location":"knowledge-base/where-clause-editor-lists/#select-statement","title":"SELECT Statement","text":"<p>SELECT statements can be used to select data from SAP tables, see ABAP Documentation: Open SQL SELECT. The depicted example statement returns all active customers (rows in the table KNA1) that have a sales document in the table VBAK for sales document header data.</p> <p>Note</p> <p>The usage of SELECT statements is only possible as of SAP Release 7.40, SP05.</p> <ol> <li>Create a new Xtract Table extraction. </li> <li>Look up the table KNA1, see Documentation: Define the Xtract Table Component.</li> <li>Open the WHERE Clause tab and click [Editor Mode] to open the WHERE clause editor.  </li> <li>Click [Add criteria], then [Default with literal] to create an empty template in the WHERE clause editor.</li> <li>Select the column KUNNR from KNA1 as the data you want to filter.</li> <li>Select IN as the operator. IN is the only operator that can be used for lists.</li> <li>Select List as the type of the static filter value. </li> <li>Click [Press to Edit] in the static value component of the WHERE clause. The window \"Edit List\" opens.</li> <li>Select SELECT as the Type of the list. </li> <li> <p>Enter the following SELECT statement to create a list that contains all items of the column KUNNR from the SAP table VBAK:</p> <pre><code>SELECT KUNNR FROM VBAK\n</code></pre> <p></p> </li> <li> <p>Click [OK] to confirm your input.</p> </li> <li>Click [Load live Preview] or run the SSIS package to check the output.</li> </ol>"},{"location":"knowledge-base/where-clause-editor-lists/#related-links","title":"Related Links","text":"<ul> <li>Documentation: WHERE Clause Editor</li> </ul>"},{"location":"knowledge-base/write-cats-data-to-sap/","title":"Write CATS Data to SAP","text":"<p>The following article shows how to upload CATS data from an SQL server table using the BAPI BAPI_CATIMESHEETMGR_INSERT and the Xtract BAPI component.</p>"},{"location":"knowledge-base/write-cats-data-to-sap/#about-bapi_catimesheetmgr_insert","title":"About BAPI_CATIMESHEETMGR_INSERT","text":"<p>The BAPI BAPI_CATIMESHEETMGR_INSERT creates Time Sheet entries in SAP.</p> <ul> <li>Input: Relevant import parameters are PROFILE and TESTRUN and the table CATSRECORDS_IN.  </li> <li>Output: The results are available in the tables CATSRECORDS_OUT and RETURN.  The RETURN table contains different types of messages, e.g., warnings, information, errors, etc.  </li> </ul>"},{"location":"knowledge-base/write-cats-data-to-sap/#troubleshooting","title":"Troubleshooting","text":"<p>If the input records do not have any errors, the table CATSRECORDS_OUT are populated with the same number of input records, otherwise it does not contain any entries. </p> <p>The ROW fields in the RETURN table can be used to identify errors, see Checking for Errors. Example: If the second and third entries have errors then the ROW of table RETURN will be populated as 2 and 3.</p>"},{"location":"knowledge-base/write-cats-data-to-sap/#input-table","title":"Input Table","text":"<p>When creating input tables, the format (column names and data types) of the table must be compatible with the table parameters of the function module. The depicted example uses the following input table (BAPICATSINPUT) that is stored on an SQL Server:</p> Table FormatTable Content <p></p> <p></p>"},{"location":"knowledge-base/write-cats-data-to-sap/#setup-in-ssis","title":"Setup in SSIS","text":"<ol> <li>Add a data source to your Data Flow Task. The depicted example uses a table stored on an SQL Server, see Input Table.</li> <li>Add an Xtract BAPI component to your Data Flow Task and assign a Connection Manager that contains the connection details to your SAP system. </li> <li>Look up the BAPI BAPI_CATIMESHEETMGR_INSERT.</li> <li>Provide the PROFILE \"TEST\" and TESTRUN \" \" as import parameters. </li> <li>Add the tables CATSRECORD_OUT and RETURN to the output. </li> <li>Connect the input table to the Xtract BAPI component. The window \"Input Output Selection\" opens.</li> <li>Select the table CATSRECORD_IN to map the data from the input table to CATSRECORD_IN. The table fields are mapped automatically. For this, the name and data types of the table columns must match. If the input table and CATSRECORD_IN do not match, add a Deprived Column component between the OLE DB Source and the Xtract BAPI component to format the input table accordingly. </li> <li>Create two OLE DB destinations for the tables CATSRECORDS_OUT and RETURN of the Xtract BAPI component. </li> <li>Run the SSIS package and check the results in SAP (transaction CAT3). </li> </ol>"},{"location":"knowledge-base/write-cats-data-to-sap/#checking-for-errors","title":"Checking for Errors","text":"<p>The ROW fields in the RETURN table can be used to identify errors. Example:</p> <ol> <li>To produce an error, set the the value for ABS_ATT_TYPE in the input table BAPICATSINPUT to 0005. </li> <li>Run the SSIS package. The output table CATSRECORDS_OUT does not have any entries. This means that the data in SAP is not updated.</li> <li>Query the SQL table RETURN to identify the error. The numbers in the ROW column show which rows contain the erroneous records.  The message displayed in the MESSAGE column indicates that the attendance/absence type (0005) is not maintained. </li> </ol> <p>Note</p> <p>When using BAPI_CATIMESHEETMGR_INSERT, note that only records without errors are posted.  If an error occurs during posting, none of the data \u2013 including records without errors \u2013 is posted.  We recommend including only a small number of records in each posting.</p>"},{"location":"knowledge-base/write-cats-data-to-sap/#related-links","title":"Related Links","text":"<ul> <li>Documentation: Xtract BAPI</li> <li>Write Product data using Xtract BAPI</li> </ul>"},{"location":"knowledge-base/write-product-data-to-sap/","title":"Write Product Data to SAP","text":"<p>The following article shows how to use the Xtract BAPI component to write product data to SAP. The depicted example uses the custom function module Z_ECS_PRODUCT_CREATE_MULTI to add new products to SAP. A table that contains the product information and is stored on an SQL Server is used as input for the function module.</p>"},{"location":"knowledge-base/write-product-data-to-sap/#custom-function-module-z_ecs_product_create_multi","title":"Custom Function Module Z_ECS_PRODUCT_CREATE_MULTI","text":"<p>The SAP custom function module Z_ECS_PRODUCT_CREATE_MULTI has a table parameter T_PRODUCTS that can be used for input.  The table has the following structure: </p>"},{"location":"knowledge-base/write-product-data-to-sap/#input-table","title":"Input Table","text":"<p>When creating input tables, the format (column names and data types) of the table must be compatible with the table parameters of the function module. The custom function module Z_ECS_PRODUCT_CREATE_MULTI uses the following SQL server table as input: </p> Input Table for Z_ECS_PRODUCT_CREATE_MULTI<pre><code>CREATE TABLE [SAP Products] (\n    [MANDT] nvarchar(3), \n    [PRODUCTNR] nvarchar(18),\n    [DESCTEXT] nvarchar(40),\n    [PRODTYPE] nvarchar(4),\n    [STOCKQUAN] numeric(18,3),\n    [MEINS] nvarchar(3),\n    [ERDAT] nvarchar(8),\n    [ERZET] nvarchar(6)\n)\n</code></pre> <p>The table has the following content: </p>"},{"location":"knowledge-base/write-product-data-to-sap/#setup-in-ssis","title":"Setup in SSIS","text":"<ol> <li>Add a data source to your Data Flow Task. The depicted example uses a table stored on an SQL Server, see Input Table.</li> <li>Add an Xtract BAPI component to your Data Flow Task and assign a Connection Manager that contains the connection details to your SAP system. </li> <li>Look up the function module Z_ECS_PRODUCT_CREATE_MULTI. </li> <li>Connect the input table to the Xtract BAPI component.  The input table is automatically mapped to the corresponding table in the Xtract BAPI component. </li> <li>Run the SSIS package and check the results in SAP.</li> </ol>"},{"location":"knowledge-base/write-product-data-to-sap/#related-links","title":"Related Links","text":"<ul> <li>Documentation: Xtract BAPI</li> <li>Write CATS data using Xtract BAPI</li> </ul>"}]}