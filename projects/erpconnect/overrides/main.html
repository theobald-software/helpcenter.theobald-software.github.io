{#-
  This file was automatically generated - do not edit
-#}
{% extends "base.html" %}

{% block announce %}
  <p><b>Announcement:</b> This HelpCenter replaces the ERPConnect <a href="https://help.theobald-software.com/en/erpconnect/">Online Help</a> and the <a href="https://kb.theobald-software.com/erpconnect-samples">Knowledge Base</a>!<p>
{% endblock %}

{% block extrahead %}
  <link rel="stylesheet" href="{{ 'assets/stylesheets/custom.00c04c01.min.css' | url }}">
  {% endblock %}

{% block scripts %}
  {{ super() }}
  <script src="{{ 'assets/javascripts/custom.9c11c319.min.js' | url }}"></script>
{% endblock %}

{% block content %}
  {{ super() }}

  <!-- Chatbot -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Integration</title>
    <style>
	
		/* Define the beat animation */
		@keyframes fa-beat {
		  0%, 100% {
			transform: scale(1);
		  }
		  50% {
			transform: scale(1.1);
		  }
		}
		
		/* Apply the animation to the icon */
		.twemoji .fa-beat {
		  animation: fa-beat 1s infinite;
		}
		
        #chatbot_iframe {
			border-color: #ED1A33;
            z-index: 9998; /* Ensure it's above other elements */
        }
		#open_button {
            position: fixed;
            bottom: 0;
            right: 0;
            margin: 20px;
            cursor: pointer;
			padding: 10px 20px; /* Adjust padding */
			width: 80px; /* Fixed width for both buttons */
            height: 80px; /* Adjust height */
            border-radius: 40px; /* Rounded corners */
        }
		#open_button:hover {
		  background-color: #891A33;
		  border-color: #891A33;
		}
		#container {
		  position: fixed;
		  width: 350px;
		  height: 400px;
          bottom: 20px; /* Adjust as needed */
          right: 20px; /* Adjust as needed */
		}
		#banner{
		  position: absolute;
		  top: 0;
		  left: 0;
		  width: 100%;
		  height: 50px;
		  background-color: #ED1A33;
		  align-items: center;
          display: flex;
    }
		#resize-handler {
          z-index: 99999;
          position: absolute;
          top: 5px;
          left: 5px;
          width: 0;
		  height: 0;
		  border-top: 12px solid transparent;
		  border-left: 12px solid white;
		  transform: rotate(90deg);
		  opacity: 0.5;
          cursor: nwse-resize;
    }
		#close_button {
            position: absolute; 
			right: 10px; 
			color: white;
        }
		#close_button:hover {
		  background-color: #891A33;
		  border-color: #891A33;
		}
    </style>
</head>
<body>

<script>
    function openChatbot() {
        var chatbotIframe = document.getElementById("container");
        chatbotIframe.style.display = "block"; // Show the chatbot iframe
		document.getElementById("open_button").style.display = "none"; // Hide the open button
    }

    function closeChatbot() {
       var chatbotIframe = document.getElementById("container");
       chatbotIframe.style.display = "none"; // Hide the chatbot iframe
	   document.getElementById("open_button").style.display = "block"; // Show the open button
    }
</script>

<!-- Open button -->
<button class="btn-clear md-button md-button--primary" title="Open Chatbot" id="open_button" onclick="openChatbot()">
<span class="twemoji" style="font-size: 35px";"><div class="fa-beat" style="margin-top: -5px;">{% include ".icons/fontawesome/solid/comments.svg" %} </div></span></button>

<!-- Chatbot Container -->
<div id="container" style="display: none;">
   <iframe id="chatbot_iframe" src="https://helpcenter.theobald-software.com/erpconnect/theo-chatbot.html" frameborder="1" style="width: 100%; height: 100%;"></iframe>
   <div id="resize-handler"></div>
   <div id="banner"">
		<p style="font-family: inherit; font-size: 16px; color: white; line-height: 20px; position: absolute; left: 15px;">Theo Chatbot</p>
		<button id="close_button" onclick="closeChatbot()" title="Close Chatbot" style="position: absolute; right: 10px; color: white"><span class="twemoji" style="font-size: 20px">{% include ".icons/material/close.svg" %} </span></button> 
	</div>
</div>
</body>
</html>
<script>
  // Get the container and resize handler elements
  const container = document.getElementById("container");
  const resizeHandler = document.getElementById("resize-handler");

  // Function to handle resizing based on mouse movement
  function resizeContainer(event) {
    // Calculate the new width and height based on mouse movement
    const newWidth = container.offsetLeft + container.offsetWidth - event.clientX;
    const newHeight = container.offsetTop + container.offsetHeight - event.clientY;

    // Update container width and height
    container.style.width = newWidth + "px";
    container.style.height = newHeight + "px";
  }

  // Event listener for mouse down on resize handler
  resizeHandler.addEventListener("mousedown", function(event) {
    // Prevent default behavior of the resize handler
    event.preventDefault();

    // Add event listeners for mousemove and mouseup events
    document.addEventListener("mousemove", resizeContainer);
    document.addEventListener("mouseup", function() {
      // Remove event listeners when mouse button is released
      document.removeEventListener("mousemove", resizeContainer);
    });
  });
</script>
{% endblock %}
